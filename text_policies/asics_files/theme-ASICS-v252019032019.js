
$(document).on("mobileinit",function(){$.mobile.ignoreContentEnabled=true;$.mobile.loader.prototype.options.disabled=true;$.extend($.mobile,{activePageClass:"",activeBtnClass:"",autoInitializePage:false,pageLoadErrorMessage:"",subPageUrlKey:""});});

(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else{factory(jQuery);}}(function($){$.ui=$.ui||{};$.extend($.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({scrollParent:function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false;}
return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"));}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent;},uniqueId:(function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});};})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap='#"+mapName+"']")[0];return!!img&&visible(img);}
return(/^(input|select|textarea|button|object)$/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),disableSelection:(function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(eventType+".ui-disableSelection",function(event){event.preventDefault();});};})(),enableSelection:function(){return this.unbind(".ui-disableSelection");},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;}});$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return;}
if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}};var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove");}}catch(e){}}
orig(elems);};})($.cleanData);$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=widget_slice.call(arguments,1),returnValue=this;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false;}
if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args));}
this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widget_uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!value);if(value){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}}
return this;},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+
this.eventNamespace;element.unbind(eventName).undelegate(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});var widget=$.widget;var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});var mouse=$.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}else if(!event.which){return this._mouseUp(event);}}
if(event.which||event.button){this._mouseMoved=true;}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
mouseHandled=false;return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});(function(){$.ui=$.ui||{};var cachedScrollbarWidth,supportsOffsetFractions,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow||isDocument?withinElement.width():withinElement.outerWidth(),height:isWindow||isDocument?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];if(!supportsOffsetFractions){position.left=round(position.left);position.top=round(position.top);}
collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;supportsOffsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();})();var position=$.ui.position;var menu=$.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true");}
this._on({"mousedown .ui-menu-item":function(event){event.preventDefault();},"click .ui-menu-item":function(event){var target=$(event.target);if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true;}
if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){if(this.previousFilter){return;}
var target=$(event.currentTarget);target.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove();}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");},_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
match=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character);}
if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.is("[aria-haspopup='true']")){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,items,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.parent(),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"));});menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".ui-menu-item").each(function(){var item=$(this);if(that._isDivider(item)){item.addClass("ui-widget-content ui-menu-divider");}});items.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});items.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu);}
if(key==="disabled"){this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value);}
this._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.addClass("ui-state-focus").removeClass("ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&event&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this.active.removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active");},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length;},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text());},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.find(this.options.items)[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items)
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items).first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).text()));});}});$.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea?true:isInput?false:this.element.prop("isContentEditable");this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return;}
suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event);}
break;case keyCode.TAB:if(this.menu.active){this.menu.select(event);}
break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term);}
this.close(event);event.preventDefault();}
break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break;}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault();}
return;}
if(suppressKeyPressRepeat){return;}
var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break;}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return;}
this._searchTimeout(event);},focus:function(){this.selectedItem=null;this.previous=this._value();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
clearTimeout(this.searching);this.close(event);this._change(event);}});this._initSource();this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length){this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target)){that.close();}});});}},menufocus:function(event,ui){var label,item;if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent);});return;}}
item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value);}}
label=ui.item.attr("aria-label")||item.value;if(label&&$.trim(label).length){this.liveRegion.children().hide();$("<div>").text(label).appendTo(this.liveRegion);}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item;});}
if(false!==this._trigger("select",event,{item:item})){this._value(item.value);}
this.term=this._value();this.close(event);this.selectedItem=item;}});this.liveRegion=$("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove();},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource();}
if(key==="appendTo"){this.menu.element.appendTo(this._appendTo());}
if(key==="disabled"&&value&&this.xhr){this.xhr.abort();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element||!element[0]){element=this.element.closest(".ui-front");}
if(!element.length){element=this.document[0].body;}
return element;},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort();}
that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data);},error:function(){response([]);}});};}else{this.source=this.options.source;}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;if(!equalValues||(equalValues&&!menuVisible&&!modifierKey)){this.selectedItem=null;this.search(null,event);}},this.options.delay);},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event);}
if(this._trigger("search",event)===false){return;}
return this._search(value);},_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response());},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex){this.__response(content);}
this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading");}},this);},__response:function(content){if(content){content=this._normalize(content);}
this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open");}else{this._close();}},close:function(event){this.cancelSearch=true;this._close(event);},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event);}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem});}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items;}
return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item};}
return $.extend({},item,{label:item.label||item.value,value:item.value||item.label});});},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next();}},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item);},_renderItem:function(ul,item){return $("<li>").text(item.label).appendTo(ul);},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return;}
if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){if(!this.isMultiLine){this._value(this.term);}
this.menu.blur();return;}
this.menu[direction](event);},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault();}}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return;}
if(content&&content.length){message=this.options.messages.results(content.length);}else{message=this.options.messages.noResults;}
this.liveRegion.children().hide();$("<div>").text(message).appendTo(this.liveRegion);}});var autocomplete=$.ui.autocomplete;$.extend($.ui,{datepicker:{version:"1.11.4"}});var datepicker_instActive;function datepicker_getZindex(elem){var position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}
return 0;}
function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.regional.en=$.extend(true,{},this.regional[""]);this.regional["en-US"]=$.extend(true,{},this.regional.en);this.dpDiv=datepicker_bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){datepicker_extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:datepicker_bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(inst);$.data(target,"datepicker",inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.focus(this._showDatepicker);}
if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,"datepicker",inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],"datepicker",inst);}
datepicker_extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
$.data(this._dialogInput[0],"datepicker",inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();$.removeData(target,"datepicker");if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}
if(datepicker_instActive===inst){datepicker_instActive=null;}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
return false;},_getInst:function(target){try{return $.data(target,"datepicker");}
catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
if(inst){if(this._curInst===inst){this._hideDatepicker();}
date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");datepicker_extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}
catch(err){}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
datepicker_extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.css("z-index",datepicker_getZindex($(input))+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
if($.datepicker._shouldFocusInput(inst)){inst.input.focus();}
$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;datepicker_instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17,activeCell=inst.dpDiv.find("."+this._dayOverClass+" a");if(activeCell.length>0){datepicker_handleMouseover.apply(activeCell.get(0));}
inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.focus();}
if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,"datepicker"))){return;}
if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
if(!showAnim){postProcess();}
this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.focus();}
this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr);});}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}
value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),minSize=(match==="y"?size:1),digits=new RegExp("^\\d{"+minSize+","+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue;}
iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw"Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}
iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
break;default:checkLiteral();}}}
if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
month++;day-=dim;}while(true);}
date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date";}
return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return"";}
var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}
catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false;}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";dow;for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
calender+="'>";}
calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th scope='col'"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
(otherMonth?" ui-datepicker-other-month":"")+
((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+"</tr>";}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+="</tbody></table>"+(isMultiMonth?"</div>"+
((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
html+=group;}
html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>";}}
monthHtml+="</select>";}
if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
(year===drawYear?" selected='selected'":"")+">"+year+"</option>";}
inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period==="Y"?offset:0),month=inst.drawMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).delegate(selector,"mouseover",datepicker_handleMouseover);}
function datepicker_handleMouseover(){if(!$.datepicker._isDisabledDatepicker(datepicker_instActive.inline?datepicker_instActive.dpDiv.parent()[0]:datepicker_instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}}
function datepicker_extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
return target;}
$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick);$.datepicker.initialized=true;}
if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.11.4";var datepicker=$.datepicker;var progressbar=$.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue();},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();},value:function(newValue){if(newValue===undefined){return this.options.value;}
this.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function(newValue){if(newValue===undefined){newValue=this.options.value;}
this.indeterminate=newValue===false;if(typeof newValue!=="number"){newValue=0;}
return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function(options){var value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function(key,value){if(key==="max"){value=Math.max(this.min,value);}
if(key==="disabled"){this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value);}
this._super(key,value);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv);}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}
if(this.oldValue!==value){this.oldValue=value;this._trigger("change");}
if(value===this.options.max){this._trigger("complete");}}});var tooltip=$.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_addDescribedBy:function(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")));},_removeDescribedBy:function(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}
elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable();}
this.liveRegion=$("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);},_setOption:function(key,value){var that=this;if(key==="disabled"){this[value?"_disable":"_enable"]();this.options[key]=value;return;}
this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,tooltipData){that._updateContent(tooltipData.element);});}},_disable:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur");event.target=event.currentTarget=tooltipData.element[0];that.close(event,true);});this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.is("[title]")){element.data("ui-tooltip-title",element.attr("title")).removeAttr("title");}});},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}
if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}
target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}
if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}
this._registerCloseHandlers(event,target);this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"){return this._open(event,target,contentOption);}
content=contentOption.call(target[0],function(response){that._delay(function(){if(!target.data("ui-tooltip-open")){return;}
if(event){event.type=eventType;}
this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltipData,tooltip,delayedShow,a11yContent,positionOption=$.extend({},this.options.position);if(!content){return;}
tooltipData=this._find(target);if(tooltipData){tooltipData.tooltip.find(".ui-tooltip-content").html(content);return;}
if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}
tooltipData=this._tooltip(target);tooltip=tooltipData.tooltip;this._addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);this.liveRegion.children().hide();if(content.clone){a11yContent=content.clone();a11yContent.removeAttr("id").find("[id]").removeAttr("id");}else{a11yContent=content;}
$("<div>").html(a11yContent).appendTo(this.liveRegion);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}
tooltip.position(positionOption);}
if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}
tooltip.hide();this._show(tooltip,this.options.show);if(this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}
this._trigger("open",event,{tooltip:tooltip});},_registerCloseHandlers:function(event,target){var events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}}};if(target[0]!==this.element[0]){events.remove=function(){this._removeTooltip(this._find(target).tooltip);};}
if(!event||event.type==="mouseover"){events.mouseleave="close";}
if(!event||event.type==="focusin"){events.focusout="close";}
this._on(true,target,events);},close:function(event){var tooltip,that=this,target=$(event?event.currentTarget:this.element),tooltipData=this._find(target);if(!tooltipData){target.removeData("ui-tooltip-open");return;}
tooltip=tooltipData.tooltip;if(tooltipData.closing){return;}
clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")&&!target.attr("title")){target.attr("title",target.data("ui-tooltip-title"));}
this._removeDescribedBy(target);tooltipData.hiding=true;tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}
this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}
tooltipData.closing=true;this._trigger("close",event,{tooltip:tooltip});if(!tooltipData.hiding){tooltipData.closing=false;}},_tooltip:function(element){var tooltip=$("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+
(this.options.tooltipClass||"")),id=tooltip.uniqueId().attr("id");$("<div>").addClass("ui-tooltip-content").appendTo(tooltip);tooltip.appendTo(this.document[0].body);return this.tooltips[id]={element:element,tooltip:tooltip};},_find:function(target){var id=target.data("ui-tooltip-id");return id?this.tooltips[id]:null;},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_destroy:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur"),element=tooltipData.element;event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){if(!element.attr("title")){element.attr("title",element.data("ui-tooltip-title"));}
element.removeData("ui-tooltip-title");}});this.liveRegion.remove();}});}));

(function(root,doc,factory){if(typeof define==="function"&&define.amd){define(["jquery"],function($){factory($,root,doc);return $.mobile;});}else{factory(root.jQuery,root,doc);}}(this,document,function(jQuery,window,document,undefined){(function($,window,document,undefined){var dataPropertyName="virtualMouseBindings",touchTargetPropertyName="virtualTouchID",virtualEventNames="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),touchEventProps="clientX clientY pageX pageY screenX screenY".split(" "),mouseHookProps=$.event.mouseHooks?$.event.mouseHooks.props:[],mouseEventProps=$.event.props.concat(mouseHookProps),activeDocHandlers={},resetTimerID=0,startX=0,startY=0,didScroll=false,clickBlockList=[],blockMouseTriggers=false,blockTouchTriggers=false,eventCaptureSupported="addEventListener"in document,$document=$(document),nextTouchID=1,lastTouchID=0,threshold,i;$.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function getNativeEvent(event){while(event&&typeof event.originalEvent!=="undefined"){event=event.originalEvent;}
return event;}
function createVirtualEvent(event,eventType){var t=event.type,oe,props,ne,prop,ct,touch,i,j,len;event=$.Event(event);event.type=eventType;oe=event.originalEvent;props=$.event.props;if(t.search(/^(mouse|click)/)>-1){props=mouseEventProps;}
if(oe){for(i=props.length,prop;i;){prop=props[--i];event[prop]=oe[prop];}}
if(t.search(/mouse(down|up)|click/)>-1&&!event.which){event.which=1;}
if(t.search(/^touch/)!==-1){ne=getNativeEvent(oe);t=ne.touches;ct=ne.changedTouches;touch=(t&&t.length)?t[0]:((ct&&ct.length)?ct[0]:undefined);if(touch){for(j=0,len=touchEventProps.length;j<len;j++){prop=touchEventProps[j];event[prop]=touch[prop];}}}
return event;}
function getVirtualBindingFlags(element){var flags={},b,k;while(element){b=$.data(element,dataPropertyName);for(k in b){if(b[k]){flags[k]=flags.hasVirtualBinding=true;}}
element=element.parentNode;}
return flags;}
function getClosestElementWithVirtualBinding(element,eventType){var b;while(element){b=$.data(element,dataPropertyName);if(b&&(!eventType||b[eventType])){return element;}
element=element.parentNode;}
return null;}
function enableTouchBindings(){blockTouchTriggers=false;}
function disableTouchBindings(){blockTouchTriggers=true;}
function enableMouseBindings(){lastTouchID=0;clickBlockList.length=0;blockMouseTriggers=false;disableTouchBindings();}
function disableMouseBindings(){enableTouchBindings();}
function startResetTimer(){clearResetTimer();resetTimerID=setTimeout(function(){resetTimerID=0;enableMouseBindings();},$.vmouse.resetTimerDuration);}
function clearResetTimer(){if(resetTimerID){clearTimeout(resetTimerID);resetTimerID=0;}}
function triggerVirtualEvent(eventType,event,flags){var ve;if((flags&&flags[eventType])||(!flags&&getClosestElementWithVirtualBinding(event.target,eventType))){ve=createVirtualEvent(event,eventType);$(event.target).trigger(ve);}
return ve;}
function mouseEventCallback(event){var touchID=$.data(event.target,touchTargetPropertyName),ve;if(!blockMouseTriggers&&(!lastTouchID||lastTouchID!==touchID)){ve=triggerVirtualEvent("v"+event.type,event);if(ve){if(ve.isDefaultPrevented()){event.preventDefault();}
if(ve.isPropagationStopped()){event.stopPropagation();}
if(ve.isImmediatePropagationStopped()){event.stopImmediatePropagation();}}}}
function handleTouchStart(event){var touches=getNativeEvent(event).touches,target,flags,t;if(touches&&touches.length===1){target=event.target;flags=getVirtualBindingFlags(target);if(flags.hasVirtualBinding){lastTouchID=nextTouchID++;$.data(target,touchTargetPropertyName,lastTouchID);clearResetTimer();disableMouseBindings();didScroll=false;t=getNativeEvent(event).touches[0];startX=t.pageX;startY=t.pageY;triggerVirtualEvent("vmouseover",event,flags);triggerVirtualEvent("vmousedown",event,flags);}}}
function handleScroll(event){if(blockTouchTriggers){return;}
if(!didScroll){triggerVirtualEvent("vmousecancel",event,getVirtualBindingFlags(event.target));}
didScroll=true;startResetTimer();}
function handleTouchMove(event){if(blockTouchTriggers){return;}
var t=getNativeEvent(event).touches[0],didCancel=didScroll,moveThreshold=$.vmouse.moveDistanceThreshold,flags=getVirtualBindingFlags(event.target);didScroll=didScroll||(Math.abs(t.pageX-startX)>moveThreshold||Math.abs(t.pageY-startY)>moveThreshold);if(didScroll&&!didCancel){triggerVirtualEvent("vmousecancel",event,flags);}
triggerVirtualEvent("vmousemove",event,flags);startResetTimer();}
function handleTouchEnd(event){if(blockTouchTriggers){return;}
disableTouchBindings();var flags=getVirtualBindingFlags(event.target),ve,t;triggerVirtualEvent("vmouseup",event,flags);if(!didScroll){ve=triggerVirtualEvent("vclick",event,flags);if(ve&&ve.isDefaultPrevented()){t=getNativeEvent(event).changedTouches[0];clickBlockList.push({touchID:lastTouchID,x:t.clientX,y:t.clientY});blockMouseTriggers=true;}}
triggerVirtualEvent("vmouseout",event,flags);didScroll=false;startResetTimer();}
function hasVirtualBindings(ele){var bindings=$.data(ele,dataPropertyName),k;if(bindings){for(k in bindings){if(bindings[k]){return true;}}}
return false;}
function dummyMouseHandler(){}
function getSpecialEventObject(eventType){var realType=eventType.substr(1);return{setup:function(){if(!hasVirtualBindings(this)){$.data(this,dataPropertyName,{});}
var bindings=$.data(this,dataPropertyName);bindings[eventType]=true;activeDocHandlers[eventType]=(activeDocHandlers[eventType]||0)+1;if(activeDocHandlers[eventType]===1){$document.bind(realType,mouseEventCallback);}
$(this).bind(realType,dummyMouseHandler);if(eventCaptureSupported){activeDocHandlers["touchstart"]=(activeDocHandlers["touchstart"]||0)+1;if(activeDocHandlers["touchstart"]===1){$document.bind("touchstart",handleTouchStart).bind("touchend",handleTouchEnd).bind("touchmove",handleTouchMove).bind("scroll",handleScroll);}}},teardown:function(){--activeDocHandlers[eventType];if(!activeDocHandlers[eventType]){$document.unbind(realType,mouseEventCallback);}
if(eventCaptureSupported){--activeDocHandlers["touchstart"];if(!activeDocHandlers["touchstart"]){$document.unbind("touchstart",handleTouchStart).unbind("touchmove",handleTouchMove).unbind("touchend",handleTouchEnd).unbind("scroll",handleScroll);}}
var $this=$(this),bindings=$.data(this,dataPropertyName);if(bindings){bindings[eventType]=false;}
$this.unbind(realType,dummyMouseHandler);if(!hasVirtualBindings(this)){$this.removeData(dataPropertyName);}}};}
for(i=0;i<virtualEventNames.length;i++){$.event.special[virtualEventNames[i]]=getSpecialEventObject(virtualEventNames[i]);}
if(eventCaptureSupported){document.addEventListener("click",function(e){var cnt=clickBlockList.length,target=e.target,x,y,ele,i,o,touchID;if(cnt){x=e.clientX;y=e.clientY;threshold=$.vmouse.clickDistanceThreshold;ele=target;while(ele){for(i=0;i<cnt;i++){o=clickBlockList[i];touchID=0;if((ele===target&&Math.abs(o.x-x)<threshold&&Math.abs(o.y-y)<threshold)||$.data(ele,touchTargetPropertyName)===o.touchID){e.preventDefault();e.stopPropagation();return;}}
ele=ele.parentNode;}}},true);}})(jQuery,window,document);(function($){$.mobile={};}(jQuery));(function($,undefined){var support={touch:"ontouchend"in document};$.mobile.support=$.mobile.support||{};$.extend($.support,support);$.extend($.mobile.support,support);}(jQuery));(function($,window,undefined){var $document=$(document),supportTouch=$.mobile.support.touch,scrollEvent="touchmove scroll",touchStartEvent=supportTouch?"touchstart":"mousedown",touchStopEvent=supportTouch?"touchend":"mouseup",touchMoveEvent=supportTouch?"touchmove":"mousemove";$.each(("touchstart touchmove touchend "+"tap taphold "+"swipe swipeleft swiperight "+"scrollstart scrollstop").split(" "),function(i,name){$.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name);};if($.attrFn){$.attrFn[name]=true;}});function triggerCustomEvent(obj,eventType,event,bubble){var originalType=event.type;event.type=eventType;if(bubble){$.event.trigger(event,undefined,obj);}else{$.event.dispatch.call(obj,event);}
event.type=originalType;}
$.event.special.scrollstart={enabled:true,setup:function(){var thisObject=this,$this=$(thisObject),scrolling,timer;function trigger(event,state){scrolling=state;triggerCustomEvent(thisObject,scrolling?"scrollstart":"scrollstop",event);}
$this.bind(scrollEvent,function(event){if(!$.event.special.scrollstart.enabled){return;}
if(!scrolling){trigger(event,true);}
clearTimeout(timer);timer=setTimeout(function(){trigger(event,false);},50);});},teardown:function(){$(this).unbind(scrollEvent);}};$.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:true,setup:function(){var thisObject=this,$this=$(thisObject),isTaphold=false;$this.bind("vmousedown",function(event){isTaphold=false;if(event.which&&event.which!==1){return false;}
var origTarget=event.target,timer;function clearTapTimer(){clearTimeout(timer);}
function clearTapHandlers(){clearTapTimer();$this.unbind("vclick",clickHandler).unbind("vmouseup",clearTapTimer);$document.unbind("vmousecancel",clearTapHandlers);}
function clickHandler(event){clearTapHandlers();if(!isTaphold&&origTarget===event.target){triggerCustomEvent(thisObject,"tap",event);}else if(isTaphold){event.preventDefault();}}
$this.bind("vmouseup",clearTapTimer).bind("vclick",clickHandler);$document.bind("vmousecancel",clearTapHandlers);timer=setTimeout(function(){if(!$.event.special.tap.emitTapOnTaphold){isTaphold=true;}
triggerCustomEvent(thisObject,"taphold",$.Event("taphold",{target:origTarget}));},$.event.special.tap.tapholdThreshold);});},teardown:function(){$(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup");$document.unbind("vmousecancel");}};$.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(event){var winPageX=window.pageXOffset,winPageY=window.pageYOffset,x=event.clientX,y=event.clientY;if(event.pageY===0&&Math.floor(y)>Math.floor(event.pageY)||event.pageX===0&&Math.floor(x)>Math.floor(event.pageX)){x=x-winPageX;y=y-winPageY;}else if(y<(event.pageY-winPageY)||x<(event.pageX-winPageX)){x=event.pageX-winPageX;y=event.pageY-winPageY;}
return{x:x,y:y};},start:function(event){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event,location=$.event.special.swipe.getLocation(data);return{time:(new Date()).getTime(),coords:[location.x,location.y],origin:$(event.target)};},stop:function(event){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event,location=$.event.special.swipe.getLocation(data);return{time:(new Date()).getTime(),coords:[location.x,location.y]};},handleSwipe:function(start,stop,thisObject,origTarget){if(stop.time-start.time<$.event.special.swipe.durationThreshold&&Math.abs(start.coords[0]-stop.coords[0])>$.event.special.swipe.horizontalDistanceThreshold&&Math.abs(start.coords[1]-stop.coords[1])<$.event.special.swipe.verticalDistanceThreshold){var direction=start.coords[0]>stop.coords[0]?"swipeleft":"swiperight";triggerCustomEvent(thisObject,"swipe",$.Event("swipe",{target:origTarget,swipestart:start,swipestop:stop}),true);triggerCustomEvent(thisObject,direction,$.Event(direction,{target:origTarget,swipestart:start,swipestop:stop}),true);return true;}
return false;},eventInProgress:false,setup:function(){var events,thisObject=this,$this=$(thisObject),context={};events=$.data(this,"mobile-events");if(!events){events={length:0};$.data(this,"mobile-events",events);}
events.length++;events.swipe=context;context.start=function(event){if($.event.special.swipe.eventInProgress){return;}
$.event.special.swipe.eventInProgress=true;var stop,start=$.event.special.swipe.start(event),origTarget=event.target,emitted=false;context.move=function(event){if(!start||event.isDefaultPrevented()){return;}
stop=$.event.special.swipe.stop(event);if(!emitted){emitted=$.event.special.swipe.handleSwipe(start,stop,thisObject,origTarget);if(emitted){$.event.special.swipe.eventInProgress=false;}}
if(Math.abs(start.coords[0]-stop.coords[0])>$.event.special.swipe.scrollSupressionThreshold){event.preventDefault();}};context.stop=function(){emitted=true;$.event.special.swipe.eventInProgress=false;$document.off(touchMoveEvent,context.move);context.move=null;};$document.on(touchMoveEvent,context.move).one(touchStopEvent,context.stop);};$this.on(touchStartEvent,context.start);},teardown:function(){var events,context;events=$.data(this,"mobile-events");if(events){context=events.swipe;delete events.swipe;events.length--;if(events.length===0){$.removeData(this,"mobile-events");}}
if(context){if(context.start){$(this).off(touchStartEvent,context.start);}
if(context.move){$document.off(touchMoveEvent,context.move);}
if(context.stop){$document.off(touchStopEvent,context.stop);}}}};$.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(event,sourceEvent){$.event.special[event]={setup:function(){$(this).bind(sourceEvent,$.noop);},teardown:function(){$(this).unbind(sourceEvent);}};});})(jQuery,this);}));

if(typeof jQuery==="undefined"){throw new Error("Bootstrap requires jQuery")}
+function($){"use strict";function transitionEnd(){var el=document.createElement('bootstrap')
var transEndEventNames={'WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','OTransition':'oTransitionEnd otransitionend','transition':'transitionend'}
for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}}
$.fn.emulateTransitionEnd=function(duration){var called=false,$el=this
$(this).one($.support.transition.end,function(){called=true})
var callback=function(){if(!called)$($el).trigger($.support.transition.end)}
setTimeout(callback,duration)
return this}
$(function(){$.support.transition=transitionEnd()})}(jQuery);+function($){"use strict";var dismiss='[data-dismiss="alert"]'
var Alert=function(el){$(el).on('click',dismiss,this.close)}
Alert.prototype.close=function(e){var $this=$(this)
var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
var $parent=$(selector)
if(e)e.preventDefault()
if(!$parent.length){$parent=$this.hasClass('alert')?$this:$this.parent()}
$parent.trigger(e=$.Event('close.bs.alert'))
if(e.isDefaultPrevented())return
$parent.removeClass('in')
function removeElement(){$parent.trigger('closed.bs.alert').remove()}
$.support.transition&&$parent.hasClass('fade')?$parent.one($.support.transition.end,removeElement).emulateTransitionEnd(150):removeElement()}
var old=$.fn.alert
$.fn.alert=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.alert')
if(!data)$this.data('bs.alert',(data=new Alert(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.alert.Constructor=Alert
$.fn.alert.noConflict=function(){$.fn.alert=old
return this}
$(document).on('click.bs.alert.data-api',dismiss,Alert.prototype.close)}(jQuery);+function($){"use strict";var Button=function(element,options){this.$element=$(element)
this.options=$.extend({},Button.DEFAULTS,options)}
Button.DEFAULTS={loadingText:'loading...'}
Button.prototype.setState=function(state){var d='disabled'
var $el=this.$element
var val=$el.is('input')?'val':'html'
var data=$el.data()
state=state+'Text'
if(!data.resetText)$el.data('resetText',$el[val]())
$el[val](data[state]||this.options[state])
setTimeout(function(){state=='loadingText'?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d);},0)}
Button.prototype.toggle=function(){var $parent=this.$element.closest('[data-toggle="buttons"]')
var changed=true
if($parent.length){var $input=this.$element.find('input')
if($input.prop('type')==='radio'){if($input.prop('checked')&&this.$element.hasClass('active'))
changed=false
else
$parent.find('.active').removeClass('active')}
if(changed)$input.prop('checked',!this.$element.hasClass('active')).trigger('change')}
if(changed)this.$element.toggleClass('active')}
var old=$.fn.button
$.fn.button=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.button')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.button',(data=new Button(this,options)))
if(option=='toggle')data.toggle()
else if(option)data.setState(option)})}
$.fn.button.Constructor=Button
$.fn.button.noConflict=function(){$.fn.button=old
return this}
$(document).on('click.bs.button.data-api','[data-toggle^=button]',function(e){var $btn=$(e.target)
if(!$btn.hasClass('btn'))$btn=$btn.closest('.btn')
$btn.button('toggle')
e.preventDefault()})}(jQuery);+function($){"use strict";var Carousel=function(element,options){this.$element=$(element)
this.$indicators=this.$element.find('.carousel-indicators')
this.options=options
this.paused=this.sliding=this.interval=this.$active=this.$items=null
this.options.pause=='hover'&&this.$element.on('mouseenter',$.proxy(this.pause,this)).on('mouseleave',$.proxy(this.cycle,this))}
Carousel.DEFAULTS={interval:5000,pause:'hover',wrap:true}
Carousel.prototype.cycle=function(e){e||(this.paused=false)
this.interval&&clearInterval(this.interval)
this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval))
return this}
Carousel.prototype.getActiveIndex=function(){this.$active=this.$element.find('.item.active')
this.$items=this.$active.parent().children()
return this.$items.index(this.$active)}
Carousel.prototype.to=function(pos){var that=this
var activeIndex=this.getActiveIndex()
if(pos>(this.$items.length-1)||pos<0)return
if(this.sliding)return this.$element.one('slid.bs.carousel',function(){that.to(pos)})
if(activeIndex==pos)return this.pause().cycle()
return this.slide(pos>activeIndex?'next':'prev',$(this.$items[pos]))}
Carousel.prototype.pause=function(e){e||(this.paused=true)
if(this.$element.find('.next, .prev').length&&$.support.transition.end){this.$element.trigger($.support.transition.end)
this.cycle(true)}
this.interval=clearInterval(this.interval)
return this}
Carousel.prototype.next=function(){if(this.sliding)return
return this.slide('next')}
Carousel.prototype.prev=function(){if(this.sliding)return
return this.slide('prev')}
Carousel.prototype.slide=function(type,next){var $active=this.$element.find('.item.active')
var $next=next||$active[type]()
var isCycling=this.interval
var direction=type=='next'?'left':'right'
var fallback=type=='next'?'first':'last'
var that=this
if(!$next.length){if(!this.options.wrap)return
$next=this.$element.find('.item')[fallback]()}
this.sliding=true
isCycling&&this.pause()
var e=$.Event('slide.bs.carousel',{relatedTarget:$next[0],direction:direction})
if($next.hasClass('active'))return
if(this.$indicators.length){this.$indicators.find('.active').removeClass('active')
this.$element.one('slid.bs.carousel',function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()])
$nextIndicator&&$nextIndicator.addClass('active')})}
if($.support.transition&&this.$element.hasClass('slide')){this.$element.trigger(e)
if(e.isDefaultPrevented())return
$next.addClass(type)
$next[0].offsetWidth
$active.addClass(direction)
$next.addClass(direction)
$active.one($.support.transition.end,function(){$next.removeClass([type,direction].join(' ')).addClass('active')
$active.removeClass(['active',direction].join(' '))
that.sliding=false
setTimeout(function(){that.$element.trigger('slid.bs.carousel')},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(e)
if(e.isDefaultPrevented())return
$active.removeClass('active')
$next.addClass('active')
this.sliding=false
this.$element.trigger('slid.bs.carousel')}
isCycling&&this.cycle()
return this}
var old=$.fn.carousel
$.fn.carousel=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.carousel')
var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=='object'&&option)
var action=typeof option=='string'?option:options.slide
if(!data)$this.data('bs.carousel',(data=new Carousel(this,options)))
if(typeof option=='number')data.to(option)
else if(action)data[action]()
else if(options.interval)data.pause().cycle()})}
$.fn.carousel.Constructor=Carousel
$.fn.carousel.noConflict=function(){$.fn.carousel=old
return this}
$(document).on('click.bs.carousel.data-api','[data-slide], [data-slide-to]',function(e){var $this=$(this),href
var $target=$($this.attr('data-target')||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''))
var options=$.extend({},$target.data(),$this.data())
var slideIndex=$this.attr('data-slide-to')
if(slideIndex)options.interval=false
$target.carousel(options)
if(slideIndex=$this.attr('data-slide-to')){$target.data('bs.carousel').to(slideIndex)}
e.preventDefault()})
$(window).on('load',function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this)
$carousel.carousel($carousel.data())})})}(jQuery);+function($){"use strict";var Collapse=function(element,options){this.$element=$(element)
this.options=$.extend({},Collapse.DEFAULTS,options)
this.transitioning=null
if(this.options.parent)this.$parent=$(this.options.parent)
if(this.options.toggle)this.toggle()}
Collapse.DEFAULTS={toggle:true}
Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass('width')
return hasWidth?'width':'height'}
Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass('in'))return
var startEvent=$.Event('show.bs.collapse')
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
var actives=this.$parent&&this.$parent.find('> .panel > .in')
if(actives&&actives.length){var hasData=actives.data('bs.collapse')
if(hasData&&hasData.transitioning)return
actives.collapse('hide')
hasData||actives.data('bs.collapse',null)}
var dimension=this.dimension()
this.$element.removeClass('collapse').addClass('collapsing')
[dimension](0)
this.transitioning=1
var complete=function(){this.$element.removeClass('collapsing').addClass('in')
[dimension]('auto')
this.transitioning=0
this.$element.trigger('shown.bs.collapse')}
if(!$.support.transition)return complete.call(this)
var scrollSize=$.camelCase(['scroll',dimension].join('-'))
this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)
[dimension](this.$element[0][scrollSize])}
Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass('in'))return
var startEvent=$.Event('hide.bs.collapse')
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
var dimension=this.dimension()
this.$element
[dimension](this.$element[dimension]())
[0].offsetHeight
this.$element.addClass('collapsing').removeClass('collapse').removeClass('in')
this.transitioning=1
var complete=function(){this.transitioning=0
this.$element.trigger('hidden.bs.collapse').removeClass('collapsing').addClass('collapse')}
if(!$.support.transition)return complete.call(this)
this.$element
[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)}
Collapse.prototype.toggle=function(){this[this.$element.hasClass('in')?'hide':'show']()}
var old=$.fn.collapse
$.fn.collapse=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.collapse')
var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('bs.collapse',(data=new Collapse(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.collapse.Constructor=Collapse
$.fn.collapse.noConflict=function(){$.fn.collapse=old
return this}
$(document).on('click.bs.collapse.data-api','[data-toggle=collapse]',function(e){var $this=$(this),href
var target=$this.attr('data-target')||e.preventDefault()||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,'')
var $target=$(target)
var data=$target.data('bs.collapse')
var option=data?'toggle':$this.data()
var parent=$this.attr('data-parent')
var $parent=parent&&$(parent)
if(!data||!data.transitioning){if($parent)$parent.find('[data-toggle=collapse][data-parent="'+parent+'"]').not($this).addClass('collapsed')
$this[$target.hasClass('in')?'addClass':'removeClass']('collapsed')}
$target.collapse(option)})}(jQuery);+function($){"use strict";var backdrop='.dropdown-backdrop'
var toggle='[data-toggle=dropdown]'
var Dropdown=function(element){$(element).on('click.bs.dropdown',this.toggle)}
Dropdown.prototype.toggle=function(e){var $this=$(this)
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
clearMenus()
if(!isActive){if('ontouchstart'in document.documentElement&&!$parent.closest('.navbar-nav').length){$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on('click',clearMenus)}
$parent.trigger(e=$.Event('show.bs.dropdown'))
if(e.isDefaultPrevented())return
$parent.toggleClass('open').trigger('shown.bs.dropdown')
$this.focus()}
return false}
Dropdown.prototype.keydown=function(e){if(!/(38|40|27)/.test(e.keyCode))return
var $this=$(this)
e.preventDefault()
e.stopPropagation()
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
if(!isActive||(isActive&&e.keyCode==27)){if(e.which==27)$parent.find(toggle).focus()
return $this.click()}
var $items=$('[role=menu] li:not(.divider):visible a',$parent)
if(!$items.length)return
var index=$items.index($items.filter(':focus'))
if(e.keyCode==38&&index>0)index--
if(e.keyCode==40&&index<$items.length-1)index++
if(!~index)index=0
$items.eq(index).focus()}
function clearMenus(){$(backdrop).remove()
$(toggle).each(function(e){var $parent=getParent($(this))
if(!$parent.hasClass('open'))return
$parent.trigger(e=$.Event('hide.bs.dropdown'))
if(e.isDefaultPrevented())return
$parent.removeClass('open').trigger('hidden.bs.dropdown')})}
function getParent($this){var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,'')}
var $parent=selector&&$(selector)
return $parent&&$parent.length?$parent:$this.parent()}
var old=$.fn.dropdown
$.fn.dropdown=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.dropdown')
if(!data)$this.data('bs.dropdown',(data=new Dropdown(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.dropdown.Constructor=Dropdown
$.fn.dropdown.noConflict=function(){$.fn.dropdown=old
return this}
$(document).on('click.bs.dropdown.data-api',clearMenus).on('click.bs.dropdown.data-api','.dropdown form',function(e){e.stopPropagation()}).on('click.bs.dropdown.data-api',toggle,Dropdown.prototype.toggle).on('keydown.bs.dropdown.data-api',toggle+', [role=menu]',Dropdown.prototype.keydown)}(jQuery);+function($){"use strict";var Modal=function(element,options){this.options=options
this.$element=$(element)
this.$backdrop=this.isShown=null
if(this.options.remote)this.$element.load(this.options.remote)}
Modal.DEFAULTS={backdrop:true,keyboard:true,show:true}
Modal.prototype.toggle=function(_relatedTarget){return this[!this.isShown?'show':'hide'](_relatedTarget)}
Modal.prototype.show=function(_relatedTarget){var that=this
var e=$.Event('show.bs.modal',{relatedTarget:_relatedTarget})
this.$element.trigger(e)
if(this.isShown||e.isDefaultPrevented())return
this.isShown=true
this.escape()
this.$element.on('click.dismiss.modal','[data-dismiss="modal"]',$.proxy(this.hide,this))
this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass('fade')
if(!that.$element.parent().length){that.$element.appendTo(document.body)}
that.$element.show()
if(transition){that.$element[0].offsetWidth}
that.$element.addClass('in').attr('aria-hidden',false)
that.enforceFocus()
var e=$.Event('shown.bs.modal',{relatedTarget:_relatedTarget})
transition?that.$element.find('.modal-dialog').one($.support.transition.end,function(){that.$element.focus().trigger(e)}).emulateTransitionEnd(300):that.$element.focus().trigger(e)})}
Modal.prototype.hide=function(e){if(e)e.preventDefault()
e=$.Event('hide.bs.modal')
this.$element.trigger(e)
if(!this.isShown||e.isDefaultPrevented())return
this.isShown=false
this.escape()
$(document).off('focusin.bs.modal')
this.$element.removeClass('in').attr('aria-hidden',true).off('click.dismiss.modal')
$.support.transition&&this.$element.hasClass('fade')?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}
Modal.prototype.enforceFocus=function(){$(document).off('focusin.bs.modal').on('focusin.bs.modal',$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.focus()}},this))}
Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on('keyup.dismiss.bs.modal',$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off('keyup.dismiss.bs.modal')}}
Modal.prototype.hideModal=function(){var that=this
this.$element.hide()
this.backdrop(function(){that.removeBackdrop()
that.$element.trigger('hidden.bs.modal')})}
Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove()
this.$backdrop=null}
Modal.prototype.backdrop=function(callback){var that=this
var animate=this.$element.hasClass('fade')?'fade':''
if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate
this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body)
this.$element.on('click.dismiss.modal',$.proxy(function(e){if(e.target!==e.currentTarget)return
this.options.backdrop=='static'?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this))
if(doAnimate)this.$backdrop[0].offsetWidth
this.$backdrop.addClass('in')
if(!callback)return
doAnimate?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in')
$.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(callback){callback()}}
var old=$.fn.modal
$.fn.modal=function(option,_relatedTarget){return this.each(function(){var $this=$(this)
var data=$this.data('bs.modal')
var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('bs.modal',(data=new Modal(this,options)))
if(typeof option=='string')data[option](_relatedTarget)
else if(options.show)data.show(_relatedTarget)})}
$.fn.modal.Constructor=Modal
$.fn.modal.noConflict=function(){$.fn.modal=old
return this}
$(document).on('click.bs.modal.data-api','[data-toggle="modal"]',function(e){var $this=$(this)
var href=$this.attr('href')
var $target=$($this.attr('data-target')||(href&&href.replace(/.*(?=#[^\s]+$)/,'')))
var option=$target.data('modal')?'toggle':$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data())
e.preventDefault()
$target.modal(option,this).one('hide',function(){$this.is(':visible')&&$this.focus()})})
$(document).on('show.bs.modal','.modal',function(){$(document.body).addClass('modal-open')}).on('hidden.bs.modal','.modal',function(){$(document.body).removeClass('modal-open')})}(jQuery);+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null
this.init('tooltip',element,options)}
Tooltip.DEFAULTS={animation:true,placement:'top',selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:false,container:false}
Tooltip.prototype.init=function(type,element,options){this.enabled=true
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
var triggers=this.options.trigger.split(' ')
for(var i=triggers.length;i--;){var trigger=triggers[i]
if(trigger=='click'){this.$element.on('click.'+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!='manual'){var eventIn=trigger=='hover'?'mouseenter':'focus'
var eventOut=trigger=='hover'?'mouseleave':'blur'
this.$element.on(eventIn+'.'+this.type,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut+'.'+this.type,this.options.selector,$.proxy(this.leave,this))}}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()}
Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS}
Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options)
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
return options}
Tooltip.prototype.getDelegateOptions=function(){var options={}
var defaults=this.getDefaults()
this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value})
return options}
Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data('bs.'+this.type)
clearTimeout(self.timeout)
self.hoverState='in'
if(!self.options.delay||!self.options.delay.show)return self.show()
self.timeout=setTimeout(function(){if(self.hoverState=='in')self.show()},self.options.delay.show)}
Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data('bs.'+this.type)
clearTimeout(self.timeout)
self.hoverState='out'
if(!self.options.delay||!self.options.delay.hide)return self.hide()
self.timeout=setTimeout(function(){if(self.hoverState=='out')self.hide()},self.options.delay.hide)}
Tooltip.prototype.show=function(){var e=$.Event('show.bs.'+this.type)
if(this.hasContent()&&this.enabled){this.$element.trigger(e)
if(e.isDefaultPrevented())return
var $tip=this.tip()
this.setContent()
if(this.options.animation)$tip.addClass('fade')
var placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
var autoToken=/\s?auto?\s?/i
var autoPlace=autoToken.test(placement)
if(autoPlace)placement=placement.replace(autoToken,'')||'top'
$tip.detach().css({top:0,left:0,display:'block'}).addClass(placement)
this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element)
var pos=this.getPosition()
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(autoPlace){var $parent=this.$element.parent()
var orgPlacement=placement
var docScroll=document.documentElement.scrollTop||document.body.scrollTop
var parentWidth=this.options.container=='body'?window.innerWidth:$parent.outerWidth()
var parentHeight=this.options.container=='body'?window.innerHeight:$parent.outerHeight()
var parentLeft=this.options.container=='body'?0:$parent.offset().left
placement=placement=='bottom'&&pos.top+pos.height+actualHeight-docScroll>parentHeight?'top':placement=='top'&&pos.top-docScroll-actualHeight<0?'bottom':placement=='right'&&pos.right+actualWidth>parentWidth?'left':placement=='left'&&pos.left-actualWidth<parentLeft?'right':placement
$tip.removeClass(orgPlacement).addClass(placement)}
var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight)
this.applyPlacement(calculatedOffset,placement)
this.$element.trigger('shown.bs.'+this.type)}}
Tooltip.prototype.applyPlacement=function(offset,placement){var replace
var $tip=this.tip()
var width=$tip[0].offsetWidth
var height=$tip[0].offsetHeight
var marginTop=parseInt($tip.css('margin-top'),10)
var marginLeft=parseInt($tip.css('margin-left'),10)
if(isNaN(marginTop))marginTop=0
if(isNaN(marginLeft))marginLeft=0
offset.top=offset.top+marginTop
offset.left=offset.left+marginLeft
$tip.offset(offset).addClass('in')
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(placement=='top'&&actualHeight!=height){replace=true
offset.top=offset.top+height-actualHeight}
if(/bottom|top/.test(placement)){var delta=0
if(offset.left<0){delta=offset.left*-2
offset.left=0
$tip.offset(offset)
actualWidth=$tip[0].offsetWidth
actualHeight=$tip[0].offsetHeight}
this.replaceArrow(delta-width+actualWidth,actualWidth,'left')}else{this.replaceArrow(actualHeight-height,actualHeight,'top')}
if(replace)$tip.offset(offset)}
Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?(50*(1-delta/dimension)+"%"):'')}
Tooltip.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
$tip.find('.tooltip-inner')[this.options.html?'html':'text'](title)
$tip.removeClass('fade in top bottom left right')}
Tooltip.prototype.hide=function(){var that=this
var $tip=this.tip()
var e=$.Event('hide.bs.'+this.type)
function complete(){if(that.hoverState!='in')$tip.detach()}
this.$element.trigger(e)
if(e.isDefaultPrevented())return
$tip.removeClass('in')
$.support.transition&&this.$tip.hasClass('fade')?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete()
this.$element.trigger('hidden.bs.'+this.type)
return this}
Tooltip.prototype.fixTitle=function(){var $e=this.$element
if($e.attr('title')||typeof($e.attr('data-original-title'))!='string'){$e.attr('data-original-title',$e.attr('title')||'').attr('title','')}}
Tooltip.prototype.hasContent=function(){return this.getTitle()}
Tooltip.prototype.getPosition=function(){var el=this.$element[0]
return $.extend({},(typeof el.getBoundingClientRect=='function')?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())}
Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=='bottom'?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=='top'?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=='left'?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}}
Tooltip.prototype.getTitle=function(){var title
var $e=this.$element
var o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
return title}
Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)}
Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find('.tooltip-arrow')}
Tooltip.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide()
this.$element=null
this.options=null}}
Tooltip.prototype.enable=function(){this.enabled=true}
Tooltip.prototype.disable=function(){this.enabled=false}
Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled}
Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data('bs.'+this.type):this
self.tip().hasClass('in')?self.leave(self):self.enter(self)}
Tooltip.prototype.destroy=function(){this.hide().$element.off('.'+this.type).removeData('bs.'+this.type)}
var old=$.fn.tooltip
$.fn.tooltip=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tooltip')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.noConflict=function(){$.fn.tooltip=old
return this}}(jQuery);+function($){"use strict";var Popover=function(element,options){this.init('popover',element,options)}
if(!$.fn.tooltip)throw new Error('Popover requires tooltip.js')
Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:'right',trigger:'click',content:'',template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'})
Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype)
Popover.prototype.constructor=Popover
Popover.prototype.getDefaults=function(){return Popover.DEFAULTS}
Popover.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
var content=this.getContent()
$tip.find('.popover-title')[this.options.html?'html':'text'](title)
$tip.find('.popover-content')[this.options.html?'html':'text'](content)
$tip.removeClass('fade top bottom left right in')
if(!$tip.find('.popover-title').html())$tip.find('.popover-title').hide()}
Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()}
Popover.prototype.getContent=function(){var $e=this.$element
var o=this.options
return $e.attr('data-content')||(typeof o.content=='function'?o.content.call($e[0]):o.content)}
Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find('.arrow')}
Popover.prototype.tip=function(){if(!this.$tip)this.$tip=$(this.options.template)
return this.$tip}
var old=$.fn.popover
$.fn.popover=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.popover')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.popover',(data=new Popover(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.popover.Constructor=Popover
$.fn.popover.noConflict=function(){$.fn.popover=old
return this}}(jQuery);+function($){"use strict";function ScrollSpy(element,options){var href
var process=$.proxy(this.process,this)
this.$element=$(element).is('body')?$(window):$(element)
this.$body=$('body')
this.$scrollElement=this.$element.on('scroll.bs.scroll-spy.data-api',process)
this.options=$.extend({},ScrollSpy.DEFAULTS,options)
this.selector=(this.options.target||((href=$(element).attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''))||'')+' .nav li > a'
this.offsets=$([])
this.targets=$([])
this.activeTarget=null
this.refresh()
this.process()}
ScrollSpy.DEFAULTS={offset:10}
ScrollSpy.prototype.refresh=function(){var offsetMethod=this.$element[0]==window?'offset':'position'
this.offsets=$([])
this.targets=$([])
var self=this
var $targets=this.$body.find(this.selector).map(function(){var $el=$(this)
var href=$el.data('target')||$el.attr('href')
var $href=/^#\w/.test(href)&&$(href)
return($href&&$href.length&&[[$href[offsetMethod]().top+(!$.isWindow(self.$scrollElement.get(0))&&self.$scrollElement.scrollTop()),href]])||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0])
self.targets.push(this[1])})}
ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset
var scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight
var maxScroll=scrollHeight-this.$scrollElement.height()
var offsets=this.offsets
var targets=this.targets
var activeTarget=this.activeTarget
var i
if(scrollTop>=maxScroll){return activeTarget!=(i=targets.last()[0])&&this.activate(i)}
for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])}}
ScrollSpy.prototype.activate=function(target){this.activeTarget=target
$(this.selector).parents('.active').removeClass('active')
var selector=this.selector
+'[data-target="'+target+'"],'
+this.selector+'[href="'+target+'"]'
var active=$(selector).parents('li').addClass('active')
if(active.parent('.dropdown-menu').length){active=active.closest('li.dropdown').addClass('active')}
active.trigger('activate.bs.scrollspy')}
var old=$.fn.scrollspy
$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.scrollspy')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.scrollspy',(data=new ScrollSpy(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.scrollspy.Constructor=ScrollSpy
$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old
return this}
$(window).on('load',function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this)
$spy.scrollspy($spy.data())})})}(jQuery);+function($){"use strict";var Tab=function(element){this.element=$(element)}
Tab.prototype.show=function(){var $this=this.element
var $ul=$this.closest('ul:not(.dropdown-menu)')
var selector=$this.data('target')
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
if($this.parent('li').hasClass('active'))return
var previous=$ul.find('.active:last a')[0]
var e=$.Event('show.bs.tab',{relatedTarget:previous})
$this.trigger(e)
if(e.isDefaultPrevented())return
var $target=$(selector)
this.activate($this.parent('li'),$ul)
this.activate($target,$target.parent(),function(){$this.trigger({type:'shown.bs.tab',relatedTarget:previous})})}
Tab.prototype.activate=function(element,container,callback){var $active=container.find('> .active')
var transition=callback&&$.support.transition&&$active.hasClass('fade')
function next(){$active.removeClass('active').find('> .dropdown-menu > .active').removeClass('active')
element.addClass('active')
if(transition){element[0].offsetWidth
element.addClass('in')}else{element.removeClass('fade')}
if(element.parent('.dropdown-menu')){element.closest('li.dropdown').addClass('active')}
callback&&callback()}
transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next()
$active.removeClass('in')}
var old=$.fn.tab
$.fn.tab=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tab')
if(!data)$this.data('bs.tab',(data=new Tab(this)))
if(typeof option=='string')data[option]()})}
$.fn.tab.Constructor=Tab
$.fn.tab.noConflict=function(){$.fn.tab=old
return this}
$(document).on('click.bs.tab.data-api','[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault()
$(this).tab('show')})}(jQuery);+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options)
this.$window=$(window).on('scroll.bs.affix.data-api',$.proxy(this.checkPosition,this)).on('click.bs.affix.data-api',$.proxy(this.checkPositionWithEventLoop,this))
this.$element=$(element)
this.affixed=this.unpin=null
this.checkPosition()}
Affix.RESET='affix affix-top affix-bottom'
Affix.DEFAULTS={offset:0}
Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)}
Affix.prototype.checkPosition=function(){if(!this.$element.is(':visible'))return
var scrollHeight=$(document).height()
var scrollTop=this.$window.scrollTop()
var position=this.$element.offset()
var offset=this.options.offset
var offsetTop=offset.top
var offsetBottom=offset.bottom
if(typeof offset!='object')offsetBottom=offsetTop=offset
if(typeof offsetTop=='function')offsetTop=offset.top()
if(typeof offsetBottom=='function')offsetBottom=offset.bottom()
var affix=this.unpin!=null&&(scrollTop+this.unpin<=position.top)?false:offsetBottom!=null&&(position.top+this.$element.height()>=scrollHeight-offsetBottom)?'bottom':offsetTop!=null&&(scrollTop<=offsetTop)?'top':false
if(this.affixed===affix)return
if(this.unpin)this.$element.css('top','')
this.affixed=affix
this.unpin=affix=='bottom'?position.top-scrollTop:null
this.$element.removeClass(Affix.RESET).addClass('affix'+(affix?'-'+affix:''))
if(affix=='bottom'){this.$element.offset({top:document.body.offsetHeight-offsetBottom-this.$element.height()})}}
var old=$.fn.affix
$.fn.affix=function(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.affix')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.affix',(data=new Affix(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.affix.Constructor=Affix
$.fn.affix.noConflict=function(){$.fn.affix=old
return this}
$(window).on('load',function(){$('[data-spy="affix"]').each(function(){var $spy=$(this)
var data=$spy.data()
data.offset=data.offset||{}
if(data.offsetBottom)data.offset.bottom=data.offsetBottom
if(data.offsetTop)data.offset.top=data.offsetTop
$spy.affix(data)})})}(jQuery);

(function(root,undefined){var lib={};lib.version='0.4.1';lib.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var nativeMap=Array.prototype.map,nativeIsArray=Array.isArray,toString=Object.prototype.toString;function isString(obj){return!!(obj===''||(obj&&obj.charCodeAt&&obj.substr));}
function isArray(obj){return nativeIsArray?nativeIsArray(obj):toString.call(obj)==='[object Array]';}
function isObject(obj){return obj&&toString.call(obj)==='[object Object]';}
function defaults(object,defs){var key;object=object||{};defs=defs||{};for(key in defs){if(defs.hasOwnProperty(key)){if(object[key]==null)object[key]=defs[key];}}
return object;}
function map(obj,iterator,context){var results=[],i,j;if(!obj)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);for(i=0,j=obj.length;i<j;i++){results[i]=iterator.call(context,obj[i],i,obj);}
return results;}
function checkPrecision(val,base){val=Math.round(Math.abs(val));return isNaN(val)?base:val;}
function checkCurrencyFormat(format){var defaults=lib.settings.currency.format;if(typeof format==="function")format=format();if(isString(format)&&format.match("%v")){return{pos:format,neg:format.replace("-","").replace("%v","-%v"),zero:format};}else if(!format||!format.pos||!format.pos.match("%v")){return(!isString(defaults))?defaults:lib.settings.currency.format={pos:defaults,neg:defaults.replace("%v","-%v"),zero:defaults};}
return format;}
var unformat=lib.unformat=lib.parse=function(value,decimal){if(isArray(value)){return map(value,function(val){return unformat(val,decimal);});}
value=value||0;if(typeof value==="number")return value;decimal=decimal||lib.settings.number.decimal;var regex=new RegExp("[^0-9-"+decimal+"]",["g"]),unformatted=parseFloat((""+value).replace(/\((.*)\)/,"-$1").replace(regex,'').replace(decimal,'.'));return!isNaN(unformatted)?unformatted:0;};var toFixed=lib.toFixed=function(value,precision){precision=checkPrecision(precision,lib.settings.number.precision);var power=Math.pow(10,precision);return(Math.round(lib.unformat(value)*power)/power).toFixed(precision);};var formatNumber=lib.formatNumber=lib.format=function(number,precision,thousand,decimal){if(isArray(number)){return map(number,function(val){return formatNumber(val,precision,thousand,decimal);});}
number=unformat(number);var opts=defaults((isObject(precision)?precision:{precision:precision,thousand:thousand,decimal:decimal}),lib.settings.number),usePrecision=checkPrecision(opts.precision),negative=number<0?"-":"",base=parseInt(toFixed(Math.abs(number||0),usePrecision),10)+"",mod=base.length>3?base.length%3:0;return negative+(mod?base.substr(0,mod)+opts.thousand:"")+base.substr(mod).replace(/(\d{3})(?=\d)/g,"$1"+opts.thousand)+(usePrecision?opts.decimal+toFixed(Math.abs(number),usePrecision).split('.')[1]:"");};var formatMoney=lib.formatMoney=function(number,symbol,precision,thousand,decimal,format){if(isArray(number)){return map(number,function(val){return formatMoney(val,symbol,precision,thousand,decimal,format);});}
number=unformat(number);var opts=defaults((isObject(symbol)?symbol:{symbol:symbol,precision:precision,thousand:thousand,decimal:decimal,format:format}),lib.settings.currency),formats=checkCurrencyFormat(opts.format),useFormat=number>0?formats.pos:number<0?formats.neg:formats.zero;return useFormat.replace('%s',opts.symbol).replace('%v',formatNumber(Math.abs(number),checkPrecision(opts.precision),opts.thousand,opts.decimal));};lib.formatColumn=function(list,symbol,precision,thousand,decimal,format){if(!list)return[];var opts=defaults((isObject(symbol)?symbol:{symbol:symbol,precision:precision,thousand:thousand,decimal:decimal,format:format}),lib.settings.currency),formats=checkCurrencyFormat(opts.format),padAfterSymbol=formats.pos.indexOf("%s")<formats.pos.indexOf("%v")?true:false,maxLength=0,formatted=map(list,function(val,i){if(isArray(val)){return lib.formatColumn(val,opts);}else{val=unformat(val);var useFormat=val>0?formats.pos:val<0?formats.neg:formats.zero,fVal=useFormat.replace('%s',opts.symbol).replace('%v',formatNumber(Math.abs(val),checkPrecision(opts.precision),opts.thousand,opts.decimal));if(fVal.length>maxLength)maxLength=fVal.length;return fVal;}});return map(formatted,function(val,i){if(isString(val)&&val.length<maxLength){return padAfterSymbol?val.replace(opts.symbol,opts.symbol+(new Array(maxLength-val.length+1).join(" "))):(new Array(maxLength-val.length+1).join(" "))+val;}
return val;});};if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports){exports=module.exports=lib;}
exports.accounting=lib;}else if(typeof define==='function'&&define.amd){define([],function(){return lib;});}else{lib.noConflict=(function(oldAccounting){return function(){root.accounting=oldAccounting;lib.noConflict=undefined;return lib;};})(root.accounting);root['accounting']=lib;}}(this));

function initAsicsProductTabComponent(){var showClass="show";var hideClass="hide";var tabLinkClass="asicsProductTabComponentTabLink";$("."+tabLinkClass).click(function(){$("."+tabLinkClass+".active").removeClass("active");$(this).addClass("active");$(".asicsProductTabItemsContainer").removeClass(showClass).addClass(hideClass);var index=$(this).attr('data-index');$(".asicsProductTabItemsContainer[data-index='"+index+"']").removeClass(hideClass).addClass(showClass);});}
$(window).ready(function(){initAsicsProductTabComponent();});
;(function(){'use strict';function FastClick(layer,options){var oldOnClick;options=options||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=options.touchBoundary||10;this.layer=layer;this.tapDelay=options.tapDelay||200;this.tapTimeout=options.tapTimeout||700;if(FastClick.notNeeded(layer)){return;}
function bind(method,context){return function(){return method.apply(context,arguments);};}
var methods=['onMouse','onClick','onTouchStart','onTouchMove','onTouchEnd','onTouchCancel'];var context=this;for(var i=0,l=methods.length;i<l;i++){context[methods[i]]=bind(context[methods[i]],context);}
if(deviceIsAndroid){layer.addEventListener('mouseover',this.onMouse,true);layer.addEventListener('mousedown',this.onMouse,true);layer.addEventListener('mouseup',this.onMouse,true);}
layer.addEventListener('click',this.onClick,true);layer.addEventListener('touchstart',this.onTouchStart,false);layer.addEventListener('touchmove',this.onTouchMove,false);layer.addEventListener('touchend',this.onTouchEnd,false);layer.addEventListener('touchcancel',this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;if(type==='click'){rmv.call(layer,type,callback.hijacked||callback,capture);}else{rmv.call(layer,type,callback,capture);}};layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;if(type==='click'){adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){if(!event.propagationStopped){callback(event);}}),capture);}else{adv.call(layer,type,callback,capture);}};}
if(typeof layer.onclick==='function'){oldOnClick=layer.onclick;layer.addEventListener('click',function(event){oldOnClick(event);},false);layer.onclick=null;}}
var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0;var deviceIsAndroid=navigator.userAgent.indexOf('Android')>0&&!deviceIsWindowsPhone;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone;var deviceIsIOS4=deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&(/OS [6-7]_\d/).test(navigator.userAgent);var deviceIsBlackBerry10=navigator.userAgent.indexOf('BB10')>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case'button':case'textarea':if(target.disabled){return true;}
break;case'input':if((deviceIsIOS&&target.type==='file')||target.disabled){return true;}
break;case'select':case'label':case'iframe':case'video':return true;}
return(/\bneedsclick\b/).test(target.className);};FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case'textarea':return true;case'select':return!deviceIsAndroid;case'input':switch(target.type){case'button':case'checkbox':case'file':case'image':case'radio':case'submit':return false;}
return!target.disabled&&!target.readOnly;default:return(/\bneedsfocus\b/).test(target.className);}};FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;if(document.activeElement&&document.activeElement!==targetElement){document.activeElement.blur();}
touch=event.changedTouches[0];clickEvent=document.createEvent('MouseEvents');clickEvent.initMouseEvent(this.determineEventType(targetElement),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);clickEvent.forwardedTouchEvent=true;targetElement.dispatchEvent(clickEvent);};FastClick.prototype.determineEventType=function(targetElement){if(deviceIsAndroid&&targetElement.tagName.toLowerCase()==='select'){return'mousedown';}
return'click';};FastClick.prototype.focus=function(targetElement){var length;if(deviceIsIOS&&targetElement.setSelectionRange&&targetElement.type.indexOf('date')!==0&&targetElement.type!=='time'&&targetElement.type!=='month'){length=targetElement.value.length;targetElement.setSelectionRange(length,length);}else{targetElement.focus();}};FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;scrollParent=targetElement.fastClickScrollParent;if(!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement;targetElement.fastClickScrollParent=parentElement;break;}
parentElement=parentElement.parentElement;}while(parentElement);}
if(scrollParent){scrollParent.fastClickLastScrollTop=scrollParent.scrollTop;}};FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){if(eventTarget.nodeType===Node.TEXT_NODE){return eventTarget.parentNode;}
return eventTarget;};FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1){return true;}
targetElement=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(deviceIsIOS){selection=window.getSelection();if(selection.rangeCount&&!selection.isCollapsed){return true;}
if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false;}
this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(targetElement);}}
this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=targetElement;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if((event.timeStamp-this.lastClickTime)<this.tapDelay){event.preventDefault();}
return true;};FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary){return true;}
return false;};FastClick.prototype.onTouchMove=function(event){if(!this.trackingClick){return true;}
if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null;}
return true;};FastClick.prototype.findControl=function(labelElement){if(labelElement.control!==undefined){return labelElement.control;}
if(labelElement.htmlFor){return document.getElementById(labelElement.htmlFor);}
return labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');};FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick){return true;}
if((event.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true;}
if((event.timeStamp-this.trackingClickStart)>this.tapTimeout){return true;}
this.cancelNextClick=false;this.lastClickTime=event.timeStamp;trackingClickStart=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){touch=event.changedTouches[0];targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement;targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent;}
targetTagName=targetElement.tagName.toLowerCase();if(targetTagName==='label'){forElement=this.findControl(targetElement);if(forElement){this.focus(targetElement);if(deviceIsAndroid){return false;}
targetElement=forElement;}}else if(this.needsFocus(targetElement)){if((event.timeStamp-trackingClickStart)>100||(deviceIsIOS&&window.top!==window&&targetTagName==='input')){this.targetElement=null;return false;}
this.focus(targetElement);this.sendClick(targetElement,event);if(!deviceIsIOS||targetTagName!=='select'){this.targetElement=null;event.preventDefault();}
return false;}
if(deviceIsIOS&&!deviceIsIOS4){scrollParent=targetElement.fastClickScrollParent;if(scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop){return true;}}
if(!this.needsClick(targetElement)){if(typeof ACC.address!=='undefined'&&ACC.address.lockPageFlag)return false;event.preventDefault();this.sendClick(targetElement,event);}
return false;};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null;};FastClick.prototype.onMouse=function(event){if(!this.targetElement){return true;}
if(event.forwardedTouchEvent){return true;}
if(!event.cancelable){return true;}
if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation();}else{event.propagationStopped=true;}
event.stopPropagation();event.preventDefault();return false;}
return true;};FastClick.prototype.onClick=function(event){var permitted;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true;}
if(event.target.type==='submit'&&event.detail===0){return true;}
permitted=this.onMouse(event);if(!permitted){this.targetElement=null;}
return permitted;};FastClick.prototype.destroy=function(){var layer=this.layer;if(deviceIsAndroid){layer.removeEventListener('mouseover',this.onMouse,true);layer.removeEventListener('mousedown',this.onMouse,true);layer.removeEventListener('mouseup',this.onMouse,true);}
layer.removeEventListener('click',this.onClick,true);layer.removeEventListener('touchstart',this.onTouchStart,false);layer.removeEventListener('touchmove',this.onTouchMove,false);layer.removeEventListener('touchend',this.onTouchEnd,false);layer.removeEventListener('touchcancel',this.onTouchCancel,false);};FastClick.notNeeded=function(layer){var metaViewport;var chromeVersion;var blackberryVersion;var firefoxVersion;if(typeof window.ontouchstart==='undefined'){return true;}
chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(chromeVersion){if(deviceIsAndroid){metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport){if(metaViewport.content.indexOf('user-scalable=no')!==-1){return true;}
if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth){return true;}}}else{return true;}}
if(deviceIsBlackBerry10){blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(blackberryVersion[1]>=10&&blackberryVersion[2]>=3){metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport){if(metaViewport.content.indexOf('user-scalable=no')!==-1){return true;}
if(document.documentElement.scrollWidth<=window.outerWidth){return true;}}}}
if(layer.style.msTouchAction==='none'||layer.style.touchAction==='manipulation'){return true;}
firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(firefoxVersion>=27){metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport&&(metaViewport.content.indexOf('user-scalable=no')!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true;}}
if(layer.style.touchAction==='none'||layer.style.touchAction==='manipulation'){return true;}
return false;};FastClick.attach=function(layer,options){return new FastClick(layer,options);};if(typeof define==='function'&&typeof define.amd==='object'&&define.amd){define(function(){return FastClick;});}else if(typeof module!=='undefined'&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick;}else{window.FastClick=FastClick;}}());

(function(global,factory){if(typeof define=='function'&&define.amd){define('ev-emitter/ev-emitter',factory);}else if(typeof module=='object'&&module.exports){module.exports=factory();}else{global.EvEmitter=factory();}}(this,function(){function EvEmitter(){}
var proto=EvEmitter.prototype;proto.on=function(eventName,listener){if(!eventName||!listener){return;}
var events=this._events=this._events||{};var listeners=events[eventName]=events[eventName]||[];if(listeners.indexOf(listener)==-1){listeners.push(listener);}
return this;};proto.once=function(eventName,listener){if(!eventName||!listener){return;}
this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{};var onceListeners=onceEvents[eventName]=onceEvents[eventName]||[];onceListeners[listener]=true;return this;};proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return;}
var index=listeners.indexOf(listener);if(index!=-1){listeners.splice(index,1);}
return this;};proto.emitEvent=function(eventName,args){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length){return;}
var i=0;var listener=listeners[i];args=args||[];var onceListeners=this._onceEvents&&this._onceEvents[eventName];while(listener){var isOnce=onceListeners&&onceListeners[listener];if(isOnce){this.off(eventName,listener);delete onceListeners[listener];}
listener.apply(this,args);i+=isOnce?0:1;listener=listeners[i];}
return this;};return EvEmitter;}));(function(window,factory){'use strict';if(typeof define=='function'&&define.amd){define(['ev-emitter/ev-emitter'],function(EvEmitter){return factory(window,EvEmitter);});}else if(typeof module=='object'&&module.exports){module.exports=factory(window,require('ev-emitter'));}else{window.imagesLoaded=factory(window,window.EvEmitter);}})(window,function factory(window,EvEmitter){var $=window.jQuery;var console=window.console;function extend(a,b){for(var prop in b){a[prop]=b[prop];}
return a;}
function makeArray(obj){var ary=[];if(Array.isArray(obj)){ary=obj;}else if(typeof obj.length=='number'){for(var i=0;i<obj.length;i++){ary.push(obj[i]);}}else{ary.push(obj);}
return ary;}
function ImagesLoaded(elem,options,onAlways){if(!(this instanceof ImagesLoaded)){return new ImagesLoaded(elem,options,onAlways);}
if(typeof elem=='string'){elem=document.querySelectorAll(elem);}
this.elements=makeArray(elem);this.options=extend({},this.options);if(typeof options=='function'){onAlways=options;}else{extend(this.options,options);}
if(onAlways){this.on('always',onAlways);}
this.getImages();if($){this.jqDeferred=new $.Deferred();}
setTimeout(function(){this.check();}.bind(this));}
ImagesLoaded.prototype=Object.create(EvEmitter.prototype);ImagesLoaded.prototype.options={};ImagesLoaded.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this);};ImagesLoaded.prototype.addElementImages=function(elem){if(elem.nodeName=='IMG'){this.addImage(elem);}
if(this.options.background===true){this.addElementBackgroundImages(elem);}
var nodeType=elem.nodeType;if(!nodeType||!elementNodeTypes[nodeType]){return;}
var childImgs=elem.querySelectorAll('img');for(var i=0;i<childImgs.length;i++){var img=childImgs[i];this.addImage(img);}
if(typeof this.options.background=='string'){var children=elem.querySelectorAll(this.options.background);for(i=0;i<children.length;i++){var child=children[i];this.addElementBackgroundImages(child);}}};var elementNodeTypes={1:true,9:true,11:true};ImagesLoaded.prototype.addElementBackgroundImages=function(elem){var style=getComputedStyle(elem);if(!style){return;}
var reURL=/url\((['"])?(.*?)\1\)/gi;var matches=reURL.exec(style.backgroundImage);while(matches!==null){var url=matches&&matches[2];if(url){this.addBackground(url,elem);}
matches=reURL.exec(style.backgroundImage);}};ImagesLoaded.prototype.addImage=function(img){var loadingImage=new LoadingImage(img);this.images.push(loadingImage);};ImagesLoaded.prototype.addBackground=function(url,elem){var background=new Background(url,elem);this.images.push(background);};ImagesLoaded.prototype.check=function(){var _this=this;this.progressedCount=0;this.hasAnyBroken=false;if(!this.images.length){this.complete();return;}
function onProgress(image,elem,message){setTimeout(function(){_this.progress(image,elem,message);});}
this.images.forEach(function(loadingImage){loadingImage.once('progress',onProgress);loadingImage.check();});};ImagesLoaded.prototype.progress=function(image,elem,message){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!image.isLoaded;this.emitEvent('progress',[this,image,elem]);if(this.jqDeferred&&this.jqDeferred.notify){this.jqDeferred.notify(this,image);}
if(this.progressedCount==this.images.length){this.complete();}
if(this.options.debug&&console){console.log('progress: '+message,image,elem);}};ImagesLoaded.prototype.complete=function(){var eventName=this.hasAnyBroken?'fail':'done';this.isComplete=true;this.emitEvent(eventName,[this]);this.emitEvent('always',[this]);if(this.jqDeferred){var jqMethod=this.hasAnyBroken?'reject':'resolve';this.jqDeferred[jqMethod](this);}};function LoadingImage(img){this.img=img;}
LoadingImage.prototype=Object.create(EvEmitter.prototype);LoadingImage.prototype.check=function(){var isComplete=this.getIsImageComplete();if(isComplete){this.confirm(this.img.naturalWidth!==0,'naturalWidth');return;}
this.proxyImage=new Image();this.proxyImage.addEventListener('load',this);this.proxyImage.addEventListener('error',this);this.img.addEventListener('load',this);this.img.addEventListener('error',this);this.proxyImage.src=this.img.src;};LoadingImage.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth!==undefined;};LoadingImage.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emitEvent('progress',[this,this.img,message]);};LoadingImage.prototype.handleEvent=function(event){var method='on'+event.type;if(this[method]){this[method](event);}};LoadingImage.prototype.onload=function(){this.confirm(true,'onload');this.unbindEvents();};LoadingImage.prototype.onerror=function(){this.confirm(false,'onerror');this.unbindEvents();};LoadingImage.prototype.unbindEvents=function(){this.proxyImage.removeEventListener('load',this);this.proxyImage.removeEventListener('error',this);this.img.removeEventListener('load',this);this.img.removeEventListener('error',this);};function Background(url,element){this.url=url;this.element=element;this.img=new Image();}
Background.prototype=Object.create(LoadingImage.prototype);Background.prototype.check=function(){this.img.addEventListener('load',this);this.img.addEventListener('error',this);this.img.src=this.url;var isComplete=this.getIsImageComplete();if(isComplete){this.confirm(this.img.naturalWidth!==0,'naturalWidth');this.unbindEvents();}};Background.prototype.unbindEvents=function(){this.img.removeEventListener('load',this);this.img.removeEventListener('error',this);};Background.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded;this.emitEvent('progress',[this,this.element,message]);};ImagesLoaded.makeJQueryPlugin=function(jQuery){jQuery=jQuery||window.jQuery;if(!jQuery){return;}
$=jQuery;$.fn.imagesLoaded=function(options,callback){var instance=new ImagesLoaded(this,options,callback);return instance.jqDeferred.promise($(this));};};ImagesLoaded.makeJQueryPlugin();return ImagesLoaded;});

(function($){var debugMode=true;$.fn.extend({getUniqueId:function(p,q,r){if(r===undefined){r='';}else{r='-'+r;}
return p+q+r;},accessibleTabs:function(config){var defaults={wrapperClass:'content',currentClass:'current',tabhead:'h4',tabheadClass:'tabhead',tabbody:'.tabbody',fx:'show',fxspeed:'normal',currentInfoText:'current tab: ',currentInfoPosition:'prepend',currentInfoClass:'current-info',tabsListClass:'tabs-list',syncheights:false,syncHeightMethodName:'syncHeight',cssClassAvailable:false,saveState:false,autoAnchor:false,pagination:false,position:'top',wrapInnerNavLinks:'',firstNavItemClass:'first',lastNavItemClass:'last',clearfixClass:'clearfix'};var keyCodes={37:-1,38:-1,39:+1,40:+1};var positions={top:'prepend',bottom:'append'};this.options=$.extend(defaults,config);var tabsCount=0;if($("body").data('accessibleTabsCount')!==undefined){tabsCount=$("body").data('accessibleTabsCount');}
$("body").data('accessibleTabsCount',this.size()+tabsCount);var o=this;return this.each(function(t){var el=$(this);var list='';var tabCount=0;var ids=[];$(el).wrapInner('<div class="'+o.options.wrapperClass+'"></div>');$(el).find(o.options.tabhead).each(function(i){var id='';var elId=$(this).attr('id');if(elId){if(elId.indexOf('accessibletabscontent')===0){return;}
id=' id="'+elId+'"';}
var tabId=o.getUniqueId('accessibletabscontent',tabsCount+t,i);var navItemId=o.getUniqueId('accessibletabsnavigation',tabsCount+t,i);ids.push(tabId);if(o.options.cssClassAvailable===true){var cssClass='';if($(this).attr('class')){cssClass=$(this).attr('class');cssClass=' class="'+cssClass+'"';}
list+='<li id="'+navItemId+'"><a'+id+''+cssClass+' href="#'+tabId+'">'+$(this).html()+'</a></li>';}else{list+='<li id="'+navItemId+'"><a'+id+' href="#'+tabId+'">'+$(this).html()+'</a></li>';}
$(this).attr({"id":tabId,"class":o.options.tabheadClass,"tabindex":"-1"});tabCount++;});if(o.options.syncheights&&$.fn[o.options.syncHeightMethodName]){$(el).find(o.options.tabbody)[o.options.syncHeightMethodName]();$(window).resize(function(){$(el).find(o.options.tabbody)[o.options.syncHeightMethodName]();});}
var tabs_selector='.'+o.options.tabsListClass;if(!$(el).find(tabs_selector).length){$(el)[positions[o.options.position]]('<ul class="'+o.options.clearfixClass+' '+o.options.tabsListClass+' tabamount'+tabCount+'"></ul>');}
$(el).find(tabs_selector).append(list);var content=$(el).find(o.options.tabbody);if(content.length>0){$(content).hide();$(content[0]).show();}
$(el).find("ul."+o.options.tabsListClass+">li:first").addClass(o.options.currentClass).addClass(o.options.firstNavItemClass).find('a')[o.options.currentInfoPosition]('<span class="'+o.options.currentInfoClass+'">'+o.options.currentInfoText+'</span>').parents("ul."+o.options.tabsListClass).children('li:last').addClass(o.options.lastNavItemClass);if(o.options.wrapInnerNavLinks){$(el).find('ul.'+o.options.tabsListClass+'>li>a').wrapInner(o.options.wrapInnerNavLinks);}
$(el).find('ul.'+o.options.tabsListClass+'>li>a').each(function(i){$(this).click(function(event){event.preventDefault();el.trigger("showTab.accessibleTabs",[$(event.target)]);if(o.options.saveState&&$.cookie){$.cookie('accessibletab_'+el.attr('id')+'_active',i);}
$(el).find('ul.'+o.options.tabsListClass+'>li.'+o.options.currentClass).removeClass(o.options.currentClass).find("span."+o.options.currentInfoClass).remove();$(this).blur();$(el).find(o.options.tabbody+':visible').hide();$(el).find(o.options.tabbody).eq(i)[o.options.fx](o.options.fxspeed);$(this)[o.options.currentInfoPosition]('<span class="'+o.options.currentInfoClass+'">'+o.options.currentInfoText+'</span>').parent().addClass(o.options.currentClass);$($(this).attr("href")).focus().keyup(function(event){if(keyCodes[event.keyCode]){o.showAccessibleTab(i+keyCodes[event.keyCode]);$(this).unbind("keyup");}});});$(this).focus(function(){$(document).keyup(function(event){if(keyCodes[event.keyCode]){o.showAccessibleTab(i+keyCodes[event.keyCode]);}});});$(this).blur(function(){$(document).unbind("keyup");});});if(o.options.saveState&&$.cookie){var savedState=$.cookie('accessibletab_'+el.attr('id')+'_active');debug($.cookie('accessibletab_'+el.attr('id')+'_active'));if(savedState!==null){o.showAccessibleTab(savedState,el.attr('id'));}}
if(o.options.autoAnchor&&window.location.hash){var anchorTab=$('.'+o.options.tabsListClass).find(window.location.hash);if(anchorTab.size()){anchorTab.click();}}
if(o.options.pagination){var m='<ul class="pagination">';m+='    <li class="previous"><a href="#{previousAnchor}"><span>{previousHeadline}</span></a></li>';m+='    <li class="next"><a href="#{nextAnchor}"><span>{nextHeadline}</span></a></li>';m+='</ul>';var tabs=$(el).find('.tabbody');var tabcount=tabs.size();tabs.each(function(idx){$(this).append(m);var next=idx+1;if(next>=tabcount){next=0;}
var previous=idx-1;if(previous<0){previous=tabcount-1;}
var p=$(this).find('.pagination');var previousEl=p.find('.previous');previousEl.find('span').text($('#'+ids[previous]).text());previousEl.find('a').attr('href','#'+ids[previous]).click(function(event){event.preventDefault();$(el).find('.tabs-list a').eq(previous).click();});var nextEl=p.find('.next');nextEl.find('span').text($('#'+ids[next]).text());nextEl.find('a').attr('href','#'+ids[next]).click(function(event){event.preventDefault();$(el).find('.tabs-list a').eq(next).click();});});}});},showAccessibleTab:function(index,id){debug('showAccessibleTab');var o=this;if(id){var el=$('#'+id);var links=el.find('ul.'+o.options.tabsListClass+'>li>a');el.trigger("showTab.accessibleTabs",[links.eq(index)]);links.eq(index).click();}else{return this.each(function(){var el=$(this);el.trigger("showTab.accessibleTabs");var links=el.find('ul.'+o.options.tabsListClass+'>li>a');el.trigger("showTab.accessibleTabs",[links.eq(index)]);links.eq(index).click();});}},showAccessibleTabSelector:function(selector){debug('showAccessibleTabSelector');var el=$(selector);if(el){if(el.get(0).nodeName.toLowerCase()==='a'){el.click();}else{debug('the selector of a showAccessibleTabSelector() call needs to point to a tabs headline!');}}}});function debug(msg,info){if(debugMode&&window.console&&window.console.log){if(info){window.console.log(info+': ',msg);}else{window.console.log(msg);}}}})(jQuery);

(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory;}else{factory(jQuery);}}(function($){$.fn.bgiframe=function(s){s=$.extend({top:'auto',left:'auto',width:'auto',height:'auto',opacity:true,src:'javascript:false;',conditional:/MSIE 6\.0/.test(navigator.userAgent)},s);if(!$.isFunction(s.conditional)){var condition=s.conditional;s.conditional=function(){return condition;};}
var $iframe=$('<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+s.src+'"'+'style="display:block;position:absolute;z-index:-1;"/>');return this.each(function(){var $this=$(this);if(s.conditional(this)===false){return;}
var existing=$this.children('iframe.bgiframe');var $el=existing.length===0?$iframe.clone():existing;$el.css({'top':s.top=='auto'?((parseInt($this.css('borderTopWidth'),10)||0)*-1)+'px':prop(s.top),'left':s.left=='auto'?((parseInt($this.css('borderLeftWidth'),10)||0)*-1)+'px':prop(s.left),'width':s.width=='auto'?(this.offsetWidth+'px'):prop(s.width),'height':s.height=='auto'?(this.offsetHeight+'px'):prop(s.height),'opacity':s.opacity===true?0:undefined});if(existing.length===0){$this.prepend($el);}});};$.fn.bgIframe=$.fn.bgiframe;function prop(n){return n&&n.constructor===Number?n+'px':n;}}));
;(function(){"use strict";function setup($){$.fn._fadeIn=$.fn.fadeIn;var noOp=$.noop||function(){};var msie=/MSIE/.test(navigator.userAgent);var ie6=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var mode=document.documentMode||0;var setExpr=$.isFunction(document.createElement('div').style.setExpression);$.blockUI=function(opts){install(window,opts);};$.unblockUI=function(opts){remove(window,opts);};$.growlUI=function(title,message,timeout,onClose){var $m=$('<div class="growlUI"></div>');if(title)$m.append('<h1>'+title+'</h1>');if(message)$m.append('<h2>'+message+'</h2>');if(timeout===undefined)timeout=3000;var callBlock=function(opts){opts=opts||{};$.blockUI({message:$m,fadeIn:typeof opts.fadeIn!=='undefined'?opts.fadeIn:700,fadeOut:typeof opts.fadeOut!=='undefined'?opts.fadeOut:1000,timeout:typeof opts.timeout!=='undefined'?opts.timeout:timeout,centerY:false,showOverlay:false,onUnblock:onClose,css:$.blockUI.defaults.growlCSS});};callBlock();var nonmousedOpacity=$m.css('opacity');$m.mouseover(function(){callBlock({fadeIn:0,timeout:30000});var displayBlock=$('.blockMsg');displayBlock.stop();displayBlock.fadeTo(300,1);}).mouseout(function(){$('.blockMsg').fadeOut(1000);});};$.fn.block=function(opts){if(this[0]===window){$.blockUI(opts);return this;}
var fullOpts=$.extend({},$.blockUI.defaults,opts||{});this.each(function(){var $el=$(this);if(fullOpts.ignoreIfBlocked&&$el.data('blockUI.isBlocked'))
return;$el.unblock({fadeOut:0});});return this.each(function(){if($.css(this,'position')=='static'){this.style.position='relative';$(this).data('blockUI.static',true);}
this.style.zoom=1;install(this,opts);});};$.fn.unblock=function(opts){if(this[0]===window){$.unblockUI(opts);return this;}
return this.each(function(){remove(this,opts);});};$.blockUI.version=2.70;$.blockUI.defaults={message:'<h1>Please wait...</h1>',title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:'30%',top:'40%',left:'35%',textAlign:'center',color:'#000',border:'3px solid #aaa',backgroundColor:'#fff',cursor:'wait'},themedCSS:{width:'30%',top:'40%',left:'35%'},overlayCSS:{backgroundColor:'#000',opacity:0.6,cursor:'wait'},cursorReset:'default',growlCSS:{width:'350px',top:'10px',left:'',right:'10px',border:'none',padding:'5px',opacity:0.6,cursor:'default',color:'#fff',backgroundColor:'#000','-webkit-border-radius':'10px','-moz-border-radius':'10px','border-radius':'10px'},iframeSrc:/^https/i.test(window.location.href||'')?'javascript:false':'about:blank',forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:':input:enabled:visible',onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:'blockMsg',ignoreIfBlocked:false};var pageBlock=null;var pageBlockEls=[];function install(el,opts){var css,themedCSS;var full=(el==window);var msg=(opts&&opts.message!==undefined?opts.message:undefined);opts=$.extend({},$.blockUI.defaults,opts||{});if(opts.ignoreIfBlocked&&$(el).data('blockUI.isBlocked'))
return;opts.overlayCSS=$.extend({},$.blockUI.defaults.overlayCSS,opts.overlayCSS||{});css=$.extend({},$.blockUI.defaults.css,opts.css||{});if(opts.onOverlayClick)
opts.overlayCSS.cursor='pointer';themedCSS=$.extend({},$.blockUI.defaults.themedCSS,opts.themedCSS||{});msg=msg===undefined?opts.message:msg;if(full&&pageBlock)
remove(window,{fadeOut:0});if(msg&&typeof msg!='string'&&(msg.parentNode||msg.jquery)){var node=msg.jquery?msg[0]:msg;var data={};$(el).data('blockUI.history',data);data.el=node;data.parent=node.parentNode;data.display=node.style.display;data.position=node.style.position;if(data.parent)
data.parent.removeChild(node);}
$(el).data('blockUI.onUnblock',opts.onUnblock);var z=opts.baseZ;var lyr1,lyr2,lyr3,s;if(msie||opts.forceIframe)
lyr1=$('<iframe class="blockUI" style="z-index:'+(z++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+opts.iframeSrc+'"></iframe>');else
lyr1=$('<div class="blockUI" style="display:none"></div>');if(opts.theme)
lyr2=$('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(z++)+';display:none"></div>');else
lyr2=$('<div class="blockUI blockOverlay" style="z-index:'+(z++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');if(opts.theme&&full){s='<div class="blockUI '+opts.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:fixed">';if(opts.title){s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||'&nbsp;')+'</div>';}
s+='<div class="ui-widget-content ui-dialog-content"></div>';s+='</div>';}
else if(opts.theme){s='<div class="blockUI '+opts.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:absolute">';if(opts.title){s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||'&nbsp;')+'</div>';}
s+='<div class="ui-widget-content ui-dialog-content"></div>';s+='</div>';}
else if(full){s='<div class="blockUI '+opts.blockMsgClass+' blockPage" style="z-index:'+(z+10)+';display:none;position:fixed"></div>';}
else{s='<div class="blockUI '+opts.blockMsgClass+' blockElement" style="z-index:'+(z+10)+';display:none;position:absolute"></div>';}
lyr3=$(s);if(msg){if(opts.theme){lyr3.css(themedCSS);lyr3.addClass('ui-widget-content');}
else
lyr3.css(css);}
if(!opts.theme)
lyr2.css(opts.overlayCSS);lyr2.css('position',full?'fixed':'absolute');if(msie||opts.forceIframe)
lyr1.css('opacity',0.0);var layers=[lyr1,lyr2,lyr3],$par=full?$('body'):$(el);$.each(layers,function(){this.appendTo($par);});if(opts.theme&&opts.draggable&&$.fn.draggable){lyr3.draggable({handle:'.ui-dialog-titlebar',cancel:'li'});}
var expr=setExpr&&(!$.support.boxModel||$('object,embed',full?null:el).length>0);if(ie6||expr){if(full&&opts.allowBodyStretch&&$.support.boxModel)
$('html,body').css('height','100%');if((ie6||!$.support.boxModel)&&!full){var t=sz(el,'borderTopWidth'),l=sz(el,'borderLeftWidth');var fixT=t?'(0 - '+t+')':0;var fixL=l?'(0 - '+l+')':0;}
$.each(layers,function(i,o){var s=o[0].style;s.position='absolute';if(i<2){if(full)
s.setExpression('height','Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:'+opts.quirksmodeOffsetHack+') + "px"');else
s.setExpression('height','this.parentNode.offsetHeight + "px"');if(full)
s.setExpression('width','jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');else
s.setExpression('width','this.parentNode.offsetWidth + "px"');if(fixL)s.setExpression('left',fixL);if(fixT)s.setExpression('top',fixT);}
else if(opts.centerY){if(full)s.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');s.marginTop=0;}
else if(!opts.centerY&&full){var top=(opts.css&&opts.css.top)?parseInt(opts.css.top,10):0;var expression='((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+top+') + "px"';s.setExpression('top',expression);}});}
if(msg){if(opts.theme)
lyr3.find('.ui-widget-content').append(msg);else
lyr3.append(msg);if(msg.jquery||msg.nodeType)
$(msg).show();}
if((msie||opts.forceIframe)&&opts.showOverlay)
lyr1.show();if(opts.fadeIn){var cb=opts.onBlock?opts.onBlock:noOp;var cb1=(opts.showOverlay&&!msg)?cb:noOp;var cb2=msg?cb:noOp;if(opts.showOverlay)
lyr2._fadeIn(opts.fadeIn,cb1);if(msg)
lyr3._fadeIn(opts.fadeIn,cb2);}
else{if(opts.showOverlay)
lyr2.show();if(msg)
lyr3.show();if(opts.onBlock)
opts.onBlock.bind(lyr3)();}
bind(1,el,opts);if(full){pageBlock=lyr3[0];pageBlockEls=$(opts.focusableElements,pageBlock);if(opts.focusInput)
setTimeout(focus,20);}
else
center(lyr3[0],opts.centerX,opts.centerY);if(opts.timeout){var to=setTimeout(function(){if(full)
$.unblockUI(opts);else
$(el).unblock(opts);},opts.timeout);$(el).data('blockUI.timeout',to);}}
function remove(el,opts){var count;var full=(el==window);var $el=$(el);var data=$el.data('blockUI.history');var to=$el.data('blockUI.timeout');if(to){clearTimeout(to);$el.removeData('blockUI.timeout');}
opts=$.extend({},$.blockUI.defaults,opts||{});bind(0,el,opts);if(opts.onUnblock===null){opts.onUnblock=$el.data('blockUI.onUnblock');$el.removeData('blockUI.onUnblock');}
var els;if(full)
els=$('body').children().filter('.blockUI').add('body > .blockUI');else
els=$el.find('>.blockUI');if(opts.cursorReset){if(els.length>1)
els[1].style.cursor=opts.cursorReset;if(els.length>2)
els[2].style.cursor=opts.cursorReset;}
if(full)
pageBlock=pageBlockEls=null;if(opts.fadeOut){count=els.length;els.stop().fadeOut(opts.fadeOut,function(){if(--count===0)
reset(els,data,opts,el);});}
else
reset(els,data,opts,el);}
function reset(els,data,opts,el){var $el=$(el);if($el.data('blockUI.isBlocked'))
return;els.each(function(i,o){if(this.parentNode)
this.parentNode.removeChild(this);});if(data&&data.el){data.el.style.display=data.display;data.el.style.position=data.position;data.el.style.cursor='default';if(data.parent)
data.parent.appendChild(data.el);$el.removeData('blockUI.history');}
if($el.data('blockUI.static')){$el.css('position','static');}
if(typeof opts.onUnblock=='function')
opts.onUnblock(el,opts);var body=$(document.body),w=body.width(),cssW=body[0].style.width;body.width(w-1).width(w);body[0].style.width=cssW;}
function bind(b,el,opts){var full=el==window,$el=$(el);if(!b&&(full&&!pageBlock||!full&&!$el.data('blockUI.isBlocked')))
return;$el.data('blockUI.isBlocked',b);if(!full||!opts.bindEvents||(b&&!opts.showOverlay))
return;var events='mousedown mouseup keydown keypress keyup touchstart touchend touchmove';if(b)
$(document).bind(events,opts,handler);else
$(document).unbind(events,handler);}
function handler(e){if(e.type==='keydown'&&e.keyCode&&e.keyCode==9){if(pageBlock&&e.data.constrainTabKey){var els=pageBlockEls;var fwd=!e.shiftKey&&e.target===els[els.length-1];var back=e.shiftKey&&e.target===els[0];if(fwd||back){setTimeout(function(){focus(back);},10);return false;}}}
var opts=e.data;var target=$(e.target);if(target.hasClass('blockOverlay')&&opts.onOverlayClick)
opts.onOverlayClick(e);if(target.parents('div.'+opts.blockMsgClass).length>0)
return true;return target.parents().children().filter('div.blockUI').length===0;}
function focus(back){if(!pageBlockEls)
return;var e=pageBlockEls[back===true?pageBlockEls.length-1:0];if(e)
e.focus();}
function center(el,x,y){var p=el.parentNode,s=el.style;var l=((p.offsetWidth-el.offsetWidth)/2)-sz(p,'borderLeftWidth');var t=((p.offsetHeight-el.offsetHeight)/2)-sz(p,'borderTopWidth');if(x)s.left=l>0?(l+'px'):'0';if(y)s.top=t>0?(t+'px'):'0';}
function sz(el,p){return parseInt($.css(el,p),10)||0;}}
if(typeof define==='function'&&define.amd&&define.amd.jQuery){define(['jquery'],setup);}else{setup(jQuery);}})();

(function($,document,window){var
defaults={transition:"elastic",speed:300,width:850,initialWidth:"600",innerWidth:810,maxWidth:false,height:575,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:0.9,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:false,returnFocus:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true},colorbox='colorbox',prefix='cbox',event_open=prefix+'_open',event_load=prefix+'_load',event_complete=prefix+'_complete',event_cleanup=prefix+'_cleanup',event_closed=prefix+'_closed',event_purge=prefix+'_purge',isIE=$.browser.msie&&!$.support.opacity,isIE6=isIE&&$.browser.version<7,event_ie6=prefix+'_IE6',$overlay,$box,$wrap,$content,$topBorder,$leftBorder,$rightBorder,$bottomBorder,$related,$window,$loaded,$loadingBay,$loadingOverlay,$title,$current,$slideshow,$next,$prev,$close,$groupControls,settings={},interfaceHeight,interfaceWidth,loadedHeight,loadedWidth,element,index,photo,open,active,closing=false,publicMethod,boxElement=prefix+'Element';function $div(id,cssText){var div=document.createElement('div');if(id){div.id=prefix+id;}
div.style.cssText=cssText||false;return $(div);}
function $a(id,cssText){var a=document.createElement('a');if(id){a.id=prefix+id;}
a.href="javascript:void(0);";a.style.cssText=cssText||false;return $(a);}
function setSize(size,dimension){dimension=dimension==='x'?$window.width():$window.height();return(typeof size==='string')?Math.round((/%/.test(size)?(dimension/100)*parseInt(size,10):parseInt(size,10))):size;}
function isImage(url){return settings.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(url);}
function process(settings){for(var i in settings){if($.isFunction(settings[i])&&i.substring(0,2)!=='on'){settings[i]=settings[i].call(element);}}
settings.rel=settings.rel||element.rel||'nofollow';settings.href=$.trim(settings.href||$(element).attr('href'));settings.title=settings.title||element.title;}
function trigger(event,callback){if(callback){callback.call(element);}
$.event.trigger(event);}
function slideshow(){var
timeOut,className=prefix+"Slideshow_",click="click."+prefix,start,stop,clear;if(settings.slideshow&&$related[1]){start=function(){$slideshow.text(settings.slideshowStop).unbind(click).bind(event_complete,function(){if(index<$related.length-1||settings.loop){timeOut=setTimeout(publicMethod.next,settings.slideshowSpeed);}}).bind(event_load,function(){clearTimeout(timeOut);}).one(click+' '+event_cleanup,stop);$box.removeClass(className+"off").addClass(className+"on");timeOut=setTimeout(publicMethod.next,settings.slideshowSpeed);};stop=function(){clearTimeout(timeOut);$slideshow.text(settings.slideshowStart).unbind([event_complete,event_load,event_cleanup,click].join(' ')).one(click,start);$box.removeClass(className+"on").addClass(className+"off");};if(settings.slideshowAuto){start();}else{stop();}}}
function launch(elem){if(!closing){element=elem;process($.extend(settings,$.data(element,colorbox)));$related=$(element);index=0;if(settings.rel!=='nofollow'){$related=$('.'+boxElement).filter(function(){var relRelated=$.data(this,colorbox).rel||this.rel;return(relRelated===settings.rel);});index=$related.index(element);if(index===-1){$related=$related.add(element);index=$related.length-1;}}
if(!open){open=active=true;$box.show();if(settings.returnFocus){try{element.blur();$(element).one(event_closed,function(){try{this.focus();}catch(e){}});}catch(e){}}
$overlay.css({"opacity":+settings.opacity,"cursor":settings.overlayClose?"pointer":"auto"}).show();settings.w=setSize(settings.initialWidth,'x');settings.h=setSize(settings.initialHeight,'y');publicMethod.position(0);if(isIE6){$window.bind('resize.'+event_ie6+' scroll.'+event_ie6,function(){$overlay.css({width:$window.width(),height:$window.height(),top:$window.scrollTop(),left:$window.scrollLeft()});}).trigger('resize.'+event_ie6);}
trigger(event_open,settings.onOpen);$groupControls.add($title).hide();$close.html(settings.close).show();}
publicMethod.load(true);}}
publicMethod=$.fn[colorbox]=$[colorbox]=function(options,callback){var $this=this,autoOpen;if(!$this[0]&&$this.selector){return $this;}
options=options||{};if(callback){options.onComplete=callback;}
if(!$this[0]||$this.selector===undefined){$this=$('<a/>');options.open=true;}
$this.each(function(){$.data(this,colorbox,$.extend({},$.data(this,colorbox)||defaults,options));$(this).addClass(boxElement);});autoOpen=options.open;if($.isFunction(autoOpen)){autoOpen=autoOpen.call($this);}
if(autoOpen){launch($this[0]);}
return $this;};publicMethod.init=function(){$window=$(window);$box=$div().attr({id:colorbox,'class':isIE?prefix+(isIE6?'IE6':'IE'):''});$overlay=$div("Overlay",isIE6?'position:absolute':'').hide();$wrap=$div("Wrapper");$content=$div("Content").append($loaded=$div("LoadedContent",'width:0; height:0; overflow:hidden'),$loadingOverlay=$div("LoadingOverlay").add($div("LoadingGraphic")),$title=$div("Title"),$current=$div("Current"),$next=$div("Next"),$prev=$div("Previous"),$slideshow=$div("Slideshow").bind(event_open,slideshow),$close=$a("Close"));$wrap.append($content).children().children().css({'float':'left'});$loadingBay=$div(false,'position:absolute; width:9999px; visibility:hidden; display:none');$('body').prepend($overlay,$box.append($wrap,$loadingBay));$content.children().hover(function(){$(this).addClass('hover');},function(){$(this).removeClass('hover');}).addClass('hover');interfaceHeight=$content.height();interfaceWidth=$content.width();loadedHeight=$loaded.outerHeight(true);loadedWidth=$loaded.outerWidth(true);$box.css({"padding-bottom":interfaceHeight,"padding-right":interfaceWidth}).hide();$next.click(function(){publicMethod.next();});$prev.click(function(){publicMethod.prev();});$close.click(function(){publicMethod.close();});$groupControls=$next.add($prev).add($current).add($slideshow);$content.children().removeClass('hover');$('.'+boxElement).live('click',function(e){if(!((e.button!==0&&typeof e.button!=='undefined')||e.ctrlKey||e.shiftKey||e.altKey)){e.preventDefault();launch(this);}});$overlay.click(function(){if(settings.overlayClose){publicMethod.close();}});$(document).bind('keydown.'+prefix,function(e){var key=e.keyCode;if(open&&settings.escKey&&key===27){e.preventDefault();publicMethod.close();}
if(open&&settings.arrowKey&&$related[1]){if(key===37){e.preventDefault();$prev.click();}else if(key===39){e.preventDefault();$next.click();}}});};publicMethod.remove=function(){$box.add($overlay).remove();$('.'+boxElement).die('click').removeData(colorbox).removeClass(boxElement);};publicMethod.position=function(speed,loadedCallback){var
animate_speed,posTop=Math.max(document.documentElement.clientHeight-settings.h-loadedHeight-interfaceHeight,0)/2+$window.scrollTop(),posLeft=Math.max($window.width()-settings.w-loadedWidth-interfaceWidth,0)/2+$window.scrollLeft();animate_speed=($box.width()===settings.w+loadedWidth&&$box.height()===settings.h+loadedHeight)?0:speed;$wrap[0].style.width=$wrap[0].style.height="9999px";function modalDimensions(that){$loadingOverlay[0].style.height=$loadingOverlay[1].style.height=$content[0].style.height=that.style.height;}
$box.dequeue().animate({width:settings.w+loadedWidth,height:settings.h+loadedHeight,top:posTop,left:posLeft},{duration:animate_speed,complete:function(){modalDimensions(this);active=false;$wrap[0].style.width=(settings.w+loadedWidth+interfaceWidth)+"px";$wrap[0].style.height=(settings.h+loadedHeight+interfaceHeight)+"px";if(loadedCallback){loadedCallback();}},step:function(){modalDimensions(this);}});};publicMethod.resize=function(options){if(open){options=options||{};if(options.width){settings.w=setSize(options.width,'x')-loadedWidth-interfaceWidth;}
if(options.innerWidth){settings.w=setSize(options.innerWidth,'x');}
$loaded.css({width:settings.w});if(options.height){settings.h=setSize(options.height,'y')-loadedHeight-interfaceHeight;}
if(options.innerHeight){settings.h=setSize(options.innerHeight,'y');}
if(!options.innerHeight&&!options.height){var $child=$loaded.wrapInner("<div style='overflow:auto'></div>").children();settings.h=$child.height();$child.replaceWith($child.children());}
$loaded.css({height:settings.h});publicMethod.position(settings.transition==="none"?0:settings.speed);}};publicMethod.prep=function(object){if(!open){return;}
var speed=settings.transition==="none"?0:settings.speed;$window.unbind('resize.'+prefix);$loaded.remove();$loaded=$div('LoadedContent').html(object);function getWidth(){settings.w=settings.w||$loaded.width();settings.w=settings.mw&&settings.mw<settings.w?settings.mw:settings.w;return settings.w;}
function getHeight(){settings.h=settings.h||$loaded.height();settings.h=settings.mh&&settings.mh<settings.h?settings.mh:settings.h;return settings.h;}
$loaded.hide().appendTo($loadingBay.show()).css({width:getWidth(),overflow:settings.scrolling?'auto':'hidden'}).css({height:getHeight()}).prependTo($content);$loadingBay.hide();$(photo).css({'float':'none'});if(isIE6){$('select').not($box.find('select')).filter(function(){return this.style.visibility!=='hidden';}).css({'visibility':'hidden'}).one(event_cleanup,function(){this.style.visibility='inherit';});}
function setPosition(s){publicMethod.position(s,function(){var prev,prevSrc,next,nextSrc,total=$related.length,iframe,complete;if(!open){return;}
complete=function(){$loadingOverlay.hide();trigger(event_complete,settings.onComplete);};if(isIE){if(photo){$loaded.fadeIn(100);}}
$title.html(settings.title).add($loaded).show();if(total>1){if(typeof settings.current==="string"){$current.html(settings.current.replace(/\{current\}/,index+1).replace(/\{total\}/,total)).show();}
$next[(settings.loop||index<total-1)?"show":"hide"]().html(settings.next);$prev[(settings.loop||index)?"show":"hide"]().html(settings.previous);prev=index?$related[index-1]:$related[total-1];next=index<total-1?$related[index+1]:$related[0];if(settings.slideshow){$slideshow.show();}
if(settings.preloading){nextSrc=$.data(next,colorbox).href||next.href;prevSrc=$.data(prev,colorbox).href||prev.href;nextSrc=$.isFunction(nextSrc)?nextSrc.call(next):nextSrc;prevSrc=$.isFunction(prevSrc)?prevSrc.call(prev):prevSrc;if(isImage(nextSrc)){$('<img/>')[0].src=nextSrc;}
if(isImage(prevSrc)){$('<img/>')[0].src=prevSrc;}}}else{$groupControls.hide();}
if(settings.iframe){iframe=$('<iframe/>').addClass(prefix+'Iframe')[0];if(settings.fastIframe){complete();}else{$(iframe).load(complete);}
iframe.name=prefix+(+new Date());iframe.src=settings.href;if(!settings.scrolling){iframe.scrolling="no";}
if(isIE){iframe.frameborder=0;iframe.allowTransparency="true";}
$(iframe).appendTo($loaded).one(event_purge,function(){iframe.src="//about:blank";});}else{complete();}
if(settings.transition==='fade'){$box.fadeTo(speed,1,function(){$box[0].style.filter="";});}else{$box[0].style.filter="";}
$window.bind('resize.'+prefix,function(){publicMethod.position(0);});});}
if(settings.transition==='fade'){$box.fadeTo(speed,0,function(){setPosition(0);});}else{setPosition(speed);}};publicMethod.load=function(launched){var href,setResize,prep=publicMethod.prep;active=true;photo=false;element=$related[index];if(!launched){process($.extend(settings,$.data(element,colorbox)));}
trigger(event_purge);trigger(event_load,settings.onLoad);settings.h=settings.height?setSize(settings.height,'y')-loadedHeight-interfaceHeight:settings.innerHeight&&setSize(settings.innerHeight,'y');settings.w=settings.width?setSize(settings.width,'x')-loadedWidth-interfaceWidth:settings.innerWidth&&setSize(settings.innerWidth,'x');settings.mw=settings.w;settings.mh=settings.h;if(settings.maxWidth){settings.mw=setSize(settings.maxWidth,'x')-loadedWidth-interfaceWidth;settings.mw=settings.w&&settings.w<settings.mw?settings.w:settings.mw;}
if(settings.maxHeight){settings.mh=setSize(settings.maxHeight,'y')-loadedHeight-interfaceHeight;settings.mh=settings.h&&settings.h<settings.mh?settings.h:settings.mh;}
href=settings.href;$loadingOverlay.show();if(settings.inline){$div().hide().insertBefore($(href)[0]).one(event_purge,function(){$(this).replaceWith($loaded.children());});prep($(href));}else if(settings.iframe){prep(" ");}else if(settings.html){prep(settings.html);}else if(isImage(href)){$(photo=new Image()).addClass(prefix+'Photo').error(function(){settings.title=false;prep($div('Error').text('This image could not be loaded'));}).load(function(){var percent;photo.onload=null;if(settings.scalePhotos){setResize=function(){photo.height-=photo.height*percent;photo.width-=photo.width*percent;};if(settings.mw&&photo.width>settings.mw){percent=(photo.width-settings.mw)/photo.width;setResize();}
if(settings.mh&&photo.height>settings.mh){percent=(photo.height-settings.mh)/photo.height;setResize();}}
if(settings.h){photo.style.marginTop=Math.max(settings.h-photo.height,0)/2+'px';}
if($related[1]&&(index<$related.length-1||settings.loop)){photo.style.cursor='pointer';photo.onclick=function(){publicMethod.next();};}
if(isIE){photo.style.msInterpolationMode='bicubic';}
setTimeout(function(){prep(photo);},1);});setTimeout(function(){photo.src=href;},1);}else if(href){$loadingBay.load(href,function(data,status,xhr){prep(status==='error'?$div('Error').text('Request unsuccessful: '+xhr.statusText):$(this).contents());});}};publicMethod.next=function(){if(!active&&$related[1]&&(index<$related.length-1||settings.loop)){index=index<$related.length-1?index+1:0;publicMethod.load();}};publicMethod.prev=function(){if(!active&&$related[1]&&(index||settings.loop)){index=index?index-1:$related.length-1;publicMethod.load();}};publicMethod.close=function(){if(open&&!closing){closing=true;open=false;trigger(event_cleanup,settings.onCleanup);$window.unbind('.'+prefix+' .'+event_ie6);$overlay.fadeTo(200,0);$box.stop().fadeTo(300,0,function(){$box.add($overlay).css({'opacity':1,cursor:'auto'}).hide();trigger(event_purge);$loaded.remove();setTimeout(function(){closing=false;trigger(event_closed,settings.onClosed);},1);});}};publicMethod.element=function(){return $(element);};publicMethod.toggleLoadingOverlay=function(){$loadingOverlay.toggle();if($loadingOverlay.is(':hidden')){$('#ariaStatusMsg').html(ACC.accessibilityStoresLoaded);}else{$('#ariaStatusMsg').html(ACC.accessibilityLoading);}}
publicMethod.settings=defaults;$(publicMethod.init);}(jQuery,document,this));

(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{factory(jQuery);}}(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s);}
function decode(s){return config.raw?s:decodeURIComponent(s);}
function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value));}
function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}
try{s=decodeURIComponent(s.replace(pluses,' '));return config.json?JSON.parse(s):s;}catch(e){}}
function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value;}
var config=$.cookie=function(key,value,options){if(value!==undefined&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}
return(document.cookie=[encode(key),'=',stringifyCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
var result=key?undefined:{};var cookies=document.cookie?document.cookie.split('; '):[];for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split('=');var name=decode(parts.shift());var cookie=parts.join('=');if(key&&key===name){result=read(cookie,value);break;}
if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie;}}
return result;};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)===undefined){return false;}
$.cookie(key,'',$.extend({},options,{expires:-1}));return!$.cookie(key);};}));

jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});;
;(function($){"use strict";var feature={};feature.fileapi=$("<input type='file'/>").get(0).files!==undefined;feature.formdata=window.FormData!==undefined;$.fn.ajaxSubmit=function(options){if(!this.length){log('ajaxSubmit: skipping submit process - no element selected');return this;}
var method,action,url,$form=this;if(typeof options=='function'){options={success:options};}
method=this.attr('method');action=this.attr('action');url=(typeof action==='string')?$.trim(action):'';url=url||window.location.href||'';if(url){url=(url.match(/^([^#]+)/)||[])[1];}
options=$.extend(true,{url:url,success:$.ajaxSettings.success,type:method||'GET',iframeSrc:/^https/i.test(window.location.href||'')?'javascript:false':'about:blank'},options);var veto={};this.trigger('form-pre-serialize',[this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');return this;}
if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log('ajaxSubmit: submit aborted via beforeSerialize callback');return this;}
var traditional=options.traditional;if(traditional===undefined){traditional=$.ajaxSettings.traditional;}
var elements=[];var qx,a=this.formToArray(options.semantic,elements);if(options.data){options.extraData=options.data;qx=$.param(options.data,traditional);}
if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log('ajaxSubmit: submit aborted via beforeSubmit callback');return this;}
this.trigger('form-submit-validate',[a,this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-submit-validate trigger');return this;}
var q=$.param(a,traditional);if(qx){q=(q?(q+'&'+qx):qx);}
if(options.type.toUpperCase()=='GET'){options.url+=(options.url.indexOf('?')>=0?'&':'?')+q;options.data=null;}
else{options.data=q;}
var callbacks=[];if(options.resetForm){callbacks.push(function(){$form.resetForm();});}
if(options.clearForm){callbacks.push(function(){$form.clearForm(options.includeHidden);});}
if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?'replaceWith':'html';$(options.target)[fn](data).each(oldSuccess,arguments);});}
else if(options.success){callbacks.push(options.success);}
options.success=function(data,status,xhr){var context=options.context||options;for(var i=0,max=callbacks.length;i<max;i++){callbacks[i].apply(context,[data,status,xhr||$form,$form]);}};var fileInputs=$('input:file:enabled[value]',this);var hasFileInputs=fileInputs.length>0;var mp='multipart/form-data';var multipart=($form.attr('enctype')==mp||$form.attr('encoding')==mp);var fileAPI=feature.fileapi&&feature.formdata;log("fileAPI :"+fileAPI);var shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI;if(options.iframe!==false&&(options.iframe||shouldUseFrame)){if(options.closeKeepAlive){$.get(options.closeKeepAlive,function(){fileUploadIframe(a);});}
else{fileUploadIframe(a);}}
else if((hasFileInputs||multipart)&&fileAPI){fileUploadXhr(a);}
else{$.ajax(options);}
for(var k=0;k<elements.length;k++)
elements[k]=null;this.trigger('form-submit-notify',[this,options]);return this;function fileUploadXhr(a){var formdata=new FormData();for(var i=0;i<a.length;i++){formdata.append(a[i].name,a[i].value);}
if(options.extraData){for(var p in options.extraData)
if(options.extraData.hasOwnProperty(p))
formdata.append(p,options.extraData[p]);}
options.data=null;var s=$.extend(true,{},$.ajaxSettings,options,{contentType:false,processData:false,cache:false,type:'POST'});if(options.uploadProgress){s.xhr=function(){var xhr=jQuery.ajaxSettings.xhr();if(xhr.upload){xhr.upload.onprogress=function(event){var percent=0;var position=event.loaded||event.position;var total=event.total;if(event.lengthComputable){percent=Math.ceil(position/total*100);}
options.uploadProgress(event,position,total,percent);};}
return xhr;};}
s.data=null;var beforeSend=s.beforeSend;s.beforeSend=function(xhr,o){o.data=formdata;if(beforeSend)
beforeSend.call(o,xhr,options);};$.ajax(s);}
function fileUploadIframe(a){var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle;var useProp=!!$.fn.prop;if($(':input[name=submit],:input[id=submit]',form).length){alert('Error: Form elements must not have name or id of "submit".');return;}
if(a){for(i=0;i<elements.length;i++){el=$(elements[i]);if(useProp)
el.prop('disabled',false);else
el.removeAttr('disabled');}}
s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;id='jqFormIO'+(new Date().getTime());if(s.iframeTarget){$io=$(s.iframeTarget);n=$io.attr('name');if(!n)
$io.attr('name',id);else
id=n;}
else{$io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />');$io.css({position:'absolute',top:'-1000px',left:'-1000px'});}
io=$io[0];xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:'n/a',getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=(status==='timeout'?'timeout':'aborted');log('aborting upload... '+e);this.aborted=1;$io.attr('src',s.iframeSrc);xhr.error=e;if(s.error)
s.error.call(s.context,xhr,e,status);if(g)
$.event.trigger("ajaxError",[xhr,s,e]);if(s.complete)
s.complete.call(s.context,xhr,e);}};g=s.global;if(g&&0===$.active++){$.event.trigger("ajaxStart");}
if(g){$.event.trigger("ajaxSend",[xhr,s]);}
if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global){$.active--;}
return;}
if(xhr.aborted){return;}
sub=form.clk;if(sub){n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type=="image"){s.extraData[n+'.x']=form.clk_x;s.extraData[n+'.y']=form.clk_y;}}}
var CLIENT_TIMEOUT_ABORT=1;var SERVER_ABORT=2;function getDoc(frame){var doc=frame.contentWindow?frame.contentWindow.document:frame.contentDocument?frame.contentDocument:frame.document;return doc;}
var csrf_token=$('meta[name=csrf-token]').attr('content');var csrf_param=$('meta[name=csrf-param]').attr('content');if(csrf_param&&csrf_token){s.extraData=s.extraData||{};s.extraData[csrf_param]=csrf_token;}
function doSubmit(){var t=$form.attr('target'),a=$form.attr('action');form.setAttribute('target',id);if(!method){form.setAttribute('method','POST');}
if(a!=s.url){form.setAttribute('action',s.url);}
if(!s.skipEncodingOverride&&(!method||/post/i.test(method))){$form.attr({encoding:'multipart/form-data',enctype:'multipart/form-data'});}
if(s.timeout){timeoutHandle=setTimeout(function(){timedOut=true;cb(CLIENT_TIMEOUT_ABORT);},s.timeout);}
function checkState(){try{var state=getDoc(io).readyState;log('state = '+state);if(state&&state.toLowerCase()=='uninitialized')
setTimeout(checkState,50);}
catch(e){log('Server abort: ',e,' (',e.name,')');cb(SERVER_ABORT);if(timeoutHandle)
clearTimeout(timeoutHandle);timeoutHandle=undefined;}}
var extraInputs=[];try{if(s.extraData){for(var n in s.extraData){if(s.extraData.hasOwnProperty(n)){extraInputs.push($('<input type="hidden" name="'+n+'">').attr('value',s.extraData[n]).appendTo(form)[0]);}}}
if(!s.iframeTarget){$io.appendTo('body');if(io.attachEvent)
io.attachEvent('onload',cb);else
io.addEventListener('load',cb,false);}
setTimeout(checkState,15);form.submit();}
finally{form.setAttribute('action',a);if(t){form.setAttribute('target',t);}else{$form.removeAttr('target');}
$(extraInputs).remove();}}
if(s.forceSync){doSubmit();}
else{setTimeout(doSubmit,10);}
var data,doc,domCheckCount=50,callbackProcessed;function cb(e){if(xhr.aborted||callbackProcessed){return;}
try{doc=getDoc(io);}
catch(ex){log('cannot access response document: ',ex);e=SERVER_ABORT;}
if(e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort('timeout');return;}
else if(e==SERVER_ABORT&&xhr){xhr.abort('server abort');return;}
if(!doc||doc.location.href==s.iframeSrc){if(!timedOut)
return;}
if(io.detachEvent)
io.detachEvent('onload',cb);else
io.removeEventListener('load',cb,false);var status='success',errMsg;try{if(timedOut){throw'timeout';}
var isXml=s.dataType=='xml'||doc.XMLDocument||$.isXMLDoc(doc);log('isXml='+isXml);if(!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML)){if(--domCheckCount){log('requeing onLoad callback, DOM not available');setTimeout(cb,250);return;}}
var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(isXml)
s.dataType='xml';xhr.getResponseHeader=function(header){var headers={'content-type':s.dataType};return headers[header];};if(docRoot){xhr.status=Number(docRoot.getAttribute('status'))||xhr.status;xhr.statusText=docRoot.getAttribute('statusText')||xhr.statusText;}
var dt=(s.dataType||'').toLowerCase();var scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName('textarea')[0];if(ta){xhr.responseText=ta.value;xhr.status=Number(ta.getAttribute('status'))||xhr.status;xhr.statusText=ta.getAttribute('statusText')||xhr.statusText;}
else if(scr){var pre=doc.getElementsByTagName('pre')[0];var b=doc.getElementsByTagName('body')[0];if(pre){xhr.responseText=pre.textContent?pre.textContent:pre.innerText;}
else if(b){xhr.responseText=b.textContent?b.textContent:b.innerText;}}}
else if(dt=='xml'&&!xhr.responseXML&&xhr.responseText){xhr.responseXML=toXml(xhr.responseText);}
try{data=httpData(xhr,dt,s);}
catch(e){status='parsererror';xhr.error=errMsg=(e||status);}}
catch(e){log('error caught: ',e);status='error';xhr.error=errMsg=(e||status);}
if(xhr.aborted){log('upload aborted');status=null;}
if(xhr.status){status=(xhr.status>=200&&xhr.status<300||xhr.status===304)?'success':'error';}
if(status==='success'){if(s.success)
s.success.call(s.context,data,'success',xhr);if(g)
$.event.trigger("ajaxSuccess",[xhr,s]);}
else if(status){if(errMsg===undefined)
errMsg=xhr.statusText;if(s.error)
s.error.call(s.context,xhr,status,errMsg);if(g)
$.event.trigger("ajaxError",[xhr,s,errMsg]);}
if(g)
$.event.trigger("ajaxComplete",[xhr,s]);if(g&&!--$.active){$.event.trigger("ajaxStop");}
if(s.complete)
s.complete.call(s.context,xhr,status);callbackProcessed=true;if(s.timeout)
clearTimeout(timeoutHandle);setTimeout(function(){if(!s.iframeTarget)
$io.remove();xhr.responseXML=null;},100);}
var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject('Microsoft.XMLDOM');doc.async='false';doc.loadXML(s);}
else{doc=(new DOMParser()).parseFromString(s,'text/xml');}
return(doc&&doc.documentElement&&doc.documentElement.nodeName!='parsererror')?doc:null;};var parseJSON=$.parseJSON||function(s){return window['eval']('('+s+')');};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader('content-type')||'',xml=type==='xml'||!type&&ct.indexOf('xml')>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==='parsererror'){if($.error)
$.error('parsererror');}
if(s&&s.dataFilter){data=s.dataFilter(data,type);}
if(typeof data==='string'){if(type==='json'||!type&&ct.indexOf('json')>=0){data=parseJSON(data);}else if(type==="script"||!type&&ct.indexOf("javascript")>=0){$.globalEval(data);}}
return data;};}};$.fn.ajaxForm=function(options){options=options||{};options.delegation=options.delegation&&$.isFunction($.fn.on);if(!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log('DOM not ready, queuing ajaxForm');$(function(){$(o.s,o.c).ajaxForm(options);});return this;}
log('terminating; zero elements found by selector'+($.isReady?'':' (DOM not ready)'));return this;}
if(options.delegation){$(document).off('submit.form-plugin',this.selector,doAjaxSubmit).off('click.form-plugin',this.selector,captureSubmittingElement).on('submit.form-plugin',this.selector,options,doAjaxSubmit).on('click.form-plugin',this.selector,options,captureSubmittingElement);return this;}
return this.ajaxFormUnbind().bind('submit.form-plugin',options,doAjaxSubmit).bind('click.form-plugin',options,captureSubmittingElement);};function doAjaxSubmit(e){var options=e.data;if(!e.isDefaultPrevented()){e.preventDefault();$(this).ajaxSubmit(options);}}
function captureSubmittingElement(e){var target=e.target;var $el=$(target);if(!($el.is(":submit,input:image"))){var t=$el.closest(':submit');if(t.length===0){return;}
target=t[0];}
var form=this;form.clk=target;if(target.type=='image'){if(e.offsetX!==undefined){form.clk_x=e.offsetX;form.clk_y=e.offsetY;}else if(typeof $.fn.offset=='function'){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top;}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop;}}
setTimeout(function(){form.clk=form.clk_x=form.clk_y=null;},100);}
$.fn.ajaxFormUnbind=function(){return this.unbind('submit.form-plugin click.form-plugin');};$.fn.formToArray=function(semantic,elements){var a=[];if(this.length===0){return a;}
var form=this[0];var els=semantic?form.getElementsByTagName('*'):form.elements;if(!els){return a;}
var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n){continue;}
if(semantic&&form.clk&&el.type=="image"){if(!el.disabled&&form.clk==el){a.push({name:n,value:$(el).val(),type:el.type});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}
continue;}
v=$.fieldValue(el,true);if(v&&v.constructor==Array){if(elements)
elements.push(el);for(j=0,jmax=v.length;j<jmax;j++){a.push({name:n,value:v[j]});}}
else if(feature.fileapi&&el.type=='file'&&!el.disabled){if(elements)
elements.push(el);var files=el.files;if(files.length){for(j=0;j<files.length;j++){a.push({name:n,value:files[j],type:el.type});}}
else{a.push({name:n,value:'',type:el.type});}}
else if(v!==null&&typeof v!='undefined'){if(elements)
elements.push(el);a.push({name:n,value:v,type:el.type,required:el.required});}}
if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type=='image'){a.push({name:n,value:$input.val()});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}}
return a;};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic));};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n){return;}
var v=$.fieldValue(this,successful);if(v&&v.constructor==Array){for(var i=0,max=v.length;i<max;i++){a.push({name:n,value:v[i]});}}
else if(v!==null&&typeof v!='undefined'){a.push({name:this.name,value:v});}});return $.param(a);};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v=='undefined'||(v.constructor==Array&&!v.length)){continue;}
if(v.constructor==Array)
$.merge(val,v);else
val.push(v);}
return val;};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(successful===undefined){successful=true;}
if(successful&&(!n||el.disabled||t=='reset'||t=='button'||(t=='checkbox'||t=='radio')&&!el.checked||(t=='submit'||t=='image')&&el.form&&el.form.clk!=el||tag=='select'&&el.selectedIndex==-1)){return null;}
if(tag=='select'){var index=el.selectedIndex;if(index<0){return null;}
var a=[],ops=el.options;var one=(t=='select-one');var max=(one?index+1:ops.length);for(var i=(one?index:0);i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(!v){v=(op.attributes&&op.attributes['value']&&!(op.attributes['value'].specified))?op.text:op.value;}
if(one){return v;}
a.push(v);}}
return a;}
return $(el).val();};$.fn.clearForm=function(includeHidden){return this.each(function(){$('input,select,textarea',this).clearFields(includeHidden);});};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(re.test(t)||tag=='textarea'){this.value='';}
else if(t=='checkbox'||t=='radio'){this.checked=false;}
else if(tag=='select'){this.selectedIndex=-1;}
else if(includeHidden){if((includeHidden===true&&/hidden/.test(t))||(typeof includeHidden=='string'&&$(this).is(includeHidden)))
this.value='';}});};$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=='function'||(typeof this.reset=='object'&&!this.reset.nodeType)){this.reset();}});};$.fn.enable=function(b){if(b===undefined){b=true;}
return this.each(function(){this.disabled=!b;});};$.fn.selected=function(select){if(select===undefined){select=true;}
return this.each(function(){var t=this.type;if(t=='checkbox'||t=='radio'){this.checked=select;}
else if(this.tagName.toLowerCase()=='option'){var $sel=$(this).parent('select');if(select&&$sel[0]&&$sel[0].type=='select-one'){$sel.find('option').selected(false);}
this.selected=select;}});};$.fn.ajaxSubmit.debug=false;function log(){if(!$.fn.ajaxSubmit.debug)
return;var msg='[jquery.form] '+Array.prototype.join.call(arguments,'');if(window.console&&window.console.log){window.console.log(msg);}
else if(window.opera&&window.opera.postError){window.opera.postError(msg);}}})(jQuery);

(function($){'use strict';var jCarousel=$.jCarousel={};jCarousel.version='0.3.4';var rRelativeTarget=/^([+\-]=)?(.+)$/;jCarousel.parseTarget=function(target){var relative=false,parts=typeof target!=='object'?rRelativeTarget.exec(target):null;if(parts){target=parseInt(parts[2],10)||0;if(parts[1]){relative=true;if(parts[1]==='-='){target*=-1;}}}else if(typeof target!=='object'){target=parseInt(target,10)||0;}
return{target:target,relative:relative};};jCarousel.detectCarousel=function(element){var carousel;while(element.length>0){carousel=element.filter('[data-jcarousel]');if(carousel.length>0){return carousel;}
carousel=element.find('[data-jcarousel]');if(carousel.length>0){return carousel;}
element=element.parent();}
return null;};jCarousel.base=function(pluginName){return{version:jCarousel.version,_options:{},_element:null,_carousel:null,_init:$.noop,_create:$.noop,_destroy:$.noop,_reload:$.noop,create:function(){this._element.attr('data-'+pluginName.toLowerCase(),true).data(pluginName,this);if(false===this._trigger('create')){return this;}
this._create();this._trigger('createend');return this;},destroy:function(){if(false===this._trigger('destroy')){return this;}
this._destroy();this._trigger('destroyend');this._element.removeData(pluginName).removeAttr('data-'+pluginName.toLowerCase());return this;},reload:function(options){if(false===this._trigger('reload')){return this;}
if(options){this.options(options);}
this._reload();this._trigger('reloadend');return this;},element:function(){return this._element;},options:function(key,value){if(arguments.length===0){return $.extend({},this._options);}
if(typeof key==='string'){if(typeof value==='undefined'){return typeof this._options[key]==='undefined'?null:this._options[key];}
this._options[key]=value;}else{this._options=$.extend({},this._options,key);}
return this;},carousel:function(){if(!this._carousel){this._carousel=jCarousel.detectCarousel(this.options('carousel')||this._element);if(!this._carousel){$.error('Could not detect carousel for plugin "'+pluginName+'"');}}
return this._carousel;},_trigger:function(type,element,data){var event,defaultPrevented=false;data=[this].concat(data||[]);(element||this._element).each(function(){event=$.Event((pluginName+':'+type).toLowerCase());$(this).trigger(event,data);if(event.isDefaultPrevented()){defaultPrevented=true;}});return!defaultPrevented;}};};jCarousel.plugin=function(pluginName,pluginPrototype){var Plugin=$[pluginName]=function(element,options){this._element=$(element);this.options(options);this._init();this.create();};Plugin.fn=Plugin.prototype=$.extend({},jCarousel.base(pluginName),pluginPrototype);$.fn[pluginName]=function(options){var args=Array.prototype.slice.call(arguments,1),returnValue=this;if(typeof options==='string'){this.each(function(){var instance=$(this).data(pluginName);if(!instance){return $.error('Cannot call methods on '+pluginName+' prior to initialization; '+'attempted to call method "'+options+'"');}
if(!$.isFunction(instance[options])||options.charAt(0)==='_'){return $.error('No such method "'+options+'" for '+pluginName+' instance');}
var methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&typeof methodValue!=='undefined'){returnValue=methodValue;return false;}});}else{this.each(function(){var instance=$(this).data(pluginName);if(instance instanceof Plugin){instance.reload(options);}else{new Plugin(this,options);}});}
return returnValue;};return Plugin;};}(jQuery));(function($,window){'use strict';var toFloat=function(val){return parseFloat(val)||0;};$.jCarousel.plugin('jcarousel',{animating:false,tail:0,inTail:false,resizeTimer:null,lt:null,vertical:false,rtl:false,circular:false,underflow:false,relative:false,_options:{list:function(){return this.element().children().eq(0);},items:function(){return this.list().children();},animation:400,transitions:false,wrap:null,vertical:null,rtl:null,center:false},_list:null,_items:null,_target:$(),_first:$(),_last:$(),_visible:$(),_fullyvisible:$(),_init:function(){var self=this;this.onWindowResize=function(){if(self.resizeTimer){clearTimeout(self.resizeTimer);}
self.resizeTimer=setTimeout(function(){self.reload();},100);};return this;},_create:function(){this._reload();$(window).on('resize.jcarousel',this.onWindowResize);},_destroy:function(){$(window).off('resize.jcarousel',this.onWindowResize);},_reload:function(){this.vertical=this.options('vertical');if(this.vertical==null){this.vertical=this.list().height()>this.list().width();}
this.rtl=this.options('rtl');if(this.rtl==null){this.rtl=(function(element){if((''+element.attr('dir')).toLowerCase()==='rtl'){return true;}
var found=false;element.parents('[dir]').each(function(){if((/rtl/i).test($(this).attr('dir'))){found=true;return false;}});return found;}(this._element));}
this.lt=this.vertical?'top':'left';this.relative=this.list().css('position')==='relative';this._list=null;this._items=null;var item=this.index(this._target)>=0?this._target:this.closest();this.circular=this.options('wrap')==='circular';this.underflow=false;var props={'left':0,'top':0};if(item.length>0){this._prepare(item);this.list().find('[data-jcarousel-clone]').remove();this._items=null;this.underflow=this._fullyvisible.length>=this.items().length;this.circular=this.circular&&!this.underflow;props[this.lt]=this._position(item)+'px';}
this.move(props);return this;},list:function(){if(this._list===null){var option=this.options('list');this._list=$.isFunction(option)?option.call(this):this._element.find(option);}
return this._list;},items:function(){if(this._items===null){var option=this.options('items');this._items=($.isFunction(option)?option.call(this):this.list().find(option)).not('[data-jcarousel-clone]');}
return this._items;},index:function(item){return this.items().index(item);},closest:function(){var self=this,pos=this.list().position()[this.lt],closest=$(),stop=false,lrb=this.vertical?'bottom':(this.rtl&&!this.relative?'left':'right'),width;if(this.rtl&&this.relative&&!this.vertical){pos+=this.list().width()-this.clipping();}
this.items().each(function(){closest=$(this);if(stop){return false;}
var dim=self.dimension(closest);pos+=dim;if(pos>=0){width=dim-toFloat(closest.css('margin-'+lrb));if((Math.abs(pos)-dim+(width/2))<=0){stop=true;}else{return false;}}});return closest;},target:function(){return this._target;},first:function(){return this._first;},last:function(){return this._last;},visible:function(){return this._visible;},fullyvisible:function(){return this._fullyvisible;},hasNext:function(){if(false===this._trigger('hasnext')){return true;}
var wrap=this.options('wrap'),end=this.items().length-1,check=this.options('center')?this._target:this._last;return end>=0&&!this.underflow&&((wrap&&wrap!=='first')||(this.index(check)<end)||(this.tail&&!this.inTail))?true:false;},hasPrev:function(){if(false===this._trigger('hasprev')){return true;}
var wrap=this.options('wrap');return this.items().length>0&&!this.underflow&&((wrap&&wrap!=='last')||(this.index(this._first)>0)||(this.tail&&this.inTail))?true:false;},clipping:function(){return this._element['inner'+(this.vertical?'Height':'Width')]();},dimension:function(element){return element['outer'+(this.vertical?'Height':'Width')](true);},scroll:function(target,animate,callback){if(this.animating){return this;}
if(false===this._trigger('scroll',null,[target,animate])){return this;}
if($.isFunction(animate)){callback=animate;animate=true;}
var parsed=$.jCarousel.parseTarget(target);if(parsed.relative){var end=this.items().length-1,scroll=Math.abs(parsed.target),wrap=this.options('wrap'),current,first,index,start,curr,isVisible,props,i;if(parsed.target>0){var last=this.index(this._last);if(last>=end&&this.tail){if(!this.inTail){this._scrollTail(animate,callback);}else{if(wrap==='both'||wrap==='last'){this._scroll(0,animate,callback);}else{if($.isFunction(callback)){callback.call(this,false);}}}}else{current=this.index(this._target);if((this.underflow&&current===end&&(wrap==='circular'||wrap==='both'||wrap==='last'))||(!this.underflow&&last===end&&(wrap==='both'||wrap==='last'))){this._scroll(0,animate,callback);}else{index=current+scroll;if(this.circular&&index>end){i=end;curr=this.items().get(-1);while(i++<index){curr=this.items().eq(0);isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr('data-jcarousel-clone',true));}
this.list().append(curr);if(!isVisible){props={};props[this.lt]=this.dimension(curr);this.moveBy(props);}
this._items=null;}
this._scroll(curr,animate,callback);}else{this._scroll(Math.min(index,end),animate,callback);}}}}else{if(this.inTail){this._scroll(Math.max((this.index(this._first)-scroll)+1,0),animate,callback);}else{first=this.index(this._first);current=this.index(this._target);start=this.underflow?current:first;index=start-scroll;if(start<=0&&((this.underflow&&wrap==='circular')||wrap==='both'||wrap==='first')){this._scroll(end,animate,callback);}else{if(this.circular&&index<0){i=index;curr=this.items().get(0);while(i++<0){curr=this.items().eq(-1);isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr('data-jcarousel-clone',true));}
this.list().prepend(curr);this._items=null;var dim=this.dimension(curr);props={};props[this.lt]=-dim;this.moveBy(props);}
this._scroll(curr,animate,callback);}else{this._scroll(Math.max(index,0),animate,callback);}}}}}else{this._scroll(parsed.target,animate,callback);}
this._trigger('scrollend');return this;},moveBy:function(properties,opts){var position=this.list().position(),multiplier=1,correction=0;if(this.rtl&&!this.vertical){multiplier=-1;if(this.relative){correction=this.list().width()-this.clipping();}}
if(properties.left){properties.left=(position.left+correction+toFloat(properties.left)*multiplier)+'px';}
if(properties.top){properties.top=(position.top+correction+toFloat(properties.top)*multiplier)+'px';}
return this.move(properties,opts);},move:function(properties,opts){opts=opts||{};var option=this.options('transitions'),transitions=!!option,transforms=!!option.transforms,transforms3d=!!option.transforms3d,duration=opts.duration||0,list=this.list();if(!transitions&&duration>0){list.animate(properties,opts);return;}
var complete=opts.complete||$.noop,css={};if(transitions){var backup={transitionDuration:list.css('transitionDuration'),transitionTimingFunction:list.css('transitionTimingFunction'),transitionProperty:list.css('transitionProperty')},oldComplete=complete;complete=function(){$(this).css(backup);oldComplete.call(this);};css={transitionDuration:(duration>0?duration/1000:0)+'s',transitionTimingFunction:option.easing||opts.easing,transitionProperty:duration>0?(function(){if(transforms||transforms3d){return'all';}
return properties.left?'left':'top';})():'none',transform:'none'};}
if(transforms3d){css.transform='translate3d('+(properties.left||0)+','+(properties.top||0)+',0)';}else if(transforms){css.transform='translate('+(properties.left||0)+','+(properties.top||0)+')';}else{$.extend(css,properties);}
if(transitions&&duration>0){list.one('transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd',complete);}
list.css(css);if(duration<=0){list.each(function(){complete.call(this);});}},_scroll:function(item,animate,callback){if(this.animating){if($.isFunction(callback)){callback.call(this,false);}
return this;}
if(typeof item!=='object'){item=this.items().eq(item);}else if(typeof item.jquery==='undefined'){item=$(item);}
if(item.length===0){if($.isFunction(callback)){callback.call(this,false);}
return this;}
this.inTail=false;this._prepare(item);var pos=this._position(item),currPos=this.list().position()[this.lt];if(pos===currPos){if($.isFunction(callback)){callback.call(this,false);}
return this;}
var properties={};properties[this.lt]=pos+'px';this._animate(properties,animate,callback);return this;},_scrollTail:function(animate,callback){if(this.animating||!this.tail){if($.isFunction(callback)){callback.call(this,false);}
return this;}
var pos=this.list().position()[this.lt];if(this.rtl&&this.relative&&!this.vertical){pos+=this.list().width()-this.clipping();}
if(this.rtl&&!this.vertical){pos+=this.tail;}else{pos-=this.tail;}
this.inTail=true;var properties={};properties[this.lt]=pos+'px';this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())});this._animate(properties,animate,callback);return this;},_animate:function(properties,animate,callback){callback=callback||$.noop;if(false===this._trigger('animate')){callback.call(this,false);return this;}
this.animating=true;var animation=this.options('animation'),complete=$.proxy(function(){this.animating=false;var c=this.list().find('[data-jcarousel-clone]');if(c.length>0){c.remove();this._reload();}
this._trigger('animateend');callback.call(this,true);},this);var opts=typeof animation==='object'?$.extend({},animation):{duration:animation},oldComplete=opts.complete||$.noop;if(animate===false){opts.duration=0;}else if(typeof $.fx.speeds[opts.duration]!=='undefined'){opts.duration=$.fx.speeds[opts.duration];}
opts.complete=function(){complete();oldComplete.call(this);};this.move(properties,opts);return this;},_prepare:function(item){var index=this.index(item),idx=index,wh=this.dimension(item),clip=this.clipping(),lrb=this.vertical?'bottom':(this.rtl?'left':'right'),center=this.options('center'),update={target:item,first:item,last:item,visible:item,fullyvisible:wh<=clip?item:$()},curr,isVisible,margin,dim;if(center){wh/=2;clip/=2;}
if(wh<clip){while(true){curr=this.items().eq(++idx);if(curr.length===0){if(!this.circular){break;}
curr=this.items().eq(0);if(item.get(0)===curr.get(0)){break;}
isVisible=this._visible.index(curr)>=0;if(isVisible){curr.after(curr.clone(true).attr('data-jcarousel-clone',true));}
this.list().append(curr);if(!isVisible){var props={};props[this.lt]=this.dimension(curr);this.moveBy(props);}
this._items=null;}
dim=this.dimension(curr);if(dim===0){break;}
wh+=dim;update.last=curr;update.visible=update.visible.add(curr);margin=toFloat(curr.css('margin-'+lrb));if((wh-margin)<=clip){update.fullyvisible=update.fullyvisible.add(curr);}
if(wh>=clip){break;}}}
if(!this.circular&&!center&&wh<clip){idx=index;while(true){if(--idx<0){break;}
curr=this.items().eq(idx);if(curr.length===0){break;}
dim=this.dimension(curr);if(dim===0){break;}
wh+=dim;update.first=curr;update.visible=update.visible.add(curr);margin=toFloat(curr.css('margin-'+lrb));if((wh-margin)<=clip){update.fullyvisible=update.fullyvisible.add(curr);}
if(wh>=clip){break;}}}
this._update(update);this.tail=0;if(!center&&this.options('wrap')!=='circular'&&this.options('wrap')!=='custom'&&this.index(update.last)===(this.items().length-1)){wh-=toFloat(update.last.css('margin-'+lrb));if(wh>clip){this.tail=wh-clip;}}
return this;},_position:function(item){var first=this._first,pos=first.position()[this.lt],center=this.options('center'),centerOffset=center?(this.clipping()/2)-(this.dimension(first)/2):0;if(this.rtl&&!this.vertical){if(this.relative){pos-=this.list().width()-this.dimension(first);}else{pos-=this.clipping()-this.dimension(first);}
pos+=centerOffset;}else{pos-=centerOffset;}
if(!center&&(this.index(item)>this.index(first)||this.inTail)&&this.tail){pos=this.rtl&&!this.vertical?pos-this.tail:pos+this.tail;this.inTail=true;}else{this.inTail=false;}
return-pos;},_update:function(update){var self=this,current={target:this._target,first:this._first,last:this._last,visible:this._visible,fullyvisible:this._fullyvisible},back=this.index(update.first||current.first)<this.index(current.first),key,doUpdate=function(key){var elIn=[],elOut=[];update[key].each(function(){if(current[key].index(this)<0){elIn.push(this);}});current[key].each(function(){if(update[key].index(this)<0){elOut.push(this);}});if(back){elIn=elIn.reverse();}else{elOut=elOut.reverse();}
self._trigger(key+'in',$(elIn));self._trigger(key+'out',$(elOut));self['_'+key]=update[key];};for(key in update){doUpdate(key);}
return this;}});}(jQuery,window));
;(function($){var mlens=[],instance=0,methods={init:function(options){var defaults={lensShape:"square",lensSize:100,borderSize:4,borderColor:"#888",borderRadius:0,imgSrc:"",imgSrc2x:"",lensCss:"",imgOverlay:"",overlayAdapt:true,zoomLevel:1},settings=$.extend({},defaults,options);this.each(function(){var $image=$(this),data=$image.data("mlens"),$target=$(),$overlay=$(),$imageWrapper=$(),$imageTag=$(),imgSrc=$image.attr("src"),imgWidth="auto";if(typeof(settings.zoomLevel)!=="number"||settings.zoomLevel<=0){settings.zoomLevel=defaults.zoomLevel;}
var bigimg=new Image();if(settings.imgSrc2x!==""&&window.devicePixelRatio>1){imgSrc=settings.imgSrc2x;bigimg.onload=function(){imgWidth=String(parseInt(this.width/2)*settings.zoomLevel)+"px";$target.css({"backgroundSize":imgWidth+" auto"});$imageTag.css({"width":imgWidth});};bigimg.src=imgSrc;}
else{if(settings.imgSrc!==""){imgSrc=settings.imgSrc;}
bigimg.onload=function(){imgWidth=String(parseInt(this.width)*settings.zoomLevel)+"px";$target.css({"backgroundSize":imgWidth+" auto"});$imageTag.css({"width":imgWidth});};bigimg.src=imgSrc;}
var lensStyle="background-position: 0px 0px;width: "+String(settings.lensSize)+"px;height: "+String(settings.lensSize)+"px;"+"float: left;display: none;border: "+String(settings.borderSize)+"px solid "+settings.borderColor+";"+"background-repeat: no-repeat;position: absolute;";var overlayStyle="position: absolute; width: 100%; height: 100%; left: 0; top: 0; background-position: center center; background-repeat: no-repeat; z-index: 1;";if(settings.overlayAdapt===true){overlayStyle=overlayStyle+"background-position: center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;";}
switch(settings.lensShape){case"square":lensStyle=lensStyle+"border-radius:"+String(settings.borderRadius)+"px;";overlayStyle=overlayStyle+"border-radius:"+String(settings.borderRadius)+"px;";break;case"":lensStyle=lensStyle+"border-radius:"+String(settings.borderRadius)+"px;";overlayStyle=overlayStyle+"border-radius:"+String(settings.borderRadius)+"px;";break;case"circle":lensStyle=lensStyle+"border-radius: "+String(settings.lensSize/2+settings.borderSize)+"px;";overlayStyle=overlayStyle+"border-radius: "+String(settings.lensSize/2+settings.borderSize)+"px;";break;default:lensStyle=lensStyle+"border-radius:"+String(settings.borderRadius)+"px;";overlayStyle=overlayStyle+"border-radius:"+String(settings.borderRadius)+"px;";break;}
$image.wrap("<div id='mlens_wrapper_"+instance+"' />");$imageWrapper=$image.parent();$imageWrapper.css({"width":$image.width()});$target=$("<div id='mlens_target_"+instance+"' style='"+lensStyle+"' class='"+settings.lensCss+"'>&nbsp;</div>").appendTo($imageWrapper);$target.css({"backgroundImage":"url('"+imgSrc+"')","backgroundSize":imgWidth+" auto","cursor":"none"});$imageTag=$("<img style='display:none;width:"+imgWidth+";height:auto;max-width:none;max-height;none;' src='"+imgSrc+"' />").appendTo($imageWrapper);if(settings.imgOverlay!==""){$overlay=$("<div id='mlens_overlay_"+instance+"' style='"+overlayStyle+"'>&nbsp;</div>");$overlay.css({"backgroundImage":"url('"+settings.imgOverlay+"')","cursor":"none"});$overlay.appendTo($target);}
$image.attr("data-id","mlens_"+instance);$target.mousemove(function(e){$.fn.mlens("move",$image.attr("data-id"),e);});$image.mousemove(function(e){$.fn.mlens("move",$image.attr("data-id"),e);});$target.on("touchmove",function(e){e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];$.fn.mlens("move",$image.attr("data-id"),touch);});$image.on("touchmove",function(e){e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];$.fn.mlens("move",$image.attr("data-id"),touch);});$target.hover(function(){$(this).show();},function(){$(this).hide();});$image.hover(function(){$target.show();},function(){$target.hide();});$target.on("touchstart",function(e){e.preventDefault();$(this).show();});$target.on("touchend",function(e){e.preventDefault();$(this).hide();});$image.on("touchstart",function(e){e.preventDefault();$target.show();});$image.on("touchend",function(e){e.preventDefault();$target.hide();});$image.data("mlens",{image:$image,settings:settings,target:$target,imageTag:$imageTag,imgSrc:imgSrc,imgWidth:imgWidth,imageWrapper:$imageWrapper,overlay:$overlay,instance:instance});data=$image.data("mlens");mlens[instance]=data;instance++;return mlens;});},move:function(id,e){id=find_instance(id);var data=mlens[id],$image=data.image,$target=data.target,$imageTag=data.imageTag,offset=$image.offset(),leftPos=parseInt(e.pageX-offset.left),topPos=parseInt(e.pageY-offset.top),widthRatio=$imageTag.width()/$image.width(),heightRatio=$imageTag.height()/$image.height();if(leftPos>0&&topPos>0&&leftPos<$image.width()&&topPos<$image.height()){leftPos=String(-((e.pageX-offset.left)*widthRatio-$target.width()/2));topPos=String(-((e.pageY-offset.top)*heightRatio-$target.height()/2));$target.css({"backgroundPosition":leftPos+"px "+topPos+"px"});leftPos=String(e.pageX-offset.left-$target.width()/2);topPos=String(e.pageY-offset.top-$target.height()/2);$target.css({"left":leftPos+"px","top":topPos+"px"});}
data.target=$target;mlens[id]=data;return mlens;},update:function(options){var id=find_instance($(this).attr("data-id")),data=mlens[id],$image=data.image,$target=data.target,$overlay=data.overlay,$imageTag=data.imageTag,imgSrc=data.imgSrc,defaults=data.settings,settings=$.extend({},defaults,options),imgWidth="auto",bigimg=new Image();if(settings.imgSrc2x!==""&&window.devicePixelRatio>1){imgSrc=settings.imgSrc2x;bigimg.onload=function(){imgWidth=String(parseInt(this.width/2))+"px";$target.css({"backgroundSize":imgWidth+" auto"});$imageTag.css({"width":imgWidth});};bigimg.src=imgSrc;}
else{if(settings.imgSrc!==""){imgSrc=settings.imgSrc;}
bigimg.onload=function(){imgWidth=String(parseInt(this.width)*settings.zoomLevel)+"px";$target.css({"backgroundSize":imgWidth+" auto"});$imageTag.css({"width":imgWidth});};bigimg.src=imgSrc;}
var lensStyle="background-position: 0px 0px;width: "+String(settings.lensSize)+"px;height: "+String(settings.lensSize)+"px;"+"float: left;display: none;border: "+String(settings.borderSize)+"px solid "+settings.borderColor+";"+"background-repeat: no-repeat;position: absolute;";var overlayStyle="position: absolute; width: 100%; height: 100%; left: 0; top: 0; background-position: center center; background-repeat: no-repeat; z-index: 1;";if(settings.overlayAdapt===true){overlayStyle=overlayStyle+"background-position: center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;";}
switch(settings.lensShape){case"square":lensStyle=lensStyle+"border-radius:"+String(settings.borderRadius)+"px;";overlayStyle=overlayStyle+"border-radius:"+String(settings.borderRadius)+"px;";break;case"":lensStyle=lensStyle+"border-radius:"+String(settings.borderRadius)+"px;";overlayStyle=overlayStyle+"border-radius:"+String(settings.borderRadius)+"px;";break;case"circle":lensStyle=lensStyle+"border-radius: "+String(settings.lensSize/2+settings.borderSize)+"px;";overlayStyle=overlayStyle+"border-radius: "+String(settings.lensSize/2+settings.borderSize)+"px;";break;default:lensStyle=lensStyle+"border-radius:"+String(settings.borderRadius)+"px;";overlayStyle=overlayStyle+"border-radius:"+String(settings.borderRadius)+"px;";break;}
$target.attr("style",lensStyle);$imageTag.attr("src",imgSrc);$imageTag.css({"width":imgWidth});$target.css({"backgroundImage":"url('"+imgSrc+"')","backgroundSize":imgWidth+" auto","cursor":"none"});$overlay.attr("style",overlayStyle);$overlay.css({"backgroundImage":"url('"+settings.imgOverlay+"')","cursor":"none"});data.image=$image;data.target=$target;data.overlay=$overlay;data.settings=settings;data.imgSrc=imgSrc;data.imageTag=$imageTag;mlens[id]=data;return mlens;},destroy:function(){var id=find_instance($(this).attr("data-id")),data=mlens[id];data.target.remove();data.imageTag.remove();data.image.unwrap();data.overlay.remove();$.removeData(data,"mlens");this.unbind();this.element=null;}};function find_instance(id){if(typeof(id)==="string")
{var position=id.indexOf("_");if(position!=-1)
{id=id.substr(position+1);}}
return id;}
$.fn.mlens=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}
else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}
else{$.error('Method '+method+' does not exist on jQuery.mlens');}};})(jQuery);

(function($){$.extend($.fn,{pstrength:function(options){var options=$.extend({verdicts:["Very Weak","Weak","Medium","Strong","Very Strong"],colors:["#f00","#c06","#f60","#3c0","#3f0"],scores:[10,15,30,40],minchar:6,tooShort:"Too Short!",minCharText:"Minimum length is %d characters"},options);return this.each(function(){var infoarea=$(this).attr('id');if(options.minchar>0)
$(this).after('<div class="pstrength-minchar" id="'+infoarea+'_minchar">'+options.minCharText.replace('%d',options.minchar)+'</div>');$(this).after('<div class="pstrength-info" id="'+infoarea+'_text"></div>');$(this).after('<div><div class="pstrength-bar" id="'+infoarea+'_bar" style="border: 1px solid white; font-size: 1px; height: 5px; width: 0px;"></div></div>');$(this).keyup(function(){$.fn.runPassword($(this).val(),infoarea,options);});});},runPassword:function(password,infoarea,options){nPerc=$.fn.checkPassword(password,options);var ctlBar="#"+infoarea+"_bar";var ctlText="#"+infoarea+"_text";if(nPerc<0){strColor='#ccc';strText=options.tooShort;$(ctlBar).css({width:"5%"});}
else if(nPerc<=options.scores[0])
{strColor=options.colors[0];strText=options.verdicts[0];$(ctlBar).css({width:"10%"});}
else if(nPerc>options.scores[0]&&nPerc<=options.scores[1])
{strColor=options.colors[1];strText=options.verdicts[1];$(ctlBar).css({width:"20%"});}
else if(nPerc>options.scores[1]&&nPerc<=options.scores[2])
{strColor=options.colors[2];strText=options.verdicts[2];$(ctlBar).css({width:"40%"});}
else if(nPerc>options.scores[2]&&nPerc<=options.scores[3])
{strColor=options.colors[3];strText=options.verdicts[3];$(ctlBar).css({width:"60%"});}
else
{strColor=options.colors[4];strText=options.verdicts[4];$(ctlBar).css({width:"80%"});}
$(ctlBar).css({backgroundColor:strColor});$(ctlText).html("<span style='color: "+strColor+";'>"+strText+"</span>");},checkPassword:function(password,options)
{var intScore=0;var strVerdict=options.verdicts[0];if(password.length<options.minchar)
{intScore=(intScore-100)}
else if(password.length>=options.minchar&&password.length<=(options.minchar+2))
{intScore=(intScore+6)}
else if(password.length>=(options.minchar+3)&&password.length<=(options.minchar+4))
{intScore=(intScore+12)}
else if(password.length>=(options.minchar+5))
{intScore=(intScore+18)}
if(password.match(/[a-z]/))
{intScore=(intScore+1)}
if(password.match(/[A-Z]/))
{intScore=(intScore+5)}
if(password.match(/\d+/))
{intScore=(intScore+5)}
if(password.match(/(.*[0-9].*[0-9].*[0-9])/))
{intScore=(intScore+7)}
if(password.match(/.[!,@,#,$,%,^,&,*,?,_,~]/))
{intScore=(intScore+5)}
if(password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/))
{intScore=(intScore+7)}
if(password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/))
{intScore=(intScore+2)}
if(password.match(/([a-zA-Z])/)&&password.match(/([0-9])/))
{intScore=(intScore+3)}
if(password.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/))
{intScore=(intScore+3)}
return intScore;}});})(jQuery);

new function(settings){var $separator=settings.separator||'&';var $spaces=settings.spaces===false?false:true;var $suffix=settings.suffix===false?'':'[]';var $prefix=settings.prefix===false?false:true;var $hash=$prefix?settings.hash===true?"#":"?":"";var $numbers=settings.numbers===false?false:true;jQuery.query=new function(){var is=function(o,t){return o!=undefined&&o!==null&&(!!t?o.constructor==t:true);};var parse=function(path){var m,rx=/\[([^[]*)\]/g,match=/^([^[]+)(\[.*\])?$/.exec(path),base=match[1],tokens=[];while(m=rx.exec(match[2]))tokens.push(m[1]);return[base,tokens];};var set=function(target,tokens,value){var o,token=tokens.shift();if(typeof target!='object')target=null;if(token===""){if(!target)target=[];if(is(target,Array)){target.push(tokens.length==0?value:set(null,tokens.slice(0),value));}else if(is(target,Object)){var i=0;while(target[i++]!=null);target[--i]=tokens.length==0?value:set(target[i],tokens.slice(0),value);}else{target=[];target.push(tokens.length==0?value:set(null,tokens.slice(0),value));}}else if(token&&token.match(/^\s*[0-9]+\s*$/)){var index=parseInt(token,10);if(!target)target=[];target[index]=tokens.length==0?value:set(target[index],tokens.slice(0),value);}else if(token){var index=token.replace(/^\s*|\s*$/g,"");if(!target)target={};if(is(target,Array)){var temp={};for(var i=0;i<target.length;++i){temp[i]=target[i];}
target=temp;}
target[index]=tokens.length==0?value:set(target[index],tokens.slice(0),value);}else{return value;}
return target;};var queryObject=function(a){var self=this;self.keys={};if(a.queryObject){jQuery.each(a.get(),function(key,val){self.SET(key,val);});}else{jQuery.each(arguments,function(){var q=""+this;q=q.replace(/^[?#]/,'');q=q.replace(/[;&]$/,'');if($spaces)q=q.replace(/[+]/g,' ');jQuery.each(q.split(/[&;]/),function(){var key=decodeURIComponent(this.split('=')[0]||"");var val=decodeURIComponent(this.split('=')[1]||"");if(!key)return;if($numbers){if(/^[+-]?[0-9]+\.[0-9]*$/.test(val))
val=parseFloat(val);else if(/^[+-]?[0-9]+$/.test(val))
val=parseInt(val,10);}
val=(!val&&val!==0)?true:val;if(val!==false&&val!==true&&typeof val!='number')
val=val;self.SET(key,val);});});}
return self;};queryObject.prototype={queryObject:true,has:function(key,type){var value=this.get(key);return is(value,type);},GET:function(key){if(!is(key))return this.keys;var parsed=parse(key),base=parsed[0],tokens=parsed[1];var target=this.keys[base];while(target!=null&&tokens.length!=0){target=target[tokens.shift()];}
return typeof target=='number'?target:target||"";},get:function(key){var target=this.GET(key);if(is(target,Object))
return jQuery.extend(true,{},target);else if(is(target,Array))
return target.slice(0);return target;},SET:function(key,val){var value=!is(val)?null:val;var parsed=parse(key),base=parsed[0],tokens=parsed[1];var target=this.keys[base];this.keys[base]=set(target,tokens.slice(0),value);return this;},set:function(key,val){return this.copy().SET(key,val);},REMOVE:function(key){return this.SET(key,null).COMPACT();},remove:function(key){return this.copy().REMOVE(key);},EMPTY:function(){var self=this;jQuery.each(self.keys,function(key,value){delete self.keys[key];});return self;},load:function(url){var hash=url.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1");var search=url.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new queryObject(url.length==search.length?'':search,url.length==hash.length?'':hash);},empty:function(){return this.copy().EMPTY();},copy:function(){return new queryObject(this);},COMPACT:function(){function build(orig){var obj=typeof orig=="object"?is(orig,Array)?[]:{}:orig;if(typeof orig=='object'){function add(o,key,value){if(is(o,Array))
o.push(value);else
o[key]=value;}
jQuery.each(orig,function(key,value){if(!is(value))return true;add(obj,key,build(value));});}
return obj;}
this.keys=build(this.keys);return this;},compact:function(){return this.copy().COMPACT();},toString:function(){var i=0,queryString=[],chunks=[],self=this;var encode=function(str){str=str+"";if($spaces)str=str.replace(/ /g,"+");return encodeURIComponent(str);};var addFields=function(arr,key,value){if(!is(value)||value===false)return;var o=[encode(key)];if(value!==true){o.push("=");o.push(encode(value));}
arr.push(o.join(""));};var build=function(obj,base){var newKey=function(key){return!base||base==""?[key].join(""):[base,"[",key,"]"].join("");};jQuery.each(obj,function(key,value){if(typeof value=='object')
build(value,newKey(key));else
addFields(chunks,newKey(key),value);});};build(this.keys);if(chunks.length>0)queryString.push($hash);queryString.push(chunks.join($separator));return queryString.join("");}};return new queryObject(location.search,location.hash);};}(jQuery.query||{});;

(function(jQuery,undefined){var oldManip=jQuery.fn.domManip,tmplItmAtt="_tmplitem",htmlExpr=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,newTmplItems={},wrappedItems={},appendToTmplItems,topTmplItem={key:0,data:{}},itemKey=0,cloneIndex=0,stack=[];function newTmplItem(options,parentItem,fn,data){var newItem={data:data||(data===0||data===false)?data:(parentItem?parentItem.data:{}),_wrap:parentItem?parentItem._wrap:null,tmpl:null,parent:parentItem||null,nodes:[],calls:tiCalls,nest:tiNest,wrap:tiWrap,html:tiHtml,update:tiUpdate};if(options){jQuery.extend(newItem,options,{nodes:[],parent:parentItem});}
if(fn){newItem.tmpl=fn;newItem._ctnt=newItem._ctnt||newItem.tmpl(jQuery,newItem);newItem.key=++itemKey;(stack.length?wrappedItems:newTmplItems)[itemKey]=newItem;}
return newItem;}
jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),elems,i,l,tmplItems,parent=this.length===1&&this[0].parentNode;appendToTmplItems=newTmplItems||{};if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);ret=this;}else{for(i=0,l=insert.length;i<l;i++){cloneIndex=i;elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems);}
cloneIndex=0;ret=this.pushStack(ret,name,insert.selector);}
tmplItems=appendToTmplItems;appendToTmplItems=null;jQuery.tmpl.complete(tmplItems);return ret;};});jQuery.fn.extend({tmpl:function(data,options,parentItem){return jQuery.tmpl(this[0],data,options,parentItem);},tmplItem:function(){return jQuery.tmplItem(this[0]);},template:function(name){return jQuery.template(name,this[0]);},domManip:function(args,table,callback,options){if(args[0]&&jQuery.isArray(args[0])){var dmArgs=jQuery.makeArray(arguments),elems=args[0],elemsLength=elems.length,i=0,tmplItem;while(i<elemsLength&&!(tmplItem=jQuery.data(elems[i++],"tmplItem"))){}
if(tmplItem&&cloneIndex){dmArgs[2]=function(fragClone){jQuery.tmpl.afterManip(this,fragClone,callback);};}
oldManip.apply(this,dmArgs);}else{oldManip.apply(this,arguments);}
cloneIndex=0;if(!appendToTmplItems){jQuery.tmpl.complete(newTmplItems);}
return this;}});jQuery.extend({tmpl:function(tmpl,data,options,parentItem){var ret,topLevel=!parentItem;if(topLevel){parentItem=topTmplItem;tmpl=jQuery.template[tmpl]||jQuery.template(null,tmpl);wrappedItems={};}else if(!tmpl){tmpl=parentItem.tmpl;newTmplItems[parentItem.key]=parentItem;parentItem.nodes=[];if(parentItem.wrapped){updateWrapped(parentItem,parentItem.wrapped);}
return jQuery(build(parentItem,null,parentItem.tmpl(jQuery,parentItem)));}
if(!tmpl){return[];}
if(typeof data==="function"){data=data.call(parentItem||{});}
if(options&&options.wrapped){updateWrapped(options,options.wrapped);}
ret=jQuery.isArray(data)?jQuery.map(data,function(dataItem){return dataItem?newTmplItem(options,parentItem,tmpl,dataItem):null;}):[newTmplItem(options,parentItem,tmpl,data)];return topLevel?jQuery(build(parentItem,null,ret)):ret;},tmplItem:function(elem){var tmplItem;if(elem instanceof jQuery){elem=elem[0];}
while(elem&&elem.nodeType===1&&!(tmplItem=jQuery.data(elem,"tmplItem"))&&(elem=elem.parentNode)){}
return tmplItem||topTmplItem;},template:function(name,tmpl){if(tmpl){if(typeof tmpl==="string"){tmpl=buildTmplFn(tmpl);}else if(tmpl instanceof jQuery){tmpl=tmpl[0]||{};}
if(tmpl.nodeType){tmpl=jQuery.data(tmpl,"tmpl")||jQuery.data(tmpl,"tmpl",buildTmplFn(tmpl.innerHTML));}
return typeof name==="string"?(jQuery.template[name]=tmpl):tmpl;}
return name?(typeof name!=="string"?jQuery.template(null,name):(jQuery.template[name]||jQuery.template(null,htmlExpr.test(name)?name:jQuery(name)))):null;},encode:function(text){return(""+text).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;");}});jQuery.extend(jQuery.tmpl,{tag:{"tmpl":{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},"wrap":{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},"each":{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},"html":{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(items){newTmplItems={};},afterManip:function afterManip(elem,fragClone,callback){var content=fragClone.nodeType===11?jQuery.makeArray(fragClone.childNodes):fragClone.nodeType===1?[fragClone]:[];callback.call(elem,fragClone);storeTmplItems(content);cloneIndex++;}});function build(tmplItem,nested,content){var frag,ret=content?jQuery.map(content,function(item){return(typeof item==="string")?(tmplItem.key?item.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+tmplItmAtt+"=\""+tmplItem.key+"\" $2"):item):build(item,tmplItem,item._ctnt);}):tmplItem;if(nested){return ret;}
ret=ret.join("");ret.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(all,before,middle,after){frag=jQuery(middle).get();storeTmplItems(frag);if(before){frag=unencode(before).concat(frag);}
if(after){frag=frag.concat(unencode(after));}});return frag?frag:unencode(ret);}
function unencode(text){var el=document.createElement("div");el.innerHTML=text;return jQuery.makeArray(el.childNodes);}
function buildTmplFn(markup){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;"+"with($data){__.push('"+
jQuery.trim(markup).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(all,slash,type,fnargs,target,parens,args){var tag=jQuery.tmpl.tag[type],def,expr,exprAutoFnDetect;if(!tag){throw"Unknown template tag: "+type;}
def=tag._default||[];if(parens&&!/\w$/.test(target)){target+=parens;parens="";}
if(target){target=unescape(target);args=args?(","+unescape(args)+")"):(parens?")":"");expr=parens?(target.indexOf(".")>-1?target+unescape(parens):("("+target+").call($item"+args)):target;exprAutoFnDetect=parens?expr:"(typeof("+target+")==='function'?("+target+").call($item):("+target+"))";}else{exprAutoFnDetect=expr=def.$1||"null";}
fnargs=unescape(fnargs);return"');"+
tag[slash?"close":"open"].split("$notnull_1").join(target?"typeof("+target+")!=='undefined' && ("+target+")!=null":"true").split("$1a").join(exprAutoFnDetect).split("$1").join(expr).split("$2").join(fnargs||def.$2||"")+"__.push('";})+"');}return __;");}
function updateWrapped(options,wrapped){options._wrap=build(options,true,jQuery.isArray(wrapped)?wrapped:[htmlExpr.test(wrapped)?wrapped:jQuery(wrapped).html()]).join("");}
function unescape(args){return args?args.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null;}
function outerHtml(elem){var div=document.createElement("div");div.appendChild(elem.cloneNode(true));return div.innerHTML;}
function storeTmplItems(content){var keySuffix="_"+cloneIndex,elem,elems,newClonedItems={},i,l,m;for(i=0,l=content.length;i<l;i++){if((elem=content[i]).nodeType!==1){continue;}
elems=elem.getElementsByTagName("*");for(m=elems.length-1;m>=0;m--){processItemKey(elems[m]);}
processItemKey(elem);}
function processItemKey(el){var pntKey,pntNode=el,pntItem,tmplItem,key;if((key=el.getAttribute(tmplItmAtt))){while(pntNode.parentNode&&(pntNode=pntNode.parentNode).nodeType===1&&!(pntKey=pntNode.getAttribute(tmplItmAtt))){}
if(pntKey!==key){pntNode=pntNode.parentNode?(pntNode.nodeType===11?0:(pntNode.getAttribute(tmplItmAtt)||0)):0;if(!(tmplItem=newTmplItems[key])){tmplItem=wrappedItems[key];tmplItem=newTmplItem(tmplItem,newTmplItems[pntNode]||wrappedItems[pntNode]);tmplItem.key=++itemKey;newTmplItems[itemKey]=tmplItem;}
if(cloneIndex){cloneTmplItem(key);}}
el.removeAttribute(tmplItmAtt);}else if(cloneIndex&&(tmplItem=jQuery.data(el,"tmplItem"))){cloneTmplItem(tmplItem.key);newTmplItems[tmplItem.key]=tmplItem;pntNode=jQuery.data(el.parentNode,"tmplItem");pntNode=pntNode?pntNode.key:0;}
if(tmplItem){pntItem=tmplItem;while(pntItem&&pntItem.key!=pntNode){pntItem.nodes.push(el);pntItem=pntItem.parent;}
delete tmplItem._ctnt;delete tmplItem._wrap;jQuery.data(el,"tmplItem",tmplItem);}
function cloneTmplItem(key){key=key+keySuffix;tmplItem=newClonedItems[key]=(newClonedItems[key]||newTmplItem(tmplItem,newTmplItems[tmplItem.parent.key+keySuffix]||tmplItem.parent));}}}
function tiCalls(content,tmpl,data,options){if(!content){return stack.pop();}
stack.push({_:content,tmpl:tmpl,item:this,data:data,options:options});}
function tiNest(tmpl,data,options){return jQuery.tmpl(jQuery.template(tmpl),data,options,this);}
function tiWrap(call,wrapped){var options=call.options||{};options.wrapped=wrapped;return jQuery.tmpl(jQuery.template(call.tmpl),call.data,options,call.item);}
function tiHtml(filter,textOnly){var wrapped=this._wrap;return jQuery.map(jQuery(jQuery.isArray(wrapped)?wrapped.join(""):wrapped).filter(filter||"*"),function(e){return textOnly?e.innerText||e.textContent:e.outerHTML||outerHtml(e);});}
function tiUpdate(){var coll=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(coll[0]);jQuery(coll).remove();}})(jQuery);
;(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof module!=='undefined'&&module.exports){module.exports=factory(require('jquery'));}else{factory(jQuery);}})(function($){'use strict';var $scrollTo=$.scrollTo=function(target,duration,settings){return $(window).scrollTo(target,duration,settings);};$scrollTo.defaults={axis:'xy',duration:0,limit:true};function isWin(elem){return!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),['iframe','#document','html','body'])!==-1;}
$.fn.scrollTo=function(target,duration,settings){if(typeof duration==='object'){settings=duration;duration=0;}
if(typeof settings==='function'){settings={onAfter:settings};}
if(target==='max'){target=9e9;}
settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.duration;var queue=settings.queue&&settings.axis.length>1;if(queue){duration/=2;}
settings.offset=both(settings.offset);settings.over=both(settings.over);return this.each(function(){if(target===null)return;var win=isWin(this),elem=win?this.contentWindow||window:this,$elem=$(elem),targ=target,attr={},toff;switch(typeof targ){case'number':case'string':if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break;}
targ=win?$(targ):$(targ,elem);case'object':if(targ.length===0)return;if(targ.is||targ.style){toff=(targ=$(targ)).offset();}}
var offset=$.isFunction(settings.offset)&&settings.offset(elem,targ)||settings.offset;$.each(settings.axis.split(''),function(i,axis){var Pos=axis==='x'?'Left':'Top',pos=Pos.toLowerCase(),key='scroll'+Pos,prev=$elem[key](),max=$scrollTo.max(elem,axis);if(toff){attr[key]=toff[pos]+(win?0:prev-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css('margin'+Pos),10)||0;attr[key]-=parseInt(targ.css('border'+Pos+'Width'),10)||0;}
attr[key]+=offset[pos]||0;if(settings.over[pos]){attr[key]+=targ[axis==='x'?'width':'height']()*settings.over[pos];}}else{var val=targ[pos];attr[key]=val.slice&&val.slice(-1)==='%'?parseFloat(val)/100*max:val;}
if(settings.limit&&/^\d+$/.test(attr[key])){attr[key]=attr[key]<=0?0:Math.min(attr[key],max);}
if(!i&&settings.axis.length>1){if(prev===attr[key]){attr={};}else if(queue){animate(settings.onAfterFirst);attr={};}}});animate(settings.onAfter);function animate(callback){var opts=$.extend({},settings,{queue:true,duration:duration,complete:callback&&function(){callback.call(elem,targ,settings);}});$elem.animate(attr,opts);}});};$scrollTo.max=function(elem,axis){var Dim=axis==='x'?'Width':'Height',scroll='scroll'+Dim;if(!isWin(elem))
return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size='client'+Dim,doc=elem.ownerDocument||elem.document,html=doc.documentElement,body=doc.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size]);};function both(val){return $.isFunction(val)||$.isPlainObject(val)?val:{top:val,left:val};}
$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(t){return $(t.elem)[t.prop]();},set:function(t){var curr=this.get(t);if(t.options.interrupt&&t._last&&t._last!==curr){return $(t.elem).stop();}
var next=Math.round(t.now);if(curr!==next){$(t.elem)[t.prop](next);t._last=this.get(t);}}};return $scrollTo;});

jQuery(function(){jQuery("div.svw").prepend("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif' class='ldrgif' alt='loading...'/ >");});var j=0;var quantofamo=0;var currentActive=0;var total=0;var listelements=[];jQuery.fn.slideView=function(settings){settings=jQuery.extend({easeFunc:"easeInOutExpo",easeTime:750,uiBefore:false,toolTip:false,ttOpacity:0.9,autoPlay:false,autoPlayTime:'8000'},settings);return this.each(function(){var container=jQuery(this);container.find("img.ldrgif").remove();container.removeClass("svw").addClass("stripViewer");var pictWidth=container.find("img").width();var pictHeight=container.find("img").height();var pictEls=container.find("li").size();var stripViewerWidth=pictWidth*pictEls;container.find("ul").css("width",stripViewerWidth);container.css("width",pictWidth);container.css("height",pictHeight);container.each(function(i){(!settings.uiBefore)?jQuery(this).after("<div class='stripTransmitter' id='stripTransmitter"+(j)+"'><ul><\/ul><\/div>"):jQuery(this).before("<div class='stripTransmitter' id='stripTransmitter"+(j)+"'><ul><\/ul><\/div>");jQuery(this).find("li").each(function(n){jQuery("div#stripTransmitter"+j+" ul").append("<li><a title='"+jQuery(this).find("img").attr("alt")+"' href='#'>"+(n+1)+"<\/a><\/li>");});jQuery("div#stripTransmitter"+j+" a").each(function(z){jQuery(this).bind("click",function(){slide(jQuery(this),z);return false;});listelements.push(jQuery(this));total++;});function slide(target,z){target.addClass("current").parent().parent().find("a").not(target).removeClass("current");currentActive=z;var cnt=-(pictWidth*z);container.find("ul").animate({left:cnt},settings.easeTime,settings.easeFunc);}
container.bind("click",function(e){var ui=(!settings.uiBefore)?jQuery(this).next().find("a.current"):jQuery(this).prev().find("a.current");var bTotal=parseFloat(jQuery(this).css('borderLeftWidth').replace("px",""))+parseFloat(jQuery(this).css('borderRightWidth').replace("px",""));var dOs=jQuery(this).offset();var zeroLeft=(bTotal/2+pictWidth)-(e.pageX-dOs.left);if(zeroLeft>=pictWidth/2){var uiprev=ui.parent().prev().find("a");(jQuery(uiprev).length!=0)?uiprev.trigger("click"):ui.parent().parent().find("a:last").trigger("click");}
else{var uinext=ui.parent().next().find("a");(jQuery(uinext).length!=0)?uinext.trigger("click"):ui.parent().parent().find("a:first").trigger("click");}});jQuery("div#stripTransmitter"+j).css("width",pictWidth);jQuery("div#stripTransmitter"+j+" a:first").addClass("current");jQuery('body').append('<div class="tooltip" style="display:none;"><\/div>');if(settings.autoPlay){var slideOn=setInterval(function(){slide((total>currentActive+1)?listelements[currentActive+1]:listelements[0],(total>currentActive+1)?currentActive+1:0)},settings.autoPlayTime);}
if(settings.toolTip){var aref=jQuery("div#stripTransmitter"+j+" a");aref.each(function(){jQuery(this).data("title",jQuery(this).prop("title"));});aref.live('mousemove',function(e){var att=jQuery(this).data('title');posX=e.pageX+10;posY=e.pageY+10;jQuery('.tooltip').html(att).css({'position':'absolute','top':posY+'px','left':posX+'px','display':'block','opacity':settings.ttOpacity});});aref.live('mouseout',function(){jQuery('.tooltip').hide();this.title=jQuery(this).data("title");});aref.live('mouseover',function(){this.title='';});}});j++;});};

(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else if(typeof module==="object"&&module.exports){module.exports=factory(require("jquery"));}else{factory(jQuery);}}(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.");}
return;}
var validator=$.data(this[0],"validator");if(validator){return validator;}
this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.on("click.validate",":submit",function(event){if(validator.settings.submitHandler){validator.submitButton=event.target;}
if($(this).hasClass("cancel")){validator.cancelSubmit=true;}
if($(this).attr("formnovalidate")!==undefined){validator.cancelSubmit=true;}});this.on("submit.validate",function(event){if(validator.settings.debug){event.preventDefault();}
function handle(){var hidden,result;if(validator.settings.submitHandler){if(validator.submitButton){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);}
result=validator.settings.submitHandler.call(validator,validator.currentForm,event);if(validator.submitButton){hidden.remove();}
if(result!==undefined){return result;}
return false;}
return true;}
if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}
if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}
return handle();}else{validator.focusInvalid();return false;}});}
return validator;},valid:function(){var valid,validator,errorList;if($(this[0]).is("form")){valid=this.validate().form();}else{errorList=[];valid=true;validator=$(this[0].form).validate();this.each(function(){valid=validator.element(this)&&valid;if(!valid){errorList=errorList.concat(validator.errorList);}});validator.errorList=errorList;}
return valid;},rules:function(command,argument){if(!this.length){return;}
var element=this[0],settings,staticRules,existingRules,data,param,filtered;if(command){settings=$.data(element.form,"validator").settings;staticRules=settings.rules;existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));delete existingRules.messages;staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);}
break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}
filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];if(method==="required"){$(element).removeAttr("aria-required");}});return filtered;}}
data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){param=data.required;delete data.required;data=$.extend({required:param},data);$(element).attr("aria-required","true");}
if(data.remote){param=data.remote;delete data.remote;data=$.extend(data,{remote:param});}
return data;}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+$(a).val());},filled:function(a){var val=$(a).val();return val!==null&&!!$.trim(""+val);},unchecked:function(a){return!$(a).prop("checked");}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};}
if(params===undefined){return source;}
if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1);}
if(params.constructor!==Array){params=[params];}
$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n;});});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);}
this.hideThese(this.errorsFor(element));}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element,event){var excludedKeys=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(event.which===9&&this.elementValue(element)===""||$.inArray(event.keyCode,excludedKeys)!==-1){return;}else if(element.name in this.submitted||element.name in this.invalid){this.element(element);}},onclick:function(element){if(element.name in this.submitted){this.element(element);}else if(element.parentNode.name in this.submitted){this.element(element.parentNode);}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass);}else{$(element).addClass(errorClass).removeClass(validClass);}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass);}else{$(element).removeClass(errorClass).addClass(validClass);}}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}."),step:$.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={}),rules;$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/);}
$.each(value,function(index,name){groups[name]=key;});});rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var validator=$.data(this.form,"validator"),eventType="on"+event.type.replace(/^validate/,""),settings=validator.settings;if(settings[eventType]&&!$(this).is(settings.ignore)){settings[eventType].call(validator,this,event);}}
$(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], "+"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], "+"[type='radio'], [type='checkbox'], [contenteditable]",delegate).on("click.validate","select, option, [type='radio'], [type='checkbox']",delegate);if(this.settings.invalidHandler){$(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler);}
$(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true");},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this]);}
this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}
return this.valid();},element:function(element){var cleanElement=this.clean(element),checkElement=this.validationTargetFor(cleanElement),v=this,result=true,rs,group;if(checkElement===undefined){delete this.invalid[cleanElement.name];}else{this.prepareElement(checkElement);this.currentElements=$(checkElement);group=this.groups[checkElement.name];if(group){$.each(this.groups,function(name,testgroup){if(testgroup===group&&name!==checkElement.name){cleanElement=v.validationTargetFor(v.clean(v.findByName(name)));if(cleanElement&&cleanElement.name in v.invalid){v.currentElements.push(cleanElement);result=result&&v.check(cleanElement);}}});}
rs=this.check(checkElement)!==false;result=result&&rs;if(rs){this.invalid[checkElement.name]=false;}else{this.invalid[checkElement.name]=true;}
if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}
this.showErrors();$(element).attr("aria-invalid",!rs);}
return result;},showErrors:function(errors){if(errors){var validator=this;$.extend(this.errorMap,errors);this.errorList=$.map(this.errorMap,function(message,name){return{message:message,element:validator.findByName(name)[0]};});this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}
if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList);}else{this.defaultShowErrors();}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm();}
this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var elements=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(elements);},resetElements:function(elements){var i;if(this.settings.unhighlight){for(i=0;elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,"");this.findByName(elements[i].name).removeClass(this.settings.validClass);}}else{elements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass);}},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0,i;for(i in obj){if(obj[i]){count++;}}
return count;},hideErrors:function(){this.hideThese(this.toHide);},hideThese:function(errors){errors.not(this.containers).text("");this.addWrapper(errors).hide();},valid:function(){return this.size()===0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name;}).length===1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var name=this.name||$(this).attr("name");if(!name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this);}
if(this.hasAttribute("contenteditable")){this.form=$(this).closest("form")[0];}
if(name in rulesCache||!validator.objectLength($(this).rules())){return false;}
rulesCache[name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){var errorClass=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+errorClass,this.errorContext);},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);},reset:function(){this.resetInternals();this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},elementValue:function(element){var $element=$(element),type=element.type,val,idx;if(type==="radio"||type==="checkbox"){return this.findByName(element.name).filter(":checked").val();}else if(type==="number"&&typeof element.validity!=="undefined"){return element.validity.badInput?"NaN":$element.val();}
if(element.hasAttribute("contenteditable")){val=$element.text();}else{val=$element.val();}
if(type==="file"){if(val.substr(0,12)==="C:\\fakepath\\"){return val.substr(12);}
idx=val.lastIndexOf("/");if(idx>=0){return val.substr(idx+1);}
idx=val.lastIndexOf("\\");if(idx>=0){return val.substr(idx+1);}
return val;}
if(typeof val==="string"){return val.replace(/\r/g,"");}
return val;},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules(),rulesCount=$.map(rules,function(n,i){return i;}).length,dependencyMismatch=false,val=this.elementValue(element),result,method,rule;if(typeof rules.normalizer==="function"){val=rules.normalizer.call(element,val);if(typeof val!=="string"){throw new TypeError("The normalizer should return a string value.");}
delete rules.normalizer;}
for(method in rules){rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"&&rulesCount===1){dependencyMismatch=true;continue;}
dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}
if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e);}
if(e instanceof TypeError){e.message+=".  Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.";}
throw e;}}
if(dependencyMismatch){return;}
if(this.objectLength(rules)){this.successList.push(element);}
return true;},customDataMessage:function(element,method){return $(element).data("msg"+method.charAt(0).toUpperCase()+
method.substring(1).toLowerCase())||$(element).data("msg");},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i];}}
return undefined;},defaultMessage:function(element,rule){var message=this.findDefined(this.customMessage(element.name,rule.method),this.customDataMessage(element,rule.method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[rule.method],"<strong>Warning: No message defined for "+element.name+"</strong>"),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element);}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters);}
return message;},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule);this.errorList.push({message:message,element:element,method:rule.method});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));}
return toToggle;},defaultShowErrors:function(){var i,elements,error;for(i=0;this.errorList[i];i++){error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);}
this.showLabel(error.element,error.message);}
if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}
if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}
if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}
this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var place,group,errorID,v,error=this.errorsFor(element),elementID=this.idOrName(element),describedBy=$(element).attr("aria-describedby");if(error.length){error.removeClass(this.settings.validClass).addClass(this.settings.errorClass);error.html(message);}else{error=$("<"+this.settings.errorElement+">").attr("id",elementID+"-error").addClass(this.settings.errorClass).html(message||"");place=error;if(this.settings.wrapper){place=error.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}
if(this.labelContainer.length){this.labelContainer.append(place);}else if(this.settings.errorPlacement){this.settings.errorPlacement(place,$(element));}else{place.insertAfter(element);}
if(error.is("label")){error.attr("for",elementID);}else if(error.parents("label[for='"+this.escapeCssMeta(elementID)+"']").length===0){errorID=error.attr("id");if(!describedBy){describedBy=errorID;}else if(!describedBy.match(new RegExp("\\b"+this.escapeCssMeta(errorID)+"\\b"))){describedBy+=" "+errorID;}
$(element).attr("aria-describedby",describedBy);group=this.groups[element.name];if(group){v=this;$.each(v.groups,function(name,testgroup){if(testgroup===group){$("[name='"+v.escapeCssMeta(name)+"']",v.currentForm).attr("aria-describedby",error.attr("id"));}});}}}
if(!message&&this.settings.success){error.text("");if(typeof this.settings.success==="string"){error.addClass(this.settings.success);}else{this.settings.success(error,element);}}
this.toShow=this.toShow.add(error);},errorsFor:function(element){var name=this.escapeCssMeta(this.idOrName(element)),describer=$(element).attr("aria-describedby"),selector="label[for='"+name+"'], label[for='"+name+"'] *";if(describer){selector=selector+", #"+this.escapeCssMeta(describer).replace(/\s+/g,", #");}
return this.errors().filter(selector);},escapeCssMeta:function(string){return string.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1");},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name);}
return $(element).not(this.settings.ignore)[0];},checkable:function(element){return(/radio|checkbox/i).test(element.type);},findByName:function(name){return $(this.currentForm).find("[name='"+this.escapeCssMeta(name)+"']");},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length;}}
return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;$(element).addClass(this.settings.pendingClass);this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0;}
delete this.pending[element.name];$(element).removeClass(this.settings.pendingClass);if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false;}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}},previousValue:function(element,method){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,{method:method})});},destroy:function(){this.resetForm();$(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur");}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules;}else{$.extend(this.classRuleSettings,className);}},classRules:function(element){var rules={},classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});}
return rules;},normalizeAttributeRule:function(rules,type,method,value){if(/min|max|step/.test(method)&&(type===null||/number|range|text/.test(type))){value=Number(value);if(isNaN(value)){value=undefined;}}
if(value||value===0){rules[method]=value;}else if(type===method&&type!=="range"){rules[method]=true;}},attributeRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){if(method==="required"){value=element.getAttribute(method);if(value===""){value=true;}
value=!!value;}else{value=$element.attr(method);}
this.normalizeAttributeRule(rules,type,method,value);}
if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}
return rules;},dataRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){value=$element.data("rule"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase());this.normalizeAttributeRule(rules,type,method,value);}
return rules;},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}
return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}
if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}
if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{$.data(element.form,"validator").resetElements($(element));delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)&&rule!=="normalizer"?parameter(element):parameter;});$.each(["minlength","maxlength"],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(["rangelength","range"],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}else if(typeof rules[this]==="string"){parts=rules[this].replace(/[\[\]]/g,"").split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])];}}});if($.validator.autoCreateRanges){if(rules.min!=null&&rules.max!=null){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}
if(rules.minlength!=null&&rules.maxlength!=null){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}
return rules;},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}
return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch";}
if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0;}
if(this.checkable(element)){return this.getLength(value,element)>0;}
return value.length>0;},email:function(value,element){return this.optional(element)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);},url:function(value,element){return this.optional(element)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString());},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);},number:function(value,element){return this.optional(element)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param;},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length<=param;},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},step:function(value,element,param){var type=$(element).attr("type"),errorMessage="Step attribute on input type "+type+" is not supported.",supportedTypes=["text","number","range"],re=new RegExp("\\b"+type+"\\b"),notSupported=type&&!re.test(supportedTypes.join());if(notSupported){throw new Error(errorMessage);}
return this.optional(element)||(value%param===0);},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-equalTo-blur").length){target.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){$(element).valid();});}
return value===target.val();},remote:function(value,element,param,method){if(this.optional(element)){return"dependency-mismatch";}
method=typeof method==="string"&&method||"remote";var previous=this.previousValue(element,method),validator,data,optionDataString;if(!this.settings.messages[element.name]){this.settings.messages[element.name]={};}
previous.originalMessage=previous.originalMessage||this.settings.messages[element.name][method];this.settings.messages[element.name][method]=previous.message;param=typeof param==="string"&&{url:param}||param;optionDataString=$.param($.extend({data:value},param.data));if(previous.old===optionDataString){return previous.valid;}
previous.old=optionDataString;validator=this;this.startRequest(element);data={};data[element.name]=value;$.ajax($.extend(true,{mode:"abort",port:"validate"+element.name,dataType:"json",data:data,context:validator.currentForm,success:function(response){var valid=response===true||response==="true",errors,message,submitted;validator.settings.messages[element.name][method]=previous.originalMessage;if(valid){submitted=validator.formSubmitted;validator.resetInternals();validator.toHide=validator.errorsFor(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.invalid[element.name]=false;validator.showErrors();}else{errors={};message=response||validator.defaultMessage(element,{method:method,parameters:value});errors[element.name]=previous.message=message;validator.invalid[element.name]=true;validator.showErrors(errors);}
previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";}}});var pendingRequests={},ajax;if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}
pendingRequests[port]=xhr;}});}else{ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}
pendingRequests[port]=ajax.apply(this,arguments);return pendingRequests[port];}
return ajax.apply(this,arguments);};}}));
;(function($){$.fn.marquee=function(options){return this.each(function(){var o=$.extend({},$.fn.marquee.defaults,options),$this=$(this),$marqueeWrapper,containerWidth,animationCss,verticalDir,elWidth,loopCount=3,playState='animation-play-state',css3AnimationIsSupported=false,_prefixedEvent=function(element,type,callback){var pfx=["webkit","moz","MS","o",""];for(var p=0;p<pfx.length;p++){if(!pfx[p])type=type.toLowerCase();element.addEventListener(pfx[p]+type,callback,false);}},_objToString=function(obj){var tabjson=[];for(var p in obj){if(obj.hasOwnProperty(p)){tabjson.push(p+':'+obj[p]);}}
tabjson.push();return'{'+tabjson.join(',')+'}';},_startAnimationWithDelay=function(){$this.timer=setTimeout(animate,o.delayBeforeStart);},methods={pause:function(){if(css3AnimationIsSupported&&o.allowCss3Support){$marqueeWrapper.css(playState,'paused');}else{if($.fn.pause){$marqueeWrapper.pause();}}
$this.data('runningStatus','paused');$this.trigger('paused');},resume:function(){if(css3AnimationIsSupported&&o.allowCss3Support){$marqueeWrapper.css(playState,'running');}else{if($.fn.resume){$marqueeWrapper.resume();}}
$this.data('runningStatus','resumed');$this.trigger('resumed');},toggle:function(){methods[$this.data('runningStatus')=='resumed'?'pause':'resume']();},destroy:function(){clearTimeout($this.timer);$this.find("*").andSelf().unbind();$this.html($this.find('.js-marquee:first').html());}};if(typeof options==='string'){if($.isFunction(methods[options])){if(!$marqueeWrapper){$marqueeWrapper=$this.find('.js-marquee-wrapper');}
if($this.data('css3AnimationIsSupported')===true){css3AnimationIsSupported=true;}
methods[options]();}
return;}
var dataAttributes={},attr;$.each(o,function(key,value){attr=$this.attr('data-'+key);if(typeof attr!=='undefined'){switch(attr){case'true':attr=true;break;case'false':attr=false;break;}
o[key]=attr;}});o.duration=o.speed||o.duration;verticalDir=o.direction=='up'||o.direction=='down';o.gap=o.duplicated?parseInt(o.gap):0;$this.wrapInner('<div class="js-marquee"></div>');var $el=$this.find('.js-marquee').css({'margin-right':o.gap,'float':'left'});if(o.duplicated){$el.clone(true).appendTo($this);}
$this.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>');$marqueeWrapper=$this.find('.js-marquee-wrapper');if(verticalDir){var containerHeight=$this.height();$marqueeWrapper.removeAttr('style');$this.height(containerHeight);$this.find('.js-marquee').css({'float':'none','margin-bottom':o.gap,'margin-right':0});if(o.duplicated)$this.find('.js-marquee:last').css({'margin-bottom':0});var elHeight=$this.find('.js-marquee:first').height()+o.gap;if(o.startVisible&&!o.duplicated){o._completeDuration=((parseInt(elHeight,10)+parseInt(containerHeight,10))/parseInt(containerHeight,10))*o.duration;o.duration=(parseInt(elHeight,10)/parseInt(containerHeight,10))*o.duration;}else{o.duration=((parseInt(elHeight,10)+parseInt(containerHeight,10))/parseInt(containerHeight,10))*o.duration;}}else{elWidth=$this.find('.js-marquee:first').width()+o.gap;containerWidth=$this.width();if(o.startVisible&&!o.duplicated){o._completeDuration=((parseInt(elWidth,10)+parseInt(containerWidth,10))/parseInt(containerWidth,10))*o.duration;o.duration=(parseInt(elWidth,10)/parseInt(containerWidth,10))*o.duration;}else{o.duration=((parseInt(elWidth,10)+parseInt(containerWidth,10))/parseInt(containerWidth,10))*o.duration;}}
if(o.duplicated){o.duration=o.duration/2;}
if(o.allowCss3Support){var
elm=document.body||document.createElement('div'),animationName='marqueeAnimation-'+Math.floor(Math.random()*10000000),domPrefixes='Webkit Moz O ms Khtml'.split(' '),animationString='animation',animationCss3Str='',keyframeString='';if(elm.style.animation){keyframeString='@keyframes '+animationName+' ';css3AnimationIsSupported=true;}
if(css3AnimationIsSupported===false){for(var i=0;i<domPrefixes.length;i++){if(elm.style[domPrefixes[i]+'AnimationName']!==undefined){var prefix='-'+domPrefixes[i].toLowerCase()+'-';animationString=prefix+animationString;playState=prefix+playState;keyframeString='@'+prefix+'keyframes '+animationName+' ';css3AnimationIsSupported=true;break;}}}
if(css3AnimationIsSupported){animationCss3Str=animationName+' '+o.duration/1000+'s '+o.delayBeforeStart/1000+'s infinite '+o.css3easing;$this.data('css3AnimationIsSupported',true);}}
var _rePositionVertically=function(){$marqueeWrapper.css('margin-top',o.direction=='up'?containerHeight+'px':'-'+elHeight+'px');},_rePositionHorizontally=function(){$marqueeWrapper.css('margin-left',o.direction=='left'?containerWidth+'px':'-'+elWidth+'px');};if(o.duplicated){if(verticalDir){if(o.startVisible){$marqueeWrapper.css('margin-top',0);}else{$marqueeWrapper.css('margin-top',o.direction=='up'?containerHeight+'px':'-'+((elHeight*2)-o.gap)+'px');}}else{if(o.startVisible){$marqueeWrapper.css('margin-left',0);}else{$marqueeWrapper.css('margin-left',o.direction=='left'?containerWidth+'px':'-'+((elWidth*2)-o.gap)+'px');}}
if(!o.startVisible){loopCount=1;}}else if(o.startVisible){loopCount=2;}else{if(verticalDir){_rePositionVertically();}else{_rePositionHorizontally();}}
var animate=function(){if(o.duplicated){if(loopCount===1){o._originalDuration=o.duration;if(verticalDir){o.duration=o.direction=='up'?o.duration+(containerHeight/((elHeight)/o.duration)):o.duration*2;}else{o.duration=o.direction=='left'?o.duration+(containerWidth/((elWidth)/o.duration)):o.duration*2;}
if(animationCss3Str){animationCss3Str=animationName+' '+o.duration/1000+'s '+o.delayBeforeStart/1000+'s '+o.css3easing;}
loopCount++;}
else if(loopCount===2){o.duration=o._originalDuration;if(animationCss3Str){animationName=animationName+'0';keyframeString=$.trim(keyframeString)+'0 ';animationCss3Str=animationName+' '+o.duration/1000+'s 0s infinite '+o.css3easing;}
loopCount++;}}
if(verticalDir){if(o.duplicated){if(loopCount>2){$marqueeWrapper.css('margin-top',o.direction=='up'?0:'-'+elHeight+'px');}
animationCss={'margin-top':o.direction=='up'?'-'+elHeight+'px':0};}else if(o.startVisible){if(loopCount===2){if(animationCss3Str){animationCss3Str=animationName+' '+o.duration/1000+'s '+o.delayBeforeStart/1000+'s '+o.css3easing;}
animationCss={'margin-top':o.direction=='up'?'-'+elHeight+'px':containerHeight+'px'};loopCount++;}else if(loopCount===3){o.duration=o._completeDuration;if(animationCss3Str){animationName=animationName+'0';keyframeString=$.trim(keyframeString)+'0 ';animationCss3Str=animationName+' '+o.duration/1000+'s 0s infinite '+o.css3easing;}
_rePositionVertically();}}else{_rePositionVertically();animationCss={'margin-top':o.direction=='up'?'-'+($marqueeWrapper.height())+'px':containerHeight+'px'};}}else{if(o.duplicated){if(loopCount>2){$marqueeWrapper.css('margin-left',o.direction=='left'?0:'-'+elWidth+'px');}
animationCss={'margin-left':o.direction=='left'?'-'+elWidth+'px':0};}else if(o.startVisible){if(loopCount===2){if(animationCss3Str){animationCss3Str=animationName+' '+o.duration/1000+'s '+o.delayBeforeStart/1000+'s '+o.css3easing;}
animationCss={'margin-left':o.direction=='left'?'-'+elWidth+'px':containerWidth+'px'};loopCount++;}else if(loopCount===3){o.duration=o._completeDuration;if(animationCss3Str){animationName=animationName+'0';keyframeString=$.trim(keyframeString)+'0 ';animationCss3Str=animationName+' '+o.duration/1000+'s 0s infinite '+o.css3easing;}
_rePositionHorizontally();}}else{_rePositionHorizontally();animationCss={'margin-left':o.direction=='left'?'-'+elWidth+'px':containerWidth+'px'};}}
$this.trigger('beforeStarting');if(css3AnimationIsSupported){$marqueeWrapper.css(animationString,animationCss3Str);var keyframeCss=keyframeString+' { 100%  '+_objToString(animationCss)+'}',$styles=$marqueeWrapper.find('style');if($styles.length!==0){$styles.filter(":last").html(keyframeCss);}else{$marqueeWrapper.append('<style>'+keyframeCss+'</style>');}
_prefixedEvent($marqueeWrapper[0],"AnimationIteration",function(){$this.trigger('finished');});_prefixedEvent($marqueeWrapper[0],"AnimationEnd",function(){animate();$this.trigger('finished');});}else{$marqueeWrapper.animate(animationCss,o.duration,o.easing,function(){$this.trigger('finished');if(o.pauseOnCycle){_startAnimationWithDelay();}else{animate();}});}
$this.data('runningStatus','resumed');};$this.bind('pause',methods.pause);$this.bind('resume',methods.resume);if(o.pauseOnHover){$this.bind('mouseenter mouseleave',methods.toggle);}
if(css3AnimationIsSupported&&o.allowCss3Support){animate();}else{_startAnimationWithDelay();}});};$.fn.marquee.defaults={allowCss3Support:true,css3easing:'linear',easing:'linear',delayBeforeStart:1000,direction:'left',duplicated:false,duration:5000,gap:20,pauseOnCycle:false,pauseOnHover:false,startVisible:false};})(jQuery);

if(typeof Object.create!=="function"){Object.create=function(obj){function F(){}
F.prototype=obj;return new F();};}
(function($,window,document){var Carousel={init:function(options,el){var base=this;base.$elem=$(el);base.options=$.extend({},$.fn.owlCarousel.options,base.$elem.data(),options);base.userOptions=options;base.loadContent();},loadContent:function(){var base=this,url;function getData(data){var i,content="";if(typeof base.options.jsonSuccess==="function"){base.options.jsonSuccess.apply(this,[data]);}else{for(i in data.owl){if(data.owl.hasOwnProperty(i)){content+=data.owl[i].item;}}
base.$elem.html(content);}
base.logIn();}
if(typeof base.options.beforeInit==="function"){base.options.beforeInit.apply(this,[base.$elem]);}
if(typeof base.options.jsonPath==="string"){url=base.options.jsonPath;$.getJSON(url,getData);}else{base.logIn();}},logIn:function(){var base=this;base.$elem.data("owl-originalStyles",base.$elem.attr("style"));base.$elem.data("owl-originalClasses",base.$elem.attr("class"));base.$elem.css({opacity:0});base.orignalItems=base.options.items;base.checkBrowser();base.wrapperWidth=0;base.checkVisible=null;base.setVars();},setVars:function(){var base=this;if(base.$elem.children().length===0){return false;}
base.baseClass();base.eventTypes();base.$userItems=base.$elem.children();base.itemsAmount=base.$userItems.length;base.wrapItems();base.$owlItems=base.$elem.find(".owl-item");base.$owlWrapper=base.$elem.find(".owl-wrapper");base.playDirection="next";base.prevItem=0;base.prevArr=[0];base.currentItem=0;base.customEvents();base.onStartup();},onStartup:function(){var base=this;base.updateItems();base.calculateAll();base.buildControls();base.updateControls();base.response();base.moveEvents();base.stopOnHover();base.owlStatus();if(base.options.transitionStyle!==false){base.transitionTypes(base.options.transitionStyle);}
if(base.options.autoPlay===true){base.options.autoPlay=5000;}
base.play();base.$elem.find(".owl-wrapper").css("display","block");if(!base.$elem.is(":visible")){base.watchVisibility();}else{base.$elem.css("opacity",1);}
base.onstartup=false;base.eachMoveUpdate();if(typeof base.options.afterInit==="function"){base.options.afterInit.apply(this,[base.$elem]);}},eachMoveUpdate:function(){var base=this;if(base.options.lazyLoad===true){base.lazyLoad();}
if(base.options.autoHeight===true){base.autoHeight();}
base.onVisibleItems();if(typeof base.options.afterAction==="function"){base.options.afterAction.apply(this,[base.$elem]);}},updateVars:function(){var base=this;if(typeof base.options.beforeUpdate==="function"){base.options.beforeUpdate.apply(this,[base.$elem]);}
base.watchVisibility();base.updateItems();base.calculateAll();base.updatePosition();base.updateControls();base.eachMoveUpdate();if(typeof base.options.afterUpdate==="function"){base.options.afterUpdate.apply(this,[base.$elem]);}},reload:function(){var base=this;window.setTimeout(function(){base.updateVars();},0);},watchVisibility:function(){var base=this;if(base.$elem.is(":visible")===false){base.$elem.css({opacity:0});window.clearInterval(base.autoPlayInterval);window.clearInterval(base.checkVisible);}else{return false;}
base.checkVisible=window.setInterval(function(){if(base.$elem.is(":visible")){base.reload();base.$elem.animate({opacity:1},200);window.clearInterval(base.checkVisible);}},500);},wrapItems:function(){var base=this;base.$userItems.wrapAll("<div class=\"owl-wrapper\">").wrap("<div class=\"owl-item\"></div>");base.$elem.find(".owl-wrapper").wrap("<div class=\"owl-wrapper-outer\">");base.wrapperOuter=base.$elem.find(".owl-wrapper-outer");base.$elem.css("display","block");},baseClass:function(){var base=this,hasBaseClass=base.$elem.hasClass(base.options.baseClass),hasThemeClass=base.$elem.hasClass(base.options.theme);if(!hasBaseClass){base.$elem.addClass(base.options.baseClass);}
if(!hasThemeClass){base.$elem.addClass(base.options.theme);}},updateItems:function(){var base=this,width,i;if(base.options.responsive===false){return false;}
if(base.options.singleItem===true){base.options.items=base.orignalItems=1;base.options.itemsCustom=false;base.options.itemsDesktop=false;base.options.itemsDesktopSmall=false;base.options.itemsTablet=false;base.options.itemsTabletSmall=false;base.options.itemsMobile=false;return false;}
width=$(base.options.responsiveBaseWidth).width();if(width>(base.options.itemsDesktop[0]||base.orignalItems)){base.options.items=base.orignalItems;}
if(base.options.itemsCustom!==false){base.options.itemsCustom.sort(function(a,b){return a[0]-b[0];});for(i=0;i<base.options.itemsCustom.length;i+=1){if(base.options.itemsCustom[i][0]<=width){base.options.items=base.options.itemsCustom[i][1];}}}else{if(width<=base.options.itemsDesktop[0]&&base.options.itemsDesktop!==false){base.options.items=base.options.itemsDesktop[1];}
if(width<=base.options.itemsDesktopSmall[0]&&base.options.itemsDesktopSmall!==false){base.options.items=base.options.itemsDesktopSmall[1];}
if(width<=base.options.itemsTablet[0]&&base.options.itemsTablet!==false){base.options.items=base.options.itemsTablet[1];}
if(width<=base.options.itemsTabletSmall[0]&&base.options.itemsTabletSmall!==false){base.options.items=base.options.itemsTabletSmall[1];}
if(width<=base.options.itemsMobile[0]&&base.options.itemsMobile!==false){base.options.items=base.options.itemsMobile[1];}}
if(base.options.items>base.itemsAmount&&base.options.itemsScaleUp===true){base.options.items=base.itemsAmount;}},response:function(){var base=this,smallDelay,lastWindowWidth;if(base.options.responsive!==true){return false;}
lastWindowWidth=$(window).width();base.resizer=function(){if($(window).width()!==lastWindowWidth){if(base.options.autoPlay!==false){window.clearInterval(base.autoPlayInterval);}
window.clearTimeout(smallDelay);smallDelay=window.setTimeout(function(){lastWindowWidth=$(window).width();base.updateVars();},base.options.responsiveRefreshRate);}};$(window).resize(base.resizer);},updatePosition:function(){var base=this;base.jumpTo(base.currentItem);if(base.options.autoPlay!==false){base.checkAp();}},appendItemsSizes:function(){var base=this,roundPages=0,lastItem=base.itemsAmount-base.options.items;base.$owlItems.each(function(index){var $this=$(this);$this.css({"width":base.itemWidth}).data("owl-item",Number(index));if(index%base.options.items===0||index===lastItem){if(!(index>lastItem)){roundPages+=1;}}
$this.data("owl-roundPages",roundPages);});},appendWrapperSizes:function(){var base=this,width=base.$owlItems.length*base.itemWidth;base.$owlWrapper.css({"width":width,"left":0});base.appendItemsSizes();},calculateAll:function(){var base=this;base.calculateWidth();base.appendWrapperSizes();base.loops();base.max();},calculateWidth:function(){var base=this;base.itemWidth=Math.round(base.$elem.width()/base.options.items);},max:function(){var base=this,maximum=((base.itemsAmount*base.itemWidth)-base.options.items*base.itemWidth)*-1;if(base.options.items>base.itemsAmount){base.maximumItem=0;maximum=0;base.maximumPixels=0;}else{base.maximumItem=base.itemsAmount-base.options.items;base.maximumPixels=maximum;}
return maximum;},min:function(){return 0;},loops:function(){var base=this,prev=0,elWidth=0,i,item,roundPageNum;base.positionsInArray=[0];base.pagesInArray=[];for(i=0;i<base.itemsAmount;i+=1){elWidth+=base.itemWidth;base.positionsInArray.push(-elWidth);if(base.options.scrollPerPage===true){item=$(base.$owlItems[i]);roundPageNum=item.data("owl-roundPages");if(roundPageNum!==prev){base.pagesInArray[prev]=base.positionsInArray[i];prev=roundPageNum;}}}},buildControls:function(){var base=this;if(base.options.navigation===true||base.options.pagination===true){base.owlControls=$("<div class=\"owl-controls\"/>").toggleClass("clickable",!base.browser.isTouch).appendTo(base.$elem);}
if(base.options.pagination===true){base.buildPagination();}
if(base.options.navigation===true){base.buildButtons();}},buildButtons:function(){var base=this,buttonsWrapper=$("<div class=\"owl-buttons\"/>");base.owlControls.append(buttonsWrapper);base.buttonPrev=$("<div/>",{"class":"owl-prev","html":base.options.navigationText[0]||""});base.buttonNext=$("<div/>",{"class":"owl-next","html":base.options.navigationText[1]||""});buttonsWrapper.append(base.buttonPrev).append(base.buttonNext);buttonsWrapper.on("touchstart.owlControls mousedown.owlControls","div[class^=\"owl\"]",function(event){event.preventDefault();});buttonsWrapper.on("touchend.owlControls mouseup.owlControls","div[class^=\"owl\"]",function(event){event.preventDefault();if($(this).hasClass("owl-next")){base.next();}else{base.prev();}});},buildPagination:function(){var base=this;base.paginationWrapper=$("<div class=\"owl-pagination\"/>");base.owlControls.append(base.paginationWrapper);base.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(event){event.preventDefault();if(Number($(this).data("owl-page"))!==base.currentItem){base.goTo(Number($(this).data("owl-page")),true);}});},updatePagination:function(){var base=this,counter,lastPage,lastItem,i,paginationButton,paginationButtonInner;if(base.options.pagination===false){return false;}
base.paginationWrapper.html("");counter=0;lastPage=base.itemsAmount-base.itemsAmount%base.options.items;for(i=0;i<base.itemsAmount;i+=1){if(i%base.options.items===0){counter+=1;if(lastPage===i){lastItem=base.itemsAmount-base.options.items;}
paginationButton=$("<div/>",{"class":"owl-page"});paginationButtonInner=$("<span></span>",{"text":base.options.paginationNumbers===true?counter:"","class":base.options.paginationNumbers===true?"owl-numbers":""});paginationButton.append(paginationButtonInner);paginationButton.data("owl-page",lastPage===i?lastItem:i);paginationButton.data("owl-roundPages",counter);base.paginationWrapper.append(paginationButton);}}
base.checkPagination();},checkPagination:function(){var base=this;if(base.options.pagination===false){return false;}
base.paginationWrapper.find(".owl-page").each(function(){if($(this).data("owl-roundPages")===$(base.$owlItems[base.currentItem]).data("owl-roundPages")){base.paginationWrapper.find(".owl-page").removeClass("active");$(this).addClass("active");}});},checkNavigation:function(){var base=this;if(base.options.navigation===false){return false;}
if(base.options.rewindNav===false){if(base.currentItem===0&&base.maximumItem===0){base.buttonPrev.addClass("disabled");base.buttonNext.addClass("disabled");}else if(base.currentItem===0&&base.maximumItem!==0){base.buttonPrev.addClass("disabled");base.buttonNext.removeClass("disabled");}else if(base.currentItem===base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.addClass("disabled");}else if(base.currentItem!==0&&base.currentItem!==base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.removeClass("disabled");}}},updateControls:function(){var base=this;base.updatePagination();base.checkNavigation();if(base.owlControls){if(base.options.items>=base.itemsAmount){base.owlControls.hide();}else{base.owlControls.show();}}},destroyControls:function(){var base=this;if(base.owlControls){base.owlControls.remove();}},next:function(speed){var base=this;if(base.isTransition){return false;}
base.currentItem+=base.options.scrollPerPage===true?base.options.items:1;if(base.currentItem>base.maximumItem+(base.options.scrollPerPage===true?(base.options.items-1):0)){if(base.options.rewindNav===true){base.currentItem=0;speed="rewind";}else{base.currentItem=base.maximumItem;return false;}}
base.goTo(base.currentItem,speed);},prev:function(speed){var base=this;if(base.isTransition){return false;}
if(base.options.scrollPerPage===true&&base.currentItem>0&&base.currentItem<base.options.items){base.currentItem=0;}else{base.currentItem-=base.options.scrollPerPage===true?base.options.items:1;}
if(base.currentItem<0){if(base.options.rewindNav===true){base.currentItem=base.maximumItem;speed="rewind";}else{base.currentItem=0;return false;}}
base.goTo(base.currentItem,speed);},goTo:function(position,speed,drag){var base=this,goToPixel;if(base.isTransition){return false;}
if(typeof base.options.beforeMove==="function"){base.options.beforeMove.apply(this,[base.$elem]);}
if(position>=base.maximumItem){position=base.maximumItem;}else if(position<=0){position=0;}
base.currentItem=base.owl.currentItem=position;if(base.options.transitionStyle!==false&&drag!=="drag"&&base.options.items===1&&base.browser.support3d===true){base.swapSpeed(0);if(base.browser.support3d===true){base.transition3d(base.positionsInArray[position]);}else{base.css2slide(base.positionsInArray[position],1);}
base.afterGo();base.singleItemTransition();return false;}
goToPixel=base.positionsInArray[position];if(base.browser.support3d===true){base.isCss3Finish=false;if(speed===true){base.swapSpeed("paginationSpeed");window.setTimeout(function(){base.isCss3Finish=true;},base.options.paginationSpeed);}else if(speed==="rewind"){base.swapSpeed(base.options.rewindSpeed);window.setTimeout(function(){base.isCss3Finish=true;},base.options.rewindSpeed);}else{base.swapSpeed("slideSpeed");window.setTimeout(function(){base.isCss3Finish=true;},base.options.slideSpeed);}
base.transition3d(goToPixel);}else{if(speed===true){base.css2slide(goToPixel,base.options.paginationSpeed);}else if(speed==="rewind"){base.css2slide(goToPixel,base.options.rewindSpeed);}else{base.css2slide(goToPixel,base.options.slideSpeed);}}
base.afterGo();},jumpTo:function(position){var base=this;if(typeof base.options.beforeMove==="function"){base.options.beforeMove.apply(this,[base.$elem]);}
if(position>=base.maximumItem||position===-1){position=base.maximumItem;}else if(position<=0){position=0;}
base.swapSpeed(0);if(base.browser.support3d===true){base.transition3d(base.positionsInArray[position]);}else{base.css2slide(base.positionsInArray[position],1);}
base.currentItem=base.owl.currentItem=position;base.afterGo();},afterGo:function(){var base=this;base.prevArr.push(base.currentItem);base.prevItem=base.owl.prevItem=base.prevArr[base.prevArr.length-2];base.prevArr.shift(0);if(base.prevItem!==base.currentItem){base.checkPagination();base.checkNavigation();base.eachMoveUpdate();if(base.options.autoPlay!==false){base.checkAp();}}
if(typeof base.options.afterMove==="function"&&base.prevItem!==base.currentItem){base.options.afterMove.apply(this,[base.$elem]);}},stop:function(){var base=this;base.apStatus="stop";window.clearInterval(base.autoPlayInterval);},checkAp:function(){var base=this;if(base.apStatus!=="stop"){base.play();}},play:function(){var base=this;base.apStatus="play";if(base.options.autoPlay===false){return false;}
window.clearInterval(base.autoPlayInterval);base.autoPlayInterval=window.setInterval(function(){base.next(true);},base.options.autoPlay);},swapSpeed:function(action){var base=this;if(action==="slideSpeed"){base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed));}else if(action==="paginationSpeed"){base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed));}else if(typeof action!=="string"){base.$owlWrapper.css(base.addCssSpeed(action));}},addCssSpeed:function(speed){return{"-webkit-transition":"all "+speed+"ms ease","-moz-transition":"all "+speed+"ms ease","-o-transition":"all "+speed+"ms ease","transition":"all "+speed+"ms ease"};},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"","transition":""};},doTranslate:function(pixels){return{"-webkit-transform":"translate3d("+pixels+"px, 0px, 0px)","-moz-transform":"translate3d("+pixels+"px, 0px, 0px)","-o-transform":"translate3d("+pixels+"px, 0px, 0px)","-ms-transform":"translate3d("+pixels+"px, 0px, 0px)","transform":"translate3d("+pixels+"px, 0px,0px)"};},transition3d:function(value){var base=this;base.$owlWrapper.css(base.doTranslate(value));},css2move:function(value){var base=this;base.$owlWrapper.css({"left":value});},css2slide:function(value,speed){var base=this;base.isCssFinish=false;base.$owlWrapper.stop(true,true).animate({"left":value},{duration:speed||base.options.slideSpeed,complete:function(){base.isCssFinish=true;}});},checkBrowser:function(){var base=this,translate3D="translate3d(0px, 0px, 0px)",tempElem=document.createElement("div"),regex,asSupport,support3d,isTouch;tempElem.style.cssText="  -moz-transform:"+translate3D+"; -ms-transform:"+translate3D+"; -o-transform:"+translate3D+"; -webkit-transform:"+translate3D+"; transform:"+translate3D;regex=/translate3d\(0px, 0px, 0px\)/g;asSupport=tempElem.style.cssText.match(regex);support3d=(asSupport!==null&&asSupport.length===1);isTouch="ontouchstart"in window||window.navigator.msMaxTouchPoints;base.browser={"support3d":support3d,"isTouch":isTouch};},moveEvents:function(){var base=this;if(base.options.mouseDrag!==false||base.options.touchDrag!==false){base.gestures();base.disabledEvents();}},eventTypes:function(){var base=this,types=["s","e","x"];base.ev_types={};if(base.options.mouseDrag===true&&base.options.touchDrag===true){types=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"];}else if(base.options.mouseDrag===false&&base.options.touchDrag===true){types=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"];}else if(base.options.mouseDrag===true&&base.options.touchDrag===false){types=["mousedown.owl","mousemove.owl","mouseup.owl"];}
base.ev_types.start=types[0];base.ev_types.move=types[1];base.ev_types.end=types[2];},disabledEvents:function(){var base=this;base.$elem.on("dragstart.owl",function(event){event.preventDefault();});base.$elem.on("mousedown.disableTextSelect",function(e){return $(e.target).is('input, textarea, select, option');});},gestures:function(){var base=this,locals={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};base.isCssFinish=true;function getTouches(event){if(event.touches!==undefined){return{x:event.touches[0].pageX,y:event.touches[0].pageY};}
if(event.touches===undefined){if(event.pageX!==undefined){return{x:event.pageX,y:event.pageY};}
if(event.pageX===undefined){return{x:event.clientX,y:event.clientY};}}}
function swapEvents(type){if(type==="on"){$(document).on(base.ev_types.move,dragMove);$(document).on(base.ev_types.end,dragEnd);}else if(type==="off"){$(document).off(base.ev_types.move);$(document).off(base.ev_types.end);}}
function dragStart(event){var ev=event.originalEvent||event||window.event,position;if(ev.which===3){return false;}
if(base.itemsAmount<=base.options.items){return;}
if(base.isCssFinish===false&&!base.options.dragBeforeAnimFinish){return false;}
if(base.isCss3Finish===false&&!base.options.dragBeforeAnimFinish){return false;}
if(base.options.autoPlay!==false){window.clearInterval(base.autoPlayInterval);}
if(base.browser.isTouch!==true&&!base.$owlWrapper.hasClass("grabbing")){base.$owlWrapper.addClass("grabbing");}
base.newPosX=0;base.newRelativeX=0;$(this).css(base.removeTransition());position=$(this).position();locals.relativePos=position.left;locals.offsetX=getTouches(ev).x-position.left;locals.offsetY=getTouches(ev).y-position.top;swapEvents("on");locals.sliding=false;locals.targetElement=ev.target||ev.srcElement;}
function dragMove(event){var ev=event.originalEvent||event||window.event,minSwipe,maxSwipe;base.newPosX=getTouches(ev).x-locals.offsetX;base.newPosY=getTouches(ev).y-locals.offsetY;base.newRelativeX=base.newPosX-locals.relativePos;if(typeof base.options.startDragging==="function"&&locals.dragging!==true&&base.newRelativeX!==0){locals.dragging=true;base.options.startDragging.apply(base,[base.$elem]);}
if((base.newRelativeX>8||base.newRelativeX<-8)&&(base.browser.isTouch===true)){if(ev.preventDefault!==undefined){ev.preventDefault();}else{ev.returnValue=false;}
locals.sliding=true;}
if((base.newPosY>10||base.newPosY<-10)&&locals.sliding===false){$(document).off("touchmove.owl");}
minSwipe=function(){return base.newRelativeX/5;};maxSwipe=function(){return base.maximumPixels+base.newRelativeX/5;};base.newPosX=Math.max(Math.min(base.newPosX,minSwipe()),maxSwipe());if(base.browser.support3d===true){base.transition3d(base.newPosX);}else{base.css2move(base.newPosX);}}
function dragEnd(event){var ev=event.originalEvent||event||window.event,newPosition,handlers,owlStopEvent;ev.target=ev.target||ev.srcElement;locals.dragging=false;if(base.browser.isTouch!==true){base.$owlWrapper.removeClass("grabbing");}
if(base.newRelativeX<0){base.dragDirection=base.owl.dragDirection="left";}else{base.dragDirection=base.owl.dragDirection="right";}
if(base.newRelativeX!==0){newPosition=base.getNewPosition();base.goTo(newPosition,false,"drag");if(locals.targetElement===ev.target&&base.browser.isTouch!==true){$(ev.target).on("click.disable",function(ev){ev.stopImmediatePropagation();ev.stopPropagation();ev.preventDefault();$(ev.target).off("click.disable");});handlers=$._data(ev.target,"events").click;owlStopEvent=handlers.pop();handlers.splice(0,0,owlStopEvent);}}
swapEvents("off");}
base.$elem.on(base.ev_types.start,".owl-wrapper",dragStart);},getNewPosition:function(){var base=this,newPosition=base.closestItem();if(newPosition>base.maximumItem){base.currentItem=base.maximumItem;newPosition=base.maximumItem;}else if(base.newPosX>=0){newPosition=0;base.currentItem=0;}
return newPosition;},closestItem:function(){var base=this,array=base.options.scrollPerPage===true?base.pagesInArray:base.positionsInArray,goal=base.newPosX,closest=null;$.each(array,function(i,v){if(goal-(base.itemWidth/20)>array[i+1]&&goal-(base.itemWidth/20)<v&&base.moveDirection()==="left"){closest=v;if(base.options.scrollPerPage===true){base.currentItem=$.inArray(closest,base.positionsInArray);}else{base.currentItem=i;}}else if(goal+(base.itemWidth/20)<v&&goal+(base.itemWidth/20)>(array[i+1]||array[i]-base.itemWidth)&&base.moveDirection()==="right"){if(base.options.scrollPerPage===true){closest=array[i+1]||array[array.length-1];base.currentItem=$.inArray(closest,base.positionsInArray);}else{closest=array[i+1];base.currentItem=i+1;}}});return base.currentItem;},moveDirection:function(){var base=this,direction;if(base.newRelativeX<0){direction="right";base.playDirection="next";}else{direction="left";base.playDirection="prev";}
return direction;},customEvents:function(){var base=this;base.$elem.on("owl.next",function(){base.next();});base.$elem.on("owl.prev",function(){base.prev();});base.$elem.on("owl.play",function(event,speed){base.options.autoPlay=speed;base.play();base.hoverStatus="play";});base.$elem.on("owl.stop",function(){base.stop();base.hoverStatus="stop";});base.$elem.on("owl.goTo",function(event,item){base.goTo(item);});base.$elem.on("owl.jumpTo",function(event,item){base.jumpTo(item);});},stopOnHover:function(){var base=this;if(base.options.stopOnHover===true&&base.browser.isTouch!==true&&base.options.autoPlay!==false){base.$elem.on("mouseover",function(){base.stop();});base.$elem.on("mouseout",function(){if(base.hoverStatus!=="stop"){base.play();}});}},lazyLoad:function(){var base=this,i,$item,itemNumber,$lazyImg,follow;if(base.options.lazyLoad===false){return false;}
for(i=0;i<base.itemsAmount;i+=1){$item=$(base.$owlItems[i]);if($item.data("owl-loaded")==="loaded"){continue;}
itemNumber=$item.data("owl-item");$lazyImg=$item.find(".lazyOwl");if(typeof $lazyImg.data("src")!=="string"){$item.data("owl-loaded","loaded");continue;}
if($item.data("owl-loaded")===undefined){$lazyImg.hide();$item.addClass("loading").data("owl-loaded","checked");}
if(base.options.lazyFollow===true){follow=itemNumber>=base.currentItem;}else{follow=true;}
if(follow&&itemNumber<base.currentItem+base.options.items&&$lazyImg.length){base.lazyPreload($item,$lazyImg);}}},lazyPreload:function($item,$lazyImg){var base=this,iterations=0,isBackgroundImg;if($lazyImg.prop("tagName")==="DIV"){$lazyImg.css("background-image","url("+$lazyImg.data("src")+")");isBackgroundImg=true;}else{$lazyImg[0].src=$lazyImg.data("src");}
function showImage(){$item.data("owl-loaded","loaded").removeClass("loading");$lazyImg.removeAttr("data-src");if(base.options.lazyEffect==="fade"){$lazyImg.fadeIn(400);}else{$lazyImg.show();}
if(typeof base.options.afterLazyLoad==="function"){base.options.afterLazyLoad.apply(this,[base.$elem]);}}
function checkLazyImage(){iterations+=1;if(base.completeImg($lazyImg.get(0))||isBackgroundImg===true){showImage();}else if(iterations<=100){window.setTimeout(checkLazyImage,100);}else{showImage();}}
checkLazyImage();},autoHeight:function(){var base=this,$currentimg=$(base.$owlItems[base.currentItem]).find("img"),iterations;function addHeight(){var $currentItem=$(base.$owlItems[base.currentItem]).height();base.wrapperOuter.css("height",$currentItem+"px");if(!base.wrapperOuter.hasClass("autoHeight")){window.setTimeout(function(){base.wrapperOuter.addClass("autoHeight");},0);}}
function checkImage(){iterations+=1;if(base.completeImg($currentimg.get(0))){addHeight();}else if(iterations<=100){window.setTimeout(checkImage,100);}else{base.wrapperOuter.css("height","");}}
if($currentimg.get(0)!==undefined){iterations=0;checkImage();}else{addHeight();}},completeImg:function(img){var naturalWidthType;if(!img.complete){return false;}
naturalWidthType=typeof img.naturalWidth;if(naturalWidthType!=="undefined"&&img.naturalWidth===0){return false;}
return true;},onVisibleItems:function(){var base=this,i;if(base.options.addClassActive===true){base.$owlItems.removeClass("active");}
base.visibleItems=[];for(i=base.currentItem;i<base.currentItem+base.options.items;i+=1){base.visibleItems.push(i);if(base.options.addClassActive===true){$(base.$owlItems[i]).addClass("active");}}
base.owl.visibleItems=base.visibleItems;},transitionTypes:function(className){var base=this;base.outClass="owl-"+className+"-out";base.inClass="owl-"+className+"-in";},singleItemTransition:function(){var base=this,outClass=base.outClass,inClass=base.inClass,$currentItem=base.$owlItems.eq(base.currentItem),$prevItem=base.$owlItems.eq(base.prevItem),prevPos=Math.abs(base.positionsInArray[base.currentItem])+base.positionsInArray[base.prevItem],origin=Math.abs(base.positionsInArray[base.currentItem])+base.itemWidth/2,animEnd='webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend';base.isTransition=true;base.$owlWrapper.addClass('owl-origin').css({"-webkit-transform-origin":origin+"px","-moz-perspective-origin":origin+"px","perspective-origin":origin+"px"});function transStyles(prevPos){return{"position":"relative","left":prevPos+"px"};}
$prevItem.css(transStyles(prevPos,10)).addClass(outClass).on(animEnd,function(){base.endPrev=true;$prevItem.off(animEnd);base.clearTransStyle($prevItem,outClass);});$currentItem.addClass(inClass).on(animEnd,function(){base.endCurrent=true;$currentItem.off(animEnd);base.clearTransStyle($currentItem,inClass);});},clearTransStyle:function(item,classToRemove){var base=this;item.css({"position":"","left":""}).removeClass(classToRemove);if(base.endPrev&&base.endCurrent){base.$owlWrapper.removeClass('owl-origin');base.endPrev=false;base.endCurrent=false;base.isTransition=false;}},owlStatus:function(){var base=this;base.owl={"userOptions":base.userOptions,"baseElement":base.$elem,"userItems":base.$userItems,"owlItems":base.$owlItems,"currentItem":base.currentItem,"prevItem":base.prevItem,"visibleItems":base.visibleItems,"isTouch":base.browser.isTouch,"browser":base.browser,"dragDirection":base.dragDirection};},clearEvents:function(){var base=this;base.$elem.off(".owl owl mousedown.disableTextSelect");$(document).off(".owl owl");$(window).off("resize",base.resizer);},unWrap:function(){var base=this;if(base.$elem.children().length!==0){base.$owlWrapper.unwrap();base.$userItems.unwrap().unwrap();if(base.owlControls){base.owlControls.remove();}}
base.clearEvents();base.$elem.attr("style",base.$elem.data("owl-originalStyles")||"").attr("class",base.$elem.data("owl-originalClasses"));},destroy:function(){var base=this;base.stop();window.clearInterval(base.checkVisible);base.unWrap();base.$elem.removeData();},reinit:function(newOptions){var base=this,options=$.extend({},base.userOptions,newOptions);base.unWrap();base.init(options,base.$elem);},addItem:function(htmlString,targetPosition){var base=this,position;if(!htmlString){return false;}
if(base.$elem.children().length===0){base.$elem.append(htmlString);base.setVars();return false;}
base.unWrap();if(targetPosition===undefined||targetPosition===-1){position=-1;}else{position=targetPosition;}
if(position>=base.$userItems.length||position===-1){base.$userItems.eq(-1).after(htmlString);}else{base.$userItems.eq(position).before(htmlString);}
base.setVars();},removeItem:function(targetPosition){var base=this,position;if(base.$elem.children().length===0){return false;}
if(targetPosition===undefined||targetPosition===-1){position=-1;}else{position=targetPosition;}
base.unWrap();base.$userItems.eq(position).remove();base.setVars();}};$.fn.owlCarousel=function(options){return this.each(function(){if($(this).data("owl-init")===true){return false;}
$(this).data("owl-init",true);var carousel=Object.create(Carousel);carousel.init(options,this);$.data(this,"owlCarousel",carousel);});};$.fn.owlCarousel.options={items:5,itemsCustom:false,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:false,itemsMobile:[479,1],singleItem:false,itemsScaleUp:false,slideSpeed:200,paginationSpeed:800,rewindSpeed:1000,autoPlay:false,stopOnHover:false,navigation:false,navigationText:["prev","next"],rewindNav:true,scrollPerPage:false,pagination:true,paginationNumbers:false,responsive:true,responsiveRefreshRate:200,responsiveBaseWidth:window,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:false,lazyFollow:true,lazyEffect:"fade",autoHeight:false,jsonPath:false,jsonSuccess:false,dragBeforeAnimFinish:true,mouseDrag:true,touchDrag:true,addClassActive:false,transitionStyle:false,beforeUpdate:false,afterUpdate:false,beforeInit:false,afterInit:false,beforeMove:false,afterMove:false,afterAction:false,startDragging:false,afterLazyLoad:false};}(jQuery,window,document));

(function($){$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var cfg={interval:100,sensitivity:6,timeout:0};if(typeof handlerIn==="object"){cfg=$.extend(cfg,handlerIn);}else if($.isFunction(handlerOut)){cfg=$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector});}else{cfg=$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});}
var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if(Math.sqrt((pX-cX)*(pX-cX)+(pY-cY)*(pY-cY))<cfg.sensitivity){$(ob).off("mousemove.hoverIntent",track);ob.hoverIntent_s=true;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=false;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var ev=$.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}
if(e.type==="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove.hoverIntent",track);if(!ob.hoverIntent_s){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).off("mousemove.hoverIntent",track);if(ob.hoverIntent_s){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.on({'mouseenter.hoverIntent':handleHover,'mouseleave.hoverIntent':handleHover},cfg.selector);};})(jQuery);

var s7riCallbacks=[];var s7riErrCallbacks=[];function s7RIJSONResponse(inArg,inId){for(var i=0;i<s7riCallbacks.length;i++){if(s7riCallbacks[i]!=null){if(s7riCallbacks[i].id==parseInt(inId)){if(s7riCallbacks[i].callback){s7riCallbacks[i].callback(inArg);}
delete s7riCallbacks[i];}}}}
function s7jsonError(inArg,inId){var alertErr=true;for(var i=0;i<s7riErrCallbacks.length;i++){if(s7riErrCallbacks[i]!=null){if(s7riErrCallbacks[i].id==parseInt(inId)){if(s7riErrCallbacks[i].callback){s7riErrCallbacks[i].callback(inArg);}
delete s7riErrCallbacks[i];alertErr=false;}}}
if(alertErr){if(typeof window.console!="undefined"){window.console.log(inArg.message);}}}
function s7responsiveImage(inImageElem){function sjGetResponse(inReq,inImg,inCallback,inErrCallback){var urljson="";var tempi=inImg.indexOf("?");if(tempi>=0){urljson=inImg+'&'+inReq;}else{urljson=inImg+'?'+inReq;}
var id=sjHashCode(urljson);urljson+='&id='+id+"&handler=s7RIJSONResponse";if(typeof inCallback!='undefined'){s7riCallbacks.push({callback:inCallback,id:id});}
if(typeof inErrCallback!='undefined'){s7riErrCallbacks.push({callback:inErrCallback,id:id});}
var oScript=document.getElementById('sjScript_'+id);if(oScript){document.getElementsByTagName("head")[0].removeChild(oScript);oScript=null;}
oScript=document.createElement('script');oScript.type='text/javascript';oScript.id='sjScript_'+id;oScript.src=urljson;if(typeof oScript!="undefined"){document.getElementsByTagName("head")[0].appendChild(oScript);}}
function sjHashCode(d){if(!d||d=="")return 1;var h=0,g=0;for(var i=d.length-1;i>=0;i--){var c=parseInt(d.charCodeAt(i));h=((h<<6)&0xfffffff)+c+(c<<14);if((g=h&0xfe00000)!=0)h=(h^(g>>21));}
return h;}
function devPixelRatio(){return 1;};function updateZoomFactor(){var orientation="landscape";var zoom=1;if(typeof(window.orientation)!="undefined"){orientation=((screen.width/screen.height)>1)?"landscape":"portrait";zoom=document.documentElement.clientWidth/window.innerWidth;return{zoom:zoom,orient:orientation};}else{if(document.documentElement.clientWidth>document.documentElement.clientHeight){orientation="landscape";}else{orientation="portrait";}
return{zoom:1,orient:orientation};}};function compareNumbers(a,b){return a-b;}
function compareNumbersDesc(a,b){return b-a;}
function compareBreakpoints(a,b){return parseInt(a.width,10)-parseInt(b.width,10);}
var testimg=inImageElem;if(!testimg){return;}
var testimgSrc=testimg.getAttribute("src")||"";var dataSrc=testimg.getAttribute("data-src")||"";testimgSrc=(testimgSrc=="")?(dataSrc!="")?dataSrc:"":testimgSrc;dataSrc=(dataSrc=="")?(testimgSrc!="")?testimgSrc:"":dataSrc;if((testimgSrc=="")&&(dataSrc=="")){return;}
var oldW=0;var oldTestImgWidth=0;var newW=-1;var maxBreakpoints=0;var minBreakpoints=0;var maxBreakpointsIsCommands="";var minBreakpointsIsCommands="";var newIsCommands="";var pixelRation=devPixelRatio();var scalemode=testimg.getAttribute("data-scalemode")||"upscale";var arrBp=testimg.getAttribute("data-breakpoints");var breakpoints=(arrBp&&arrBp.split(",").length>0)?arrBp.split(","):null;if(breakpoints){for(var i=0;i<breakpoints.length;i++){var data=breakpoints[i].split(":");if(data.length>1){breakpoints[i]={width:data[0]*pixelRation,isCommands:data[1]};}else{breakpoints[i]={width:data[0]*pixelRation,isCommands:""};}}}
if(breakpoints){for(var i=0;i<breakpoints.length;i++){breakpoints[i].width=parseInt(breakpoints[i].width,10);if(breakpoints[i].width>=maxBreakpoints){maxBreakpoints=breakpoints[i].width;maxBreakpointsIsCommands=breakpoints[i].isCommands;}
if(breakpoints[i].width<=minBreakpoints){minBreakpoints=breakpoints[i].width;minBreakpointsIsCommands=breakpoints[i].isCommands;}}
breakpoints.sort(compareBreakpoints);}
var initialization=false;var ua=navigator.userAgent.toLowerCase();var isIE=ua.indexOf('msie');var ver=parseFloat(navigator.appVersion);sjGetResponse('req=props,json&scl=1',dataSrc,function(inArg){initialization=true;testimg.style.width="auto";testimg.maxWidth=parseInt(inArg["image.width"]);},function(inArg){if(typeof window.console!="undefined"){window.console.log('failed loading req=set for image ['+inURL+']: '+inArg.message);}});function winResized(){if(!testimg||!testimg.parentNode||testimg.parentNode.nodeType===11){if(tmr){clearInterval(tmr);tmr=null;}
return;}
if(!initialization||!testimg.offsetWidth||testimg.offsetWidth<=0){return;}
newW=Math.round(testimg.offsetWidth*updateZoomFactor().zoom*devPixelRatio());if(breakpoints){for(var i=0;i<breakpoints.length;i++){if(newW<=breakpoints[i].width&&newW<=maxBreakpoints){newW=breakpoints[i].width;newIsCommands=breakpoints[i].isCommands
break;}else if(newW>=maxBreakpoints){newW=maxBreakpoints;newIsCommands=maxBreakpointsIsCommands
break;}}}
if((newW!=oldW)||(oldTestImgWidth!=testimg.offsetWidth)){var tmpOldW=newW;var tmpOldTestImgWidth=testimg.offsetWidth;var newImage=new Image();newImage.onload=function(){oldW=tmpOldW;oldTestImgWidth=tmpOldTestImgWidth;testimg.src=newImage.src;var ratio=newImage.width/newImage.height;if(ratio>1.6){testimg.style.height="auto";if(ratio>2&&(document.getElementsByClassName("page-productDetails").length>0)){var verticalPadding=Math.round((((testimg.height/testimg.parentElement.parentElement.parentElement.clientHeight)/3.5)*100)/((2/ratio)/1));testimg.style.padding=verticalPadding+"% 0 "+verticalPadding+"% 0";}}
if((isIE!=-1)&&(ver<9)){testimg.style.height=testimg.offsetWidth/ratio+"px";}};newImage.onerror=function(){newImage.src=testimg.src;};newImage.onabort=function(){};newW=Math.min(parseInt(testimg.maxWidth),newW);newImage.src=dataSrc+((dataSrc.indexOf("?")==-1)?"?":"&")+"wid="+newW+((newIsCommands!="")?"&"+newIsCommands:"");}
$(".rsMainSlideImage").css("width","auto");};var tmr=setInterval(winResized,500);};

(function($,window){if(!String.prototype.hasOwnProperty('trim')){String.prototype.trim=function(){return this.replace(/^\s*(.*?)\s*$/,'$1');};}
var run=function(args){if(arguments.length===1&&typeof args==='function')
args=[args];if(!(args instanceof Array))
throw new SyntaxError('isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions');for(var i=0;i<args.length;i++){if(typeof args[i]!=='function'){console.warn('isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions');console.warn('isInViewport: Ignoring non-function values in array and moving on');continue;}
for(var j=0;j<this.length;j++)
args[i].call($(this[j]));}
return this;};$.fn['do']=function(args){console.warn('isInViewport: .do is deprecated as it causes issues in IE and some browsers since it\'s a reserved word. Use $.fn.run instead i.e., $(el).run(fn).');return run(args);};$.fn.run=run;function getScrollbarWidth(viewport){var scrollBarWidth;var el=$('<div></div>').css({'width':'100%'});viewport.append(el);scrollBarWidth=viewport.width()-el.width();el.remove();return scrollBarWidth;}
function isInViewport(element,options){var boundingRect=element.getBoundingClientRect();var top=boundingRect.top;var bottom=boundingRect.bottom;var left=boundingRect.left;var right=boundingRect.right;var settings=$.extend({'tolerance':0,'viewport':window},options);var isVisibleFlag=false;var $viewport=settings.viewport.jquery?settings.viewport:$(settings.viewport);if(!$viewport.length){console.warn('isInViewport: The viewport selector you have provided matches no element on page.');console.warn('isInViewport: Defaulting to viewport as window');$viewport=$(window);}
var $viewportHeight=$viewport.height();var $viewportWidth=$viewport.width();var typeofViewport=$viewport[0].toString();if($viewport[0]!==window&&typeofViewport!=='[object Window]'&&typeofViewport!=='[object DOMWindow]'){var viewportRect=$viewport[0].getBoundingClientRect();top=top-viewportRect.top;bottom=bottom-viewportRect.top;left=left-viewportRect.left;right=right-viewportRect.left;isInViewport.scrollBarWidth=isInViewport.scrollBarWidth||getScrollbarWidth($viewport);$viewportWidth-=isInViewport.scrollBarWidth;}
settings.tolerance=~~Math.round(parseFloat(settings.tolerance));if(settings.tolerance<0)
settings.tolerance=$viewportHeight+settings.tolerance;if(right<=0||left>=$viewportWidth)
return isVisibleFlag;isVisibleFlag=settings.tolerance?top<=settings.tolerance&&bottom>=settings.tolerance:bottom>0&&top<=$viewportHeight;return isVisibleFlag;}
var getSelectorArgs=function(argsString){if(argsString){var args=argsString.split(',');if(args.length===1&&isNaN(args[0])){args[1]=args[0];args[0]=void 0;}
return{tolerance:args[0]?args[0].trim():void 0,viewport:args[1]?$(args[1].trim()):void 0};}
return{};};$.extend($.expr[':'],{'in-viewport':$.expr.createPseudo?$.expr.createPseudo(function(argsString){return function(currElement){return isInViewport(currElement,getSelectorArgs(argsString));};}):function(currObj,index,meta){return isInViewport(currObj,getSelectorArgs(meta[3]));}});$.fn.isInViewport=function(options){return this.filter(function(i,el){return isInViewport(el,options);});};})(jQuery,window);

jQuery(function($){$(document).ready(function(){var contentButton=[];var contentTop=[];var content=[];var lastScrollTop=0;var scrollDir='';var itemClass='';var itemHover='';var menuSize=null;var stickyHeight=0;var stickyMarginB=0;var currentMarginT=0;var topMargin=0;var vartop=0;$(window).scroll(function(event){var st=$(this).scrollTop();if(st>lastScrollTop){scrollDir='down';}else{scrollDir='up';}
lastScrollTop=st;});$.fn.stickUp=function(options){$(this).addClass('stuckMenu');var objn=0;if(options!=null){for(var o in options.parts){if(options.parts.hasOwnProperty(o)){content[objn]=options.parts[objn];objn++;}}
if(objn==0){console.log('error:needs arguments');}
itemClass=options.itemClass;itemHover=options.itemHover;if(options.topMargin!=null){if(options.topMargin=='auto'){topMargin=parseInt($('.stuckMenu').css('margin-top'));}else{if(isNaN(options.topMargin)&&options.topMargin.search("px")>0){topMargin=parseInt(options.topMargin.replace("px",""));}else if(!isNaN(parseInt(options.topMargin))){topMargin=parseInt(options.topMargin);}else{console.log("incorrect argument, ignored.");topMargin=0;}}}else{topMargin=0;}
menuSize=$('.'+itemClass).size();}
stickyHeight=parseInt($(this).height());stickyMarginB=parseInt($(this).css('margin-bottom'));currentMarginT=parseInt($(this).next().closest('div').css('margin-top'));try{vartop=parseInt($(this).offset().top);}catch(e){}
if(typeof(vartop)==="undefined"){vartop=0;}}
$(document).on('scroll',function(){varscroll=parseInt($(document).scrollTop());if(menuSize!=null){for(var i=0;i<menuSize;i++)
{contentTop[i]=$('#'+content[i]+'').offset().top;function bottomView(i){contentView=$('#'+content[i]+'').height()*.4;testView=contentTop[i]-contentView;if(varscroll>testView){$('.'+itemClass).removeClass(itemHover);$('.'+itemClass+':eq('+i+')').addClass(itemHover);}else if(varscroll<50){$('.'+itemClass).removeClass(itemHover);$('.'+itemClass+':eq(0)').addClass(itemHover);}}
if(scrollDir=='down'&&varscroll>contentTop[i]-50&&varscroll<contentTop[i]+50){$('.'+itemClass).removeClass(itemHover);$('.'+itemClass+':eq('+i+')').addClass(itemHover);}
if(scrollDir=='up'){bottomView(i);}}}
if(vartop<varscroll+topMargin){$('.stuckMenu').addClass('isStuck');$('.stuckMenu').next().closest('div').css({'margin-top':stickyHeight+stickyMarginB+currentMarginT+'px'},10);$('.stuckMenu').css("position","fixed");$('.isStuck').css({top:'0px'},10,function(){});};if(varscroll+topMargin<vartop){$('.stuckMenu').removeClass('isStuck');$('.stuckMenu').next().closest('div').css({'margin-top':currentMarginT+'px'},10);$('.stuckMenu').css("position","relative");};});});});

!function(a,b){function d(c,d){c=a(c);var e=c.is("body"),g=c.data("LoadingOverlayCount");if(g===b&&(g=0),0==g){var h=a("<div>",{"class":"loadingoverlay",css:{"background-color":d.color,display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}});if(d.zIndex!==b&&h.css("z-index",d.zIndex),d.image&&h.css({"background-image":"url("+d.image+")","background-position":d.imagePosition,"background-repeat":"no-repeat"}),d.fontawesome&&a("<div>",{"class":"loadingoverlay_fontawesome "+d.fontawesome}).appendTo(h),d.custom&&a(d.custom).appendTo(h),e?h.css({position:"fixed",top:0,left:0,width:"100%",height:"100%"}):h.css("position","fixed"==c.css("position")?"fixed":"absolute"),f(c,h,d,e),d.resizeInterval>0){var i=setInterval(function(){f(c,h,d,e)},d.resizeInterval);c.data("LoadingOverlayResizeIntervalId",i)}d.fade?d.fade===!0?d.fade=[400,200]:("string"==typeof d.fade||"number"==typeof d.fade)&&(d.fade=[d.fade,d.fade]):d.fade=[0,0],c.data({LoadingOverlay:h,LoadingOverlayFadeOutDuration:d.fade[1]}),h.hide().appendTo("body").fadeIn(d.fade[0])}g++,c.data("LoadingOverlayCount",g)}function e(c,d){c=a(c);var e=c.data("LoadingOverlayCount");if(e!==b)if(e--,d||0>=e){var f=c.data("LoadingOverlayResizeIntervalId");f&&clearInterval(f),c.data("LoadingOverlay").fadeOut(c.data("LoadingOverlayFadeOutDuration"),function(){a(this).remove()}),c.removeData(["LoadingOverlay","LoadingOverlayCount","LoadingOverlayFadeOutDuration","LoadingOverlayResizeIntervalId"])}else c.data("LoadingOverlayCount",e)}function f(b,c,d,e){if(!e){var f="fixed"==b.css("position")?b.position():b.offset();c.css({top:f.top+parseInt(b.css("border-top-width"),10),left:f.left+parseInt(b.css("border-left-width"),10),width:b.innerWidth(),height:b.innerHeight()})}var g=e?a(window):b,h="auto";d.size&&"auto"!=d.size&&(h=Math.min(g.innerWidth(),g.innerHeight())*parseFloat(d.size)/100,d.maxSize&&h>parseInt(d.maxSize,10)&&(h=parseInt(d.maxSize,10)+"px"),d.minSize&&h<parseInt(d.minSize,10)&&(h=parseInt(d.minSize,10)+"px")),c.css("background-size",h),c.children(".loadingoverlay_fontawesome").css("font-size",h)}var c={color:"rgba(255, 255, 255, 0.8)",custom:"",fade:!0,fontawesome:"",image:"data:image/gif;base64,R0lGODlhZABkAKUAADQyNJyanGRmZMzOzExOTLS2tISChOzq7ERCRKyqrHR2dNze3FxaXMTCxIyOjPT29Dw6PKSipGxubNTW1FRWVLy+vIyKjPTy9ExKTLSytHx+fOTm5GRiZMzKzJSWlPz+/DQ2NJyenGxqbNTS1FRSVLy6vISGhOzu7ERGRKyurHx6fOTi5FxeXMTGxJSSlPz6/Dw+PKSmpHRydNza3P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBQA0ACwAAAAAZABkAAAG/kCacEgsGo/IJO1SEEBAosJFSa1ar9jswQQBeAEgyyFLLpvNL893DXC9zvC4XDggsb+EwXzPtyZAd14gCX2FhkQRgIEAIYeOSAMWIgoxY1UpioEpj5xCFx6ZACQVH1QjFIt5nY8PIV1sKCtUaYsOpVcfb6tWM6iBJlUnJqEAJidYKxYaFbq7SSXEXxQPVQ8VEjBQFVNXDypeKCPOSR8ZiwAox50rLF8Z40kV0V7Tqw8WXgQT8EgzDIvAdm1I4WFAM35EPqSAcYeAul25ECZ5EYPAGgH7JGo08mFACAcOChy4tbHkkA8PDppcybKly5cwY8rc8+HEiBYDRs509qKF/goCCAhIaEBy56MBFtcQaGCU04ukbFgsaErlQAQFETZgGbAIRAmqEx0oskDNirlFMcAieWDHCwtZVkqce6fWyAMBXyQ8pHKCYcOMdROOEIBBQIssAQI5KBs44YEWcLGcELvGWONCHyZ40OBhQtHLoEOLHk26tOnTqFOrXs26tevXEj+0MCFDBTPYSi64QPAFhgFLrl8c2HCC5IsUvNeAiMB49YsCFBCwICrkgIRABICvboEBz1QaC7oHmuEa1JdBQhZAZfOdtXlBdE8oCERBa+tTX94KeZ58TYjPqfWkAAsaiDPEcX6B4UFzrV1wAoNCbBCCCSG0h9uFGGao4YYc/nbo4YcghijiiCW9sMEMG6i04QsjKKCICICJ9sACE6wAoRILcMAGBRZe9kIIDKDAQALcWBGCYgDWVcIrACBQQpJHtHOHAHs1dt0aGhRJhZRR2QeaCGwooKUSBgSiwY1qRcBGDCpCkqAgh4l2wpUAKOBlFS9UQIEiBFRQ2gsDFKAHGR8skEAIKSwAJYmMNuroo5BGSkSbHa6wmQEljNnJBzOMUGVJMxCgCAwWfOrIARpggAIFBSw6zgl4sZGAq3uc8M0ag5bUAApT0jrHAG8CoMFKBfQnDZp9tDDlSh3wyoYEvsoxgrNfOLDSA2Uq5ycuKzQAGaVHnOBCJrGwtEKsUwDAEAOyRbyQgQAoIMBBAeAasUEMArBgQq4rndCCB4myWwSwa8DAbzXDPRBtU/M9++E/O35I5xcCfNgAMdt2+EACe4JAAZsgvrBABRUsUK+knAQBACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8gk7bNKaVSx2UtJrVqv2CytwgJ4AZTCVEsum7ED0veLaJzfcPhDsV4LTvG83jpR170oLXuDhEQdBH9eMBVXHwcHF4VnLwMJGQtXfYkAKB1VlBoMFAIekZJYLxMUXiAQBitVc5sseEovATB1LBMfp1Yjq3UyD1UtKH8gBVUNIIkSsL5KDxabjFQfBYhfMCljSQ8Cm8m90UgzXYkaVi8LMSoKIVJVExibACbE5Ucj2n8CvsbsScinr8gCBpvUnaJnTwPBgkMeGNhUwtcDdIlSkINI5NyfgdE6NPt4gOORCQJycbKwodyHEMfszDCJ5ESDFClGPLTYwgT+i1EhWtIcKu3AhhMbiSpdyrSp06dQoya5sOKEN6kcTyRQIEBGgFpYC14woRIACAklw+oLkMjATrVJUhWQ16jfGgoT4Fb50AIRCmtWLoysE0gvlRfUvGi4agtCok6GbYX44iApFTr+hEau6YKFAc1WOsT8Mm6zLataXlQIZrYEY9N6PjwYkKLFBcuwc+vezbu379/AgwsfTry48ePIk1950CFFA1PKr6GEQJ1ChdfIcS/gUAdDC9zFHzTI0ILgiwiDv6iAjjxFLgQJhpzQkIhAWuQXEHohkO8C/T8UgGbcA/qBkc956SnG3nHuAcANESuEs0Yg4BH3QgsFlEfEBzP+CNAMCAR8F91eM1QwwVsjpqjiiiy26OKLMMYo44w01gjXBy/kWCGLFxQgAgEsxADWbw9AosUDISCwhgUowvbBBBYoYMEA2CExgZJrwFCRb/l9wcJMV0SQiAm/ZVBHDDsWMdkfGqRpWAJ1hFClEQ0kEsJvE5S1CBYbSFAHAQLq9kIMx4AQQ5NIrKABCiDAIAAmwX1wVBkPTFBBBwvaqOmmnHbq6aegKiHpADrR+EIIBCCAggILuKnHCw1IwIADgQ71QQx1iABNNC806AUFmdJ0QoFfaFTOASLUkUJTE9jlRWXlLMDas01tQKwXIbgKxwEy1KFMUx78mRcWJ0wwwgFZ2grxQQn9CIBoVgqMRIAYjUxgAAkkKNDBnEY80JMGMdRK1AW0FbABv0WcgBEABOy63APpGlbAHx7IKGYdZMZY55kynuDnFwHOeIAHLLDgAKQzvnDCwaEqFQQAIfkECQUANAAsAAAAAGQAZAAABv5AmnBILBqPyKTwMqtUZheldEqtWq/ClQMDAMBMC6x4TMZeZKCuWnAou9/wGERN93zg+Dz1JaHTWSd6goNEJwJ+ahQrhIxJLxuBVQ8iiF0sG1QPJSYqHhONZh4YIBAsJQ9UEWmIJlQTHH4BkaBSJxZ+MCl3tYd+BItSGwyIICGotEoFMIgos0ozGnQCA1QhlQAUn8hIDwbXBVUnAyEhLSe7Si8s1wAF6NuFMtceoBcE7DEv8EYP0ZUpoD6s+7bPyIcEq+iAaAPKwzUUIwry8+ZHF60TFCqF0CexyAMHLFCgkFDhGK0BAhKC8BClo8EFA0Y4o/VhRQoLCjw04Oiy5/6RDw8u8PRJtKjRo0iTKh304cWDB++W7jtQwoUBFyU2RFXyYUIICwFabJX6TMGyLiAUaJvyogSFOQBQxCBb5YCChGpYmFQyAAGuDHSlvFA1j8otRApaBj5yQt41FoqTwELEIsziIxsGVvo1hRJlTJeNHNCMiABoJTHwdnEwNPQSE+wktD5yoA8dCpZdE/nQAsW1FlRqmlglIbduIg9CqAbA2grQE0+PI+FNAQYIGCwK7JWe58GEFiMicx9Pvrz58+jTq1/Pvr379/B9PtoeX8oFUTAQmFgxtj6RC7BJA4x/MPFHRAtcKJTAbO3NwAEGHMwwxAcxVKIBfe05oIYDRP5UiMiF/mm42oEJ0pECg+zNEJIAEg5xwWFrnFZfgVFdEAMB1zmglX/BncPjj0AGKeSQRBZp5JFIJqnkktx90B+RLyxQQAAVGHjkCw0M0wWL6b2wQgvGUZGZH7KdxxsLBHDQwBUNIALDWuRNEqMVKbgJnHkPZGRJmHyphsKA5L0QQBogOIAhEhf4syGKx52QggYxiDfFfQSgQIAHhwr5wQIj7Mjkp6CGKuqopJZqxQMrMKRkBwJggIEBgNLkaAAdZCrRAmd1IYGqtKiIlgtIueAHCHfS8oIHKvHqk2N0ZPBkHon6USxRDilEDTLJKTRTTyvco4YG23J1gY9XLHCXF08hJNWCCRRQ4IGMU5yQgAIyhKDsFDal0IKtEn1wwQYb8OtRAHCBYICkQq6QaxfXGjkDIhUguYFvaoDAp5AvxHDWSgL790IFJmignakk7xMEACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8ik8HVaLU4vpXRKrVqvy4KKRFBkHtiweBxOoABoACxEbrvftMU5jYaN4Pj8NAKipy16gYJDJn5pEoOJeR6GaBpWJy0VM1GKVi8jFiwCMRsfVCMIhiANVCcBcyAsE5WWSh8Vc2giM1UOfXQarUkvFrhpJAOuUjMMhrpUFzEUaCghB1QTv7kXw0kxEKMnVS8bCxMbYFQBjQAEE9ZIjI3oihrlMB3pRzHTaduKDuUEd/NFEwQMsfikaEA5Afj8DfmQIVuac65evPODooXCIxUUsGDhYIG1Aw5kUahwEcmDDQd2uXowIEaMAh5LypxJs6bNmzhz6tzJM8/+hwUNSlRYoHLKiwElOlTrWeVBBhYw1LCIsZTKCg0EYKAQsYLplA8JRNGBwIbKAQl+KGzwqqRDwEbCpjQYFYEtkhchygFwQCXvMYJ2iVwoVA7RnkaPAhd5oK9wtKh0QJBUTORDCntp6k55EAIyGhPiKA9ZIaARCmjJCghAMTWhaCEfOshCA2FylQ8vHrwA/HrhBhMEUBDQsIB3bzgXNrg+zry58+fQo0ufTr269evYsy+ZUCJBgRnGtRtRxgAGBBgMElR90cGABBNEs58wYA+EhW0vEnjGUKGo9AKYAQBCATRMwAwdAqx1XWnliEBDBvbAYJF1L4jVCAw0pOBQGhL+XveCZ4ZgOAAJfrAQk3UMNiIADZz9AkIG/kWXgl4pCPFABQIQIMEAoVl3ggKNKLCceENsYIEsCDigIJFHsBSDByEMEB6TVFZp5ZVYZqnlllx26eWXrlwwQQcjDHnlBi6cAYMGSzrHxJRK4LUhACZAB5IA911xQIrNtNkbXn2A4AKcR6xwIIe1NNdLGirEeMQFKqTVY2+wqEmgFZWmAcKEzj0wQgEjTErFAhpQoICUYKaq6qqsturqq7CyekIMMijQgqOC4KYbTi/IkAYEMeCax1EahWDmRQbRwUJXwyzAILA3zUgHDO240gIGh9zUQYknWrIAC2mUVdMLaKEBQgpXwuLxQQkicHTsRRuEoIAGBVRFxQcTRBDCCOka0YSoND1wwgWEHhEbBRCAQEADBYt3QrloMPAukQccqgZqWV7gaxosTCzewSAoXEHDRC6QQAzFxaqyJUEAACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8jk8HW5vJTQqHRKrQ4/q5jBEFt8rOCwGDzjgAAAEGsybrvftJcETQdwHvC8PjqA1dEgLXuDhEMlZ38gKYWMeg0Qf2gFVl+NYActIQkzeFInFJEoJ1IvAyowICQhF5ZTKxKIKKtTJSh1IJNRHw0EfxajrUovGn8wJZVQLxUKKCgKFZ1QD6CJGcFKAxiREk9SHxcbGyfIUB2RaAqs10cFCJEE3Ywp5wACG+tHLbZ/LPGFDfQkAMNH5AKHSCHIETrhJ5IHfwSFzOhFx8RARh8yNKQj4GLEIQs8KNBQIJqlBxkEwIBBQMW9jzCPfNjQocIEkzFz6tzJs6f+z59AgwodKuXBggkrcE45sAAiUSgzTHCgwMHCBIVKTgSgQIJDCqxPjUxg8YfBjCkXVPyJADaskAMizlFwemQAIjoEDrhF0mBfpAFS5hUDvNeI4HMxpBSIBINN4SIZ6AHIBWUFRTrcHhcZcPnPAlIFLlNwrHnIAwvnNFB5MSGEgxReShfZoOCPgBWUPrQt/SCFAgoSSsoeTry48ePIkytfzry58+fQoxN8sWDECrrSxWpgQIKFhs8FWySoMC76iwLa6pCoUIk2xxHRZ6T/QwH3C9R1FHhcHkFyAhorHFQHAfA9Vxs9qi1A1oCEOSeDZKo9YIJtej3ngWQhSLQgACj+tLDbcX2c05gQM8VgggcbYJfcCyHcBUgKKkp3ngAowIACBxXEmB0NGwxQwQD77SjkkEQWaeSRSCap5JJMjvHCDAM0teQHHQhAAAoYSNCCjkV8cMAKG3zo1gMxQLKWmEtUIAMLEmTAJVEdzFcHBA2WcxkMHRB3AX6poXnaHxIQt8GGkVBQoRIXEFMHC4JScw4BLwkTwh8OEAeXZBQodcQCAuAVaWksSlbpFA8U8FqQj73yqKY7jjBHHQKQduQGKWgggQYphDnlAxc8gGaTwAYr7LDEXkNdASVc8KseH7yJTwJmroHPASkEMICzrVzgFwAOsDrICw6gQYKsOS3wh35d16ywoTU8XWAmGiZ4u8cDagEAQ4E8hdAQC3W2soIJCpQgL0EXVOBBCFeB8QK2XQ4Mk25goMQCC24y2YI7HAqi5AcJ1JHAstA10BAMGiv5QAIEUJCAw0I2W+zLOgUBACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8ikcslsOp/Q5WOQSAwe0ax2q724SAAQyYPlms9oWggEaIdj6bi8+cC43YTyfM+nLWB3bRAbfYVyB4CBMCeGjUMXAxUtBy9PKoEAGk4fBykqEh4TH45NByqJAh2VTQssdyyErDJsbSgNo6RJLw6BHCubCyEaGjELuEsvFrRuDAu5SQtggQXHTB8XJ9VLF4l3IHDPRx0omCHaewuYbQ7hRxvSdxWOJ8t3Ie1Gu4Gwjh8imDAG4DPywAQMEDAkiCI1gUKgGOcGflhRYYKefhNMUKAgIcXAj0pebFhwISLIkyhTqlzJsqXLlzBjSrlwUaajBxkMqDBQ4UL+lA0BNIQ4YJOOgW4IPPhs8qEFATcIJhQN6aBem3tNTly6I2HVVCMzXGEiYLLICjt3UBD9aqQFWkyMmKx4mjYuWyId6GKqieSBhUCa7hbZ8A8TiyczFNCS8EswkQ8prIKQt2lDixgtNpT9+iDGMhAp+FpznOTDhhgOUmQjzbq169ewY8ueTbu27du4c+vG9+KE193bEkgQoCDFbxovDmygtPvDBAnLIGhYS6OzHRQR7N4+IUOdgzIlusHwmLuD1TYEnL3Y6kbB0tsR1LXpgFxBIAnaaweQD4CyZ3vH0VaBfDBIRcMJVbVhQiy4bSBWIO4N8cAMFYlGW1N6tcHCDMD+KTGDRgRQ4ACDHSaxwgQHbFbiiiy26OKLMMYo44w01mgjEheEIAAFAiSQXxMvPBCgYx8M4NArBjoRjAUhzKCiTSsUFogAFhqxwixtCPCeYy8kcF4bLTAV2R0FtHaBAfyZAGR8d0TQmlb8KeBEBQjcIRBrD/AinwdOeEELGa19UEE3gYwAxQYVaPbaAy6cxyeMJ3hATi1KyThFAh6kYFGNHzx546egXvjAAQesZmkHDgyngY8xfhBBhiAY0FhKQb7gKRoNQKCOCVt+dEAIDCgwwK1cXPCgIregFAEtAsxayACTquPBkOF0Vwt9jRRQp3wmVJmLB26w4EwjLWzrHbVTz2xgAgsCVEDsFiccG4i7KT2wAHWOpCCfBCSyNoMLHoxLhwljLeRaK1n2q8QDFQhAAAoiesvWOOgZCsUDG8xQkmwIA9AsjR+MoIEJBodq8skDBQEAIfkECQUANAAsAAAAAGQAZAAABv5AmnBILBqPyKRyyWw6n9Dla1IqLV7RrHarfUQoMASrhOWaz2haAQJoA2CTtHzuZLndGrp+X8Tc2wJ8gnoCfwB5g4lDHxcbB2VOFWxuMAtPDxMpEQMnik8NKhwiKReXKSwwMAIVkEsXAShtICoHnkwTfm0wEQ9PLwstLRutSh8ZMH8mxLZFGn8EM4oPhX8o0cxHL3Z/A4ovsX8wDdhHHzLhcYkvFIYoI+RHDX8KnYkfAYYCvfBFHykEMFBo2GDrgAYQbggQ5HfkxABL2E4U0KDAw0KGGDNq3Mixo8ePIEOKHEmypMkPExIESLEiy4cBBWYsM3mkAAEIICBwaPHhyf6Kc20UlKKZpASyOyjSMXkRAKGbFESRXFBgCIADJyck/JER9ciCbX8CNTlB9Q6irkRWUAvr5MUxNyBaoC3ywETVGE9OhABDIcbMriMI/GFxscmDBRNW7JtL5MMIsBJm9GQ85/CEYZQza97MubPnz6BDix5NurTp06gZTghgIUZhIYxODD19wgUCWRgKtBqggoWKAZNJvwgxyQ0GnkJWsGvD4hrpDSSqahgaozgIvKVHVAVAYWEIpwBAhDDdYTsFiCNyAXBnegG4PxLqvSjAAAYFVqYfuDAEokLwDydscEJwpa2gAHggBLBYakY8UIACAmggF4MUVmjhhRhmqOGGHP526OGHIG7xwgABmBDBCgReeIBdlHgwmxMrDHBAinNdYAF4skQARQMCECCBUpR1oB5SCyqhlhsy/EXTBzFsB0A3TczAgBssFNnVcE5WgJUBsoSg5EkZ4HgHkEtsEIICMdST2QzLPUMjgwW810ZSGn5QgQAogICCAgN8idoHBwzQwgRqhmjooYiW9sIDfqb2wQoFeOBBAu/U2YEAxZGQQaO2fPDCm3xsIFg1BYCKzQsteJBBoYJ8wGVVArSk0QC5BMCpGSdEVxUME2bUZBscsLrHDEP+UcJGLUyiTF4ZCIAAAjJU8CISom4X10YPZKCAA68pcUBZcFkwrREfqLAdC1QQYWtqgw6IGV4Efk5w1B9+BTmqIectYYycAHhgZVQROAlCAU2YKQALJkBJ2T0CJ3BhwNYSbGEL9z5DZmp1bRfAuqVtAK4bJoxL4QYpCBCQBNJqFAQAIfkECQUANAAsAAAAAGQAZAAABv5AmnBILBqPyKRyyWw6n1Dma3P6RK/YrHZhEYhCB614TB4eOCAAAGS6lN9wZ0RNBwzi+HxRU1cn9IB4Ln0AFYGHRS8XD1EzKHUUJ09TJSUDjIhOKxEaLgMvkxUCKCgKE1ZNLwUUajAumJlKDyJpABQtqE0fGy0Dkk8TJH0xsUsZfQq/gR8hhJHFSSZ9LCuILxaEBAvQSDF9EsqAH97TbtxGJwx0MCm5gQssfSnnSCsmBBK4sR8zIjAwKEKAokcQyYMBAza4K8iwocOHECNKnEixosWLGDPSu9ChxISBUR6E0dhkgQAMMEiYGOnkQgQYAAhkAEnSyAJhdZI5+VABwf66DTWPfPBQiw6IO6k89CkQ1MgDFYQAEEsVoI+hpkReQCU0z8kAdWoomMM6JEXRVtt2ttAgwcQpskROGKgDIgQsJydO3IUr5EAICigEFNjLV8yHDw8OF17MuLHjx5AjS55MubLly5gza05ysMGChZuHvKhAAQYEGAqqEXnQosCnyx8aYPjGkkYEnxhKXD6xlW4GVBcI0OFAU/KG2YRMYApOh0XxyBseJR8bAgIAGEwtn1AQNUauCyVitHge+UUJmHVYACWiOLMq4WoEfA595ESBFANA09/Pv7///wAGKOCABBZo4GMfXDBAATO8oN9mDxTgkxocjBfFCyeQ19QLGf5MSAcBE0CxggYCBBAOWSsIEJUGk0izxm+FNSBdHzA8aMQF3KnhgYYkVYAeIYQh8UEGMBHQgY0aDYBTHwRA8cAIDAYZFI5RheBfin208d8GDgjAggQpnMjfBwcsIOaBaKap5hgYHrCBlKGtEIIMLIjgCY9xKFhABi2cec4IEpxFQAJIlrGBBSRAAAIGMqRV0AqBEgLDCIc8IMNZAHCgGj0vmBUVABLgOcYxUZkgKiAX8PEpCuvpIcOnAmzKzQUifAoACkjpwUpUFIS4kapRoSCrQRMEoIABMSxwKg0SfKoeQZ1iSocAhT4Qg4cAkFBCoTQU8KkDcCJi0qctMEEkIWsYULrECSoyOQNDHyhJSAiFbsDBpxpwu0COaoDILSInOEABAQSokB8TFczYBwWOKvHBBDHE0EG43Hxwwga1LVHAj0yqG5qMn2qzn72fKrCsZOf2gYKv+z2QAHxhXdXfCxN4IIECMazwbyBBAAAh+QQJBQA0ACwAAAAAZABkAAAG/kCacEgsGo/IpHLJbDqf0Kh0Sq1CLxmNpfWyer/fiwkGAKBSXbB63RyAymXCgU2vFzNw+MbOp7fyADBzfYRhCm8AICFpTg8HGxcfhU8XLSkle1ArHgIKKSdPHwsuHCwmI5NOLiiBGitRLyegUAcKeRSDqUkLEHAgMZKFDYhwEbpKFYAmD4UfEYAAGsdJM4CLk8nW00gfJnACC6kbAnkoudtFDxUeFSfBzSsKKCgS4ej3ShsbzPj9/v8AAwocSLCgwYMIEyr092LFiFcLC71wQQEDhQCznhyIoCJBxohHXnjLY+LCkxMm3oCIwAhkkQms8oCY8WQCg2/8XBYpQQZQ/oUnKzjAUdBSp5AWPfO0CFWCBQoBE4wauSACEItzTEQN2PBO6pABLOBQaNHVqxVRBTwUWFDW7JcPbd3KnUu3rt27ePPq3cu3r9+/gAMXeXGgqGAiHzaYQACDRIqcQkR1gOh3BjlfASAP4IBBAOW9D0IQizOAiAE4AfxesAUIRAYiGuB4UM1a5ushI5x69hsaGoHSQ7Rmqhw2jwPIh2l8WKEBBogzyJMPcWRYuvXr2LNr3869u/fvgU+MqDAhevIHGRigQNC5Q1ydLy4cePA+5Mg8EBKYj/hhgoReCLjAVRMFQEOaWSPc5IsKHyFBlYFleLBfQg+c1loBTMxAAIQA/gjQYEQzFAeIAkxMsCGEAmAVkU0GSsDEARRwqMGHC50ggYEOMCEShynUh9AHMYwWSFRMnBAjNDOa9UIAMQFAQAM+EjGAAKO5ItcHLXhgQghshbJBASZo4EAFJmn3wQsPvBAleGy22WYs9G2njgcGOJDBgJMkNsAAK1S3zQkuIAAHBBIQSQgWIpBAAAcB+KnLAy70YlWZfDiTVCIWTDjJABhAGAMhKwgZSAn4vBADhwIQkgCEJqxpxwsecEgAIS5AqICmfZiKahMfHNBBBAlMEEkTpxpogqOFDNAkIJ8y0YJQZUCggT1LrHBpGSD8hM8FDohKAI0vHZmHBJQm8UEAWEIu488JDgDCACpL7AgNCCk08UAKR8IQQrn9DOCABBqUgKsQCygIjQKuCqFPwghNQAKKyO61gsEjMmyXvNBgaN0KIg41MF8DHBKtCcNZ98EJA6RA3seEBAEAIfkECQUANAAsAAAAAGQAZAAABv5AmnBILBqPyKRyyWw6n9CodEqtQj+TSGZl7Xq/rwIBAmGNvuj080QCuAGah3pOL67ebtapzp8fMHgKF32EYCkEICAUA1EfFycvhVEXK3tRLwMhMQsfUCcZKioRB5JOByYcEg2lNA8RMG4gGqxMDm8CXJIzbXgTtEoCbwSMkiMQeAAFv0kBIG4CpJILFMi+y0cbLhQKI52SD81vCt7XRi8PD+TfFQoSKZbl8fLz9PX29/j5+vv8/f7/AAMKpPJhgAEOFhZIeTCiwAw5A498SICHQAd1Sz5kgGURY0QaB3i9MQCPyQUFbzxE+khkAAJkLKI1eWHiTQqPEWegQCahJP6TFRoEeBjEksgLFXhAxFj55MUFpkWHLFDgDIUHn1GtnBjQYgLErGDDih1LtqzZs2jTql3Ltq1bGi86RNA0AupbIgc8IAKgKALWtweoIgNggmjaBx0EEBDRYmWEwW+UpX0RA5YbGAnkMIDsRoLaCZvxUJhBwxlnFGorHMMDowSN1ZAJpLb8pjUNFpwByFC7gAMyCgpT5K6gNgxtEAU6ndAA2cRXtC8mBNUwgNwJB3sBEAhh+K7RASliFJiA07v58+jTq1/Pvr379+wvbHie/sMMAxQIMHDw9+OHFwCWh0QBO4lGXlYHRMACARJU0J0SKwAymAQbRLUcHgjEQB8SHv5wBoFkLCUAmxsYKLTEC8FwphJLR0GWARMv+MaZAxsC9ABKg8XQBHOcxSBgPx90OBgxS7TAGQFnFLUAAcgo0J8RDpj2BggvZjUBCyiAgIIJFTpxQQgUmMZCAXaxdEEL4/14xAsLVFBACyuoCd+cdNZp551CzFBAAimMUGMfJ6xQZjkfFMDAaiRcJQkWLsjAgQYd0PNBCRJO6cKgagwQ2mUVyNnHBiJwZiIfD2wqzKjXdFDgYCEQsoCUtaUgj2ozEtIBZ63GM0ClyOjYxAMbzLDCAZgasQBkyMlzgAScdbnEBgGQkAgLCTyIxAfMwuTsNR+0sGpKcl6AFB4QBODEAFi41RbpPJgwGYtfTWQwohsooJrEBwt4wAIFDhxYzwMDvPmnER/gOFgE6D0QKmQeoPcBjzmm1wCs9G7r3QcO0AYADMSp90AGChBAgQaNsffCCRtscIKnhAQBACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8ikcslsOp/QqHRKrUofL6t2yxVeQiRKKtstm5efAgwAQHTO8PjwFWGzM/K8+VOCsFFveoJbDzEULAVkUC+Kg08vH1SQUi8jMREtD45NDwUqDhubNC0sbBgJoksdCGwmjXknBnYAMK+pRDF2HCeOKwKzAKG3RwMEbB62cReydijJwy8dHgW8jh8DFGwgBcNJH5OiHycFBQuR3ejp6uvs7e7v8PHy7y8PFw/n84MfKykmMhYyCNOnZ4AAP9oUzCAIKxswAAoOMFxyIoGHFs+MfLDw0E6MfBOLzMBgR8JAJQcYdGSjoFrIIhpmgYiRccgMYytZnHxJ4wP+CWAmLjBZ4bCjgJ08f83yoGnJCwUrAThoynNIHzsEBjhpAaIjCq1VibyIIYCCAoxOPnjoOCZskQ8HFpwAyeRFBQEwYCAQMICuWy0PFgxYUfOv4cOIEytezLix48eQI0sOe2JAgwEuJyt50UAEARQkZKDVjITOmlkIEhRG/GJFAAspJAoZgMLrwsgfKuAEIGCFkABRQ0hewQGYgywyoiqQ3KL2LAESoa7UILmDczsCeOVamULyBgnAPES66dU37gGl2Gio9qLA9T8VVh+GWyAG5iITFFAgQEDDbdJK8DPBCn4BaOCBCCao4IIMNujggxBG6MgFJajAggbxLfZNgUr+LCACMAZk5tYHMyTgQAwLyEfDUw+BwNRhIxTFQAUc4tfVQxRMYNgFStnBgmxL1NERCBUYtspDLTQhZIvc/FXBabM0uUQDKwFi2AokyaQjEw/sNosEIvKkFjAaULVEMcBQsABiHxiCAgUehOnNCCbsR4EJSP11glxTBDbBBipKKOighBZqqBEXjFBBBwfUKIejt6ygHwIYSJDhIONooEEEeUbaIxsIFADpFgdocBoIDHS6yQsO3DgLAWbC8QFwwEgQayrfrbSlHC8UZQcGuw6zQHEdFZnHA1DaAUMD6RyQXEfBBnjBBgdcMKoQL6T36n/DtOmqj/I9UCEJDJjQgXxkH6TwLQAmXJtHqcCgkGQTGbyXlRMneAClBECmk69zCowg3wZessGCig9MEEMILciZzq1LqNviCAxGsC4AIDC7YAkXg7Dmghf4yoYE7kKGzSw6OfjCBCEooEEMG5QsmTgXBJpHEAAh+QQJBQA0ACwAAAAAZABkAAAG/kCacEgsGo/IpHLJbDqf0Kh0Sq1ar9is9TMwmUYfrXjcXHAAAMGKzG5+LpPNK9pBoAmjth55cbBIFAoND08rLGgCG3uLQlwMaJAgLoROMx4ea4yLGyKQngAFmjQfKxMXokofGRCfkCyniy8FAgwWiqhHDxatkCh5iwOPaDG4RxcKvGgwLYwVKJAaxUa6yQAwE4wLhwAgKdJFHwUgyQKUey8dEhQhsN9DJyrJzJofLw9h7kULyJ4wKfj5Ah6IoYAFCwcD5gRcSOPFiQMnzDGcSLGixYsYxdQDmBHVgxEFQmRI2FHUCRcEIBEI0K6kHgvjPEEIoNClkhcLKhyA0iIZ/ooKNpU8MDAORAiJSnYl81AzaJEGnjDMYyKhmgakToU4+ESsSbxkDrBmjeEJRKgmKar9y2rkwDYAGm4xuUCBVyK2Rj5YMpFiAZQBdT2RwIb3yAexTA6EYEGABbvCkCNLnky5suXLmDNr3sy5s+d8HzZMyPS5yQoLLBiwsEC6tOERb9EwGMCR84URFWaYO8Dvk4ATn1doQAPCA6UBrHgN8PzCRUxrJYQUqNaV84FOnqLRmJ7MW+cDVT2ZEDLBDi/CnD9EeA6jg5ALBngpaLn5RAgYAAisFbJCwfM0C9S22QsbbHBCU6OkoIAACiQAnGtMHCYghBRWaOGFGGao4YYc/nbo4YeofHBACgGkcMCEkaEoVATmcZMCYlmF1kACLez0RAb49RPdZDOIMA4EGrR2U2CfSGAjZC/0xo1xTWzwn0roFbZASp6wIJcSKyRDwHKRLfCMJxRcmcQDX35ipWQPnJEdfUl4wIsHKgbVQo750ebECSb8Z0KcTi3ggAIhiDlXARpIoEEBMFr4wAWJgujoo5BGKukSH5ywwAoIZvhBAjKwIIADM+DywAAVYDrRCwEkhwYLfjHywQgiIIAACi5kKo0zrShg6xjafBICn4t84AIvEDR6hSqtUHDkNy+YkMyybHzg5icoRPmNB09aY+wQb1ywq2FpfRLmQiMQCYkDZ8COskACBpiQwArp0rCAuQB4wJAsdAKggKBIzKAmNyLwe8QLDbylwYMLceGAABKkcEK8SqIxnhOhVVDABAhLdkC+ymzL2QwcWwNthReU2Uu8nE3rSXUZ9vElCkxyOGoMMQzg8aRtBAEAOw==",imagePosition:"center center",maxSize:"100px",minSize:"20px",resizeInterval:50,size:"50%",zIndex:b};a.LoadingOverlaySetup=function(b){a.extend(!0,c,b)},a.LoadingOverlay=function(b,f){switch(b.toLowerCase()){case"show":var g=a.extend(!0,{},c,f);d("body",g);break;case"hide":e("body",f)}},a.fn.LoadingOverlay=function(b,f){switch(b.toLowerCase()){case"show":var g=a.extend(!0,{},c,f);return this.each(function(){d(this,g)});case"hide":return this.each(function(){e(this,f)})}}}(jQuery);

(function($,window,document){"use strict";var pluginName="accessibleMegaMenu",defaults={uuidPrefix:"accessible-megamenu",menuClass:"accessible-megamenu",topNavItemClass:"accessible-megamenu-top-nav-item",panelClass:"accessible-megamenu-panel",panelGroupClass:"accessible-megamenu-panel-group",hoverClass:"hover",focusClass:"focus",openClass:"open"},Keyboard={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38,keyMap:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",190:"."}};function AccessibleMegaMenu(element,options){this.element=element;this.settings=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.mouseTimeoutID=null;this.focusTimeoutID=null;this.mouseFocused=false;this.justFocused=false;this.init();}
AccessibleMegaMenu.prototype=(function(){var uuid=0,keydownTimeoutDuration=1000,keydownSearchString="",isTouch=typeof window.hasOwnProperty==="function"&&!!window.hasOwnProperty("ontouchstart"),_getPlugin,_addUniqueId,_togglePanel,_clickHandler,_clickOutsideHandler,_DOMAttrModifiedHandler,_focusInHandler,_focusOutHandler,_keyDownHandler,_mouseDownHandler,_mouseOverHandler,_mouseOutHandler,_toggleExpandedEventHandlers,_touchPrevious;_getPlugin=function(element){return $(element).closest(':data(plugin_'+pluginName+')').data("plugin_"+pluginName);};_addUniqueId=function(element){element=$(element);var settings=this.settings;if(!element.attr("id")){element.attr("id",settings.uuidPrefix+"-"+new Date().getTime()+"-"+(++uuid));}};_togglePanel=function(event,hide){var target=$(event.target),that=this,settings=this.settings,menu=this.menu,topli=target.closest('.'+settings.topNavItemClass),panel=target.hasClass(settings.panelClass)?target:target.closest('.'+settings.panelClass),newfocus;_toggleExpandedEventHandlers.call(this,true);if(hide){topli=menu.find('.'+settings.topNavItemClass+' .'+settings.openClass+':first').closest('.'+settings.topNavItemClass);if(!(topli.is(event.relatedTarget)||topli.has(event.relatedTarget).length>0)){if((event.type==='mouseout'||event.type==='focusout')&&topli.has(document.activeElement).length>0){return;}
topli.find('[aria-expanded]').attr('aria-expanded','false').removeClass(settings.openClass).filter('.'+settings.panelClass).attr('aria-hidden','true');if((event.type==='keydown'&&event.keyCode===Keyboard.ESCAPE)||event.type==='DOMAttrModified'){newfocus=topli.find(':tabbable:first');setTimeout(function(){menu.find('[aria-expanded].'+that.settings.panelClass).off('DOMAttrModified.accessible-megamenu');newfocus.focus();that.justFocused=false;},99);}}else if(topli.length===0){menu.find('[aria-expanded=true]').attr('aria-expanded','false').removeClass(settings.openClass).filter('.'+settings.panelClass).attr('aria-hidden','true');}}else{clearTimeout(that.focusTimeoutID);topli.siblings().find('[aria-expanded]').attr('aria-expanded','false').removeClass(settings.openClass).filter('.'+settings.panelClass).attr('aria-hidden','true');topli.find('[aria-expanded]').attr('aria-expanded','true').addClass(settings.openClass).filter('.'+settings.panelClass).attr('aria-hidden','false');if(event.type==='mouseover'&&target.is(':tabbable')&&topli.length===1&&panel.length===0&&menu.has(document.activeElement).length>0){target.focus();that.justFocused=false;}
_toggleExpandedEventHandlers.call(that);}};_clickHandler=function(event){var target=$(event.currentTarget),topli=target.closest('.'+this.settings.topNavItemClass),panel=target.closest('.'+this.settings.panelClass);$('#log').append($(event.target)[0].id+' click <br/>');if(isTouch&&$(event.target)[0].id===''){return;}
if(isTouch){if($(event.target)[0].id===_touchPrevious){event.preventDefault();event.stopPropagation();_togglePanel.call(this,event,true);_touchPrevious=null;return;}else{_touchPrevious=$(event.target)[0].id;}}
if(topli.length===1&&panel.length===0&&topli.find('.'+this.settings.panelClass).length===1){if(!target.hasClass(this.settings.openClass)){event.preventDefault();event.stopPropagation();_togglePanel.call(this,event);this.justFocused=false;}else{if(this.justFocused){event.preventDefault();event.stopPropagation();this.justFocused=false;}else if(isTouch){event.preventDefault();event.stopPropagation();_togglePanel.call(this,event,target.hasClass(this.settings.openClass));}}}else if(isTouch){event.preventDefault();event.stopPropagation();_togglePanel.call(this,event,target.hasClass(this.settings.openClass));}};_clickOutsideHandler=function(event){if($(event.target).closest(this.menu).length===0){event.preventDefault();event.stopPropagation();_togglePanel.call(this,event,true);}};_DOMAttrModifiedHandler=function(event){if(event.originalEvent.attrName==='aria-expanded'&&event.originalEvent.newValue==='false'&&$(event.target).hasClass(this.settings.openClass)){event.preventDefault();event.stopPropagation();_togglePanel.call(this,event,true);}};_focusInHandler=function(event){clearTimeout(this.focusTimeoutID);var target=$(event.target),panel=target.closest('.'+this.settings.panelClass);target.addClass(this.settings.focusClass).on('click.accessible-megamenu',$.proxy(_clickHandler,this));this.justFocused=!this.mouseFocused;this.mouseFocused=false;if(this.panels.not(panel).filter('.'+this.settings.openClass).length){_togglePanel.call(this,event);}};_focusOutHandler=function(event){this.justFocused=false;var that=this,target=$(event.target),topli=target.closest('.'+this.settings.topNavItemClass),keepOpen=false;target.removeClass(this.settings.focusClass).off('click.accessible-megamenu');if(window.cvox){that.focusTimeoutID=setTimeout(function(){window.cvox.Api.getCurrentNode(function(node){if(topli.has(node).length){clearTimeout(that.focusTimeoutID);}else{that.focusTimeoutID=setTimeout(function(scope,event,hide){_togglePanel.call(scope,event,hide);},275,that,event,true);}});},25);}else{that.focusTimeoutID=setTimeout(function(){_togglePanel.call(that,event,true);},300);}};_keyDownHandler=function(event){var that=(this.constructor===AccessibleMegaMenu)?this:_getPlugin(this),settings=that.settings,target=$($(this).is('.'+settings.hoverClass+':tabbable')?this:event.target),menu=that.menu,topnavitems=that.topnavitems,topli=target.closest('.'+settings.topNavItemClass),tabbables=menu.find(':tabbable'),panel=target.hasClass(settings.panelClass)?target:target.closest('.'+settings.panelClass),panelGroups=panel.find('.'+settings.panelGroupClass),currentPanelGroup=target.closest('.'+settings.panelGroupClass),next,keycode=event.keyCode||event.which,start,i,o,label,found=false,newString=Keyboard.keyMap[event.keyCode]||'',regex,isTopNavItem=(topli.length===1&&panel.length===0);if(target.is("input:focus, select:focus, textarea:focus, button:focus")){return;}
if(target.is('.'+settings.hoverClass+':tabbable')){$('html').off('keydown.accessible-megamenu');}
switch(keycode){case Keyboard.ESCAPE:_togglePanel.call(that,event,true);break;case Keyboard.DOWN:event.preventDefault();if(isTopNavItem){_togglePanel.call(that,event);found=(topli.find('.'+settings.panelClass+' :tabbable:first').focus().length===1);}else{found=(tabbables.filter(':gt('+tabbables.index(target)+'):first').focus().length===1);}
if(!found&&window.opera&&opera.toString()==="[object Opera]"&&(event.ctrlKey||event.metaKey)){tabbables=$(':tabbable');i=tabbables.index(target);found=($(':tabbable:gt('+$(':tabbable').index(target)+'):first').focus().length===1);}
break;case Keyboard.UP:event.preventDefault();if(isTopNavItem&&target.hasClass(settings.openClass)){_togglePanel.call(that,event,true);next=topnavitems.filter(':lt('+topnavitems.index(topli)+'):last');if(next.children('.'+settings.panelClass).length){found=(next.children().attr('aria-expanded','true').addClass(settings.openClass).filter('.'+settings.panelClass).attr('aria-hidden','false').find(':tabbable:last').focus()===1);}}else if(!isTopNavItem){found=(tabbables.filter(':lt('+tabbables.index(target)+'):last').focus().length===1);}
if(!found&&window.opera&&opera.toString()==="[object Opera]"&&(event.ctrlKey||event.metaKey)){tabbables=$(':tabbable');i=tabbables.index(target);found=($(':tabbable:lt('+$(':tabbable').index(target)+'):first').focus().length===1);}
break;case Keyboard.RIGHT:event.preventDefault();if(isTopNavItem){found=(topnavitems.filter(':gt('+topnavitems.index(topli)+'):first').find(':tabbable:first').focus().length===1);}else{if(panelGroups.length&&currentPanelGroup.length){found=(panelGroups.filter(':gt('+panelGroups.index(currentPanelGroup)+'):first').find(':tabbable:first').focus().length===1);}
if(!found){found=(topli.find(':tabbable:first').focus().length===1);}}
break;case Keyboard.LEFT:event.preventDefault();if(isTopNavItem){found=(topnavitems.filter(':lt('+topnavitems.index(topli)+'):last').find(':tabbable:first').focus().length===1);}else{if(panelGroups.length&&currentPanelGroup.length){found=(panelGroups.filter(':lt('+panelGroups.index(currentPanelGroup)+'):last').find(':tabbable:first').focus().length===1);}
if(!found){found=(topli.find(':tabbable:first').focus().length===1);}}
break;case Keyboard.TAB:i=tabbables.index(target);if(event.shiftKey&&isTopNavItem&&target.hasClass(settings.openClass)){_togglePanel.call(that,event,true);next=topnavitems.filter(':lt('+topnavitems.index(topli)+'):last');if(next.children('.'+settings.panelClass).length){found=next.children().attr('aria-expanded','true').addClass(settings.openClass).filter('.'+settings.panelClass).attr('aria-hidden','false').find(':tabbable:last').focus();}}else if(event.shiftKey&&i>0){found=(tabbables.filter(':lt('+i+'):last').focus().length===1);}else if(!event.shiftKey&&i<tabbables.length-1){found=(tabbables.filter(':gt('+i+'):first').focus().length===1);}else if(window.opera&&opera.toString()==="[object Opera]"){tabbables=$(':tabbable');i=tabbables.index(target);if(event.shiftKey){found=($(':tabbable:lt('+$(':tabbable').index(target)+'):last').focus().length===1);}else{found=($(':tabbable:gt('+$(':tabbable').index(target)+'):first').focus().length===1);}}
if(found){event.preventDefault();}
break;case Keyboard.SPACE:if(isTopNavItem){event.preventDefault();event.currentTarget=event.target;_clickHandler.call(that,event);}else{return true;}
break;case Keyboard.ENTER:return true;break;default:clearTimeout(this.keydownTimeoutID);keydownSearchString+=newString!==keydownSearchString?newString:'';if(keydownSearchString.length===0){return;}
this.keydownTimeoutID=setTimeout(function(){keydownSearchString='';},keydownTimeoutDuration);if(isTopNavItem&&!target.hasClass(settings.openClass)){tabbables=tabbables.filter(':not(.'+settings.panelClass+' :tabbable)');}else{tabbables=topli.find(':tabbable');}
if(event.shiftKey){tabbables=$(tabbables.get().reverse());}
for(i=0;i<tabbables.length;i++){o=tabbables.eq(i);if(o.is(target)){start=(keydownSearchString.length===1)?i+1:i;break;}}
regex=new RegExp('^'+keydownSearchString.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,'\\$&'),'i');for(i=start;i<tabbables.length;i++){o=tabbables.eq(i);label=$.trim(o.text());if(regex.test(label)){found=true;o.focus();break;}}
if(!found){for(i=0;i<start;i++){o=tabbables.eq(i);label=$.trim(o.text());if(regex.test(label)){o.focus();break;}}}
break;}
that.justFocused=false;};_mouseDownHandler=function(event){if($(event.target).is(this.settings.panelClass)||$(event.target).closest(":focusable").length){this.mouseFocused=true;}
this.mouseTimeoutID=setTimeout(function(){clearTimeout(this.focusTimeoutID);},1);};_mouseOverHandler=function(event){clearTimeout(this.mouseTimeoutID);$(event.target).addClass(this.settings.hoverClass);_togglePanel.call(this,event);if($(event.target).is(':tabbable')){$('html').on('keydown.accessible-megamenu',$.proxy(_keyDownHandler,event.target));}};_mouseOutHandler=function(event){var that=this;$(event.target).removeClass(that.settings.hoverClass);that.mouseTimeoutID=setTimeout(function(){_togglePanel.call(that,event,true);},250);if($(event.target).is(':tabbable')){$('html').off('keydown.accessible-megamenu');}};_toggleExpandedEventHandlers=function(hide){var menu=this.menu;if(hide){$('html').off('mouseup.outside-accessible-megamenu, touchend.outside-accessible-megamenu, mspointerup.outside-accessible-megamenu,  pointerup.outside-accessible-megamenu');menu.find('[aria-expanded].'+this.settings.panelClass).off('DOMAttrModified.accessible-megamenu');}else{$('html').on('mouseup.outside-accessible-megamenu, touchend.outside-accessible-megamenu, mspointerup.outside-accessible-megamenu,  pointerup.outside-accessible-megamenu',$.proxy(_clickOutsideHandler,this));menu.find('[aria-expanded=true].'+this.settings.panelClass).on('DOMAttrModified.accessible-megamenu',$.proxy(_DOMAttrModifiedHandler,this));}};return{constructor:AccessibleMegaMenu,init:function(){var settings=this.settings,nav=$(this.element),menu=nav.children().first(),topnavitems=menu.children();this.start(settings,nav,menu,topnavitems);},start:function(settings,nav,menu,topnavitems){var that=this;this.settings=settings;this.menu=menu;this.topnavitems=topnavitems;nav.attr("role","navigation");menu.addClass(settings.menuClass);topnavitems.each(function(i,topnavitem){var topnavitemlink,topnavitempanel;topnavitem=$(topnavitem);topnavitem.addClass(settings.topNavItemClass);topnavitemlink=topnavitem.find(":tabbable:first");topnavitempanel=topnavitem.children(":not(:tabbable):last");_addUniqueId.call(that,topnavitemlink);if(topnavitempanel.length){_addUniqueId.call(that,topnavitempanel);topnavitemlink.attr({"aria-haspopup":true,"aria-controls":topnavitempanel.attr("id"),"aria-expanded":false});topnavitempanel.attr({"role":"group","aria-expanded":false,"aria-hidden":true}).addClass(settings.panelClass).not("[aria-labelledby]").attr("aria-labelledby",topnavitemlink.attr("id"));}});this.panels=menu.find("."+settings.panelClass);menu.on("focusin.accessible-megamenu",":focusable, ."+settings.panelClass,$.proxy(_focusInHandler,this)).on("focusout.accessible-megamenu",":focusable, ."+settings.panelClass,$.proxy(_focusOutHandler,this)).on("keydown.accessible-megamenu",$.proxy(_keyDownHandler,this)).on("mouseover.accessible-megamenu",$.proxy(_mouseOverHandler,this)).on("mouseout.accessible-megamenu",$.proxy(_mouseOutHandler,this)).on("mousedown.accessible-megamenu",$.proxy(_mouseDownHandler,this));if(isTouch){menu.on("touchstart.accessible-megamenu",$.proxy(_clickHandler,this));}
menu.find("hr").attr("role","separator");if($(document.activeElement).closest(menu).length){$(document.activeElement).trigger("focusin.accessible-megamenu");}},getDefaults:function(){return this._defaults;},getOption:function(opt){return this.settings[opt];},getAllOptions:function(){return this.settings;},setOption:function(opt,value,reinitialize){this.settings[opt]=value;if(reinitialize){this.init();}}};}());$.fn[pluginName]=function(options){return this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new $.fn[pluginName].AccessibleMegaMenu(this,options));}});};$.fn[pluginName].AccessibleMegaMenu=AccessibleMegaMenu;function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});}(jQuery,window,document));

!function(e,t){if(!(window&&window.document||e&&e.document))throw new Error("ImageMap requires a window with a document");"function"==typeof define&&define.amd?define(["exports","jquery"],t):"object"==typeof exports&&"string"!=typeof exports.nodeName?t(exports,require("jquery")):t(e,e.jQuery)}(this||window,function(e,t){"use strict";var r=function(e){var t=this;return t?(t.selector=e instanceof Array?e:[].slice.call(document.querySelectorAll(e)),(t.update=function(){t.selector.forEach(function(e){var t=e,r=document.createElement("img");"undefined"!=typeof t.getAttribute("usemap")&&(r.addEventListener("load",function(){var e=new Image;e.src=t.getAttribute("src");var r=t.getAttribute("width")||e.width,n=t.getAttribute("height")||e.height,i=t.offsetWidth/100,o=t.offsetHeight/100,a=t.getAttribute("usemap").replace("#",""),u="coords";[].forEach.call(document.querySelectorAll('map[name="'+a+'"] area'),function(e){var t=e,a=t.dataset[u]=t.dataset[u]||t.getAttribute(u),c=a.split(","),d=Array.apply(null,Array(c.length));d.forEach(function(e,t){d[t]=t%2===0?Number(c[t]/r*100*i):Number(c[t]/n*100*o)}),t.setAttribute(u,d.toString())})}),r.setAttribute("src",t.getAttribute("src")))})})(),window.addEventListener("resize",t.update),t):new r(e)};t&&t.fn&&(t.fn.imageMap=function(){var e=this;return new r(e.toArray())}),e.default=e.ImageMap=r});

$.datepicker.setDefaults({dateFormat:'yy-mm-dd',changeYear:true,changeMonth:true,yearRange:"-100:+0",defaultDate:'-17y',maxDate:0});$.datepicker.regional['ko']={closeText:'',prevText:'',nextText:'',currentText:'',monthNames:['1','2','3','4','5','6','7','8','9','10','11','12'],monthNamesShort:['1','2','3','4','5','6','7','8','9','10','11','12'],dayNames:['','','','','','',''],dayNamesShort:['','','','','','',''],dayNamesMin:['','','','','','',''],weekHeader:'Wk',firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:''};$.datepicker.regional['jp']={closeText:'',prevText:'',nextText:'',monthNames:['1','2','3','4','5','6','7','8','9','10','11','12'],monthNamesShort:['1','2','3','4','5','6','7','8','9','10','11','12'],dayNames:['','','','','','',''],dayNamesShort:['','','','','','',''],dayNamesMin:['','','','','','',''],weekHeader:'',yearSuffix:''};$.validator.pushErrorToDataLayer=function(formId,fieldName,fieldMessage){window.dataLayer.push({"event":"ga-event","gaEventCategory":"Form Error Tracking","gaEventAction":formId,"gaEventLabel":fieldName+": "+fieldMessage,"gaEventValue":undefined,"gaEventNonInteraction":false});if(window.utag){window.utag.link({"gaEventCategory":"Form Error Tracking","gaEventAction":formId,"gaEventLabel":fieldName+": "+fieldMessage,"gaEventValue":undefined,"gaEventNonInteraction":false})}};$.validator.setDefaults({showErrors:function(errorMap,errorList){for(var key in errorMap){if(errorMap.hasOwnProperty(key)){$.validator.pushErrorToDataLayer(this.currentForm.id,key,errorMap[key]);}}
this.defaultShowErrors();},errorPlacement:function(error,element){switch(element.attr("name")){case'termsCheck':error.insertAfter($("label[for=Terms] > a"));break;default:error.insertAfter(element);}},});$.validator.addMethod("textonly",function(value,element){valid=false;check=/[^-\.a-zA-Z\s\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AE\u3041-\u3096\u30A0-\u30FF\u3400-\u4DB5\u4E00-\u9FCB\uF900-\uFA6A]/.test(value);if(check==false)
valid=true;return this.optional(element)||valid;});$.validator.addMethod("exactlength",function(value,element,param){return this.optional(element)||value.length==param;},$.validator.format("This field should contain exactly {0} characters."));$.validator.addMethod("noGpoBoxValue",function(value,element){var str=value.toLowerCase();if(str.indexOf("gpo box")>=0||str.indexOf("gpobox")>=0||str.indexOf("locked bag")>=0||str.indexOf("lockedbag")>=0||str.indexOf("parcel locker")>=0||str.indexOf("parcellocker")>=0){return false;}else{return true;}},$.validator.format("We are unable to deliver to this address, for more information please visit: http://www.asics.com/au/en-au/shipping"));$.validator.addMethod("creditcard",function(value,element){if(this.optional(element)){return"dependency-mismatch";}
if(/[^0-9 \-]+/.test(value)){return false;}
var nCheck=0,nDigit=0,bEven=false,n,cDigit;value=value.replace(/\D/g,"");if(value.length<13||value.length>19){return false;}
for(n=value.length-1;n>=0;n--){cDigit=value.charAt(n);nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9;}}
nCheck+=nDigit;bEven=!bEven;}
return(nCheck%10)===0;});var dobFormatMessage='';if(ACC.config.languageIsoCode=='fr'){$.extend($.validator.messages,{required:"Ce champ est obligatoire.",remote:"Veuillez corriger ce champ.",email:"Veuillez fournir une adresse lectronique valide.",url:"Veuillez fournir une adresse URL valide.",date:"Veuillez fournir une date valide.",dateISO:"Veuillez fournir une date valide (ISO).",number:"Veuillez fournir un numro valide.",digits:"Veuillez fournir seulement des chiffres.",creditcard:"Veuillez fournir un numro de carte de crdit valide.",equalTo:"Veuillez fournir encore la mme valeur.",extension:"Veuillez fournir une valeur avec une extension valide.",maxlength:$.validator.format("Veuillez fournir au plus {0} caractres."),minlength:$.validator.format("Veuillez fournir au moins {0} caractres."),rangelength:$.validator.format("Veuillez fournir une valeur qui contient entre {0} et {1} caractres."),range:$.validator.format("Veuillez fournir une valeur entre {0} et {1}."),max:$.validator.format("Veuillez fournir une valeur infrieure ou gale  {0}."),min:$.validator.format("Veuillez fournir une valeur suprieure ou gale  {0}."),maxWords:$.validator.format("Veuillez fournir au plus {0} mots."),minWords:$.validator.format("Veuillez fournir au moins {0} mots."),rangeWords:$.validator.format("Veuillez fournir entre {0} et {1} mots."),letterswithbasicpunc:"Veuillez fournir seulement des lettres et des signes de ponctuation.",alphanumeric:"Veuillez fournir seulement des lettres, nombres, espaces et soulignages.",lettersonly:"Veuillez fournir seulement des lettres.",nowhitespace:"Veuillez ne pas inscrire d'espaces blancs.",ziprange:"Veuillez fournir un code postal entre 902xx-xxxx et 905-xx-xxxx.",integer:"Veuillez fournir un nombre non dcimal qui est positif ou ngatif.",vinUS:"Veuillez fournir un numro d'identification du vhicule (VIN).",dateITA:"Veuillez fournir une date valide.",time:"Veuillez fournir une heure valide entre 00:00 et 23:59.",phoneUS:"Veuillez fournir un numro de tlphone valide.",phoneUK:"Veuillez fournir un numro de tlphone valide.",mobileUK:"Veuillez fournir un numro de tlphone mobile valide.",strippedminlength:$.validator.format("Veuillez fournir au moins {0} caractres."),email2:"Veuillez fournir une adresse lectronique valide.",url2:"Veuillez fournir une adresse URL valide.",creditcardtypes:"Veuillez fournir un numro de carte de crdit valide.",ipv4:"Veuillez fournir une adresse IP v4 valide.",ipv6:"Veuillez fournir une adresse IP v6 valide.",require_from_group:"Veuillez fournir au moins {0} de ces champs.",nifES:"Veuillez fournir un numro NIF valide.",nieES:"Veuillez fournir un numro NIE valide.",cifES:"Veuillez fournir un numro CIF valide.",postalCodeCA:"Veuillez fournir un code postal valide."});dobFormatMessage='Le format de la date de naissance est AAAA-MM-JJ';}else if(ACC.config.languageIsoCode=='de'){$.extend($.validator.messages,{required:"Dieses Feld ist ein Pflichtfeld.",maxlength:$.validator.format("Geben Sie bitte maximal {0} Zeichen ein."),minlength:$.validator.format("Geben Sie bitte mindestens {0} Zeichen ein."),rangelength:$.validator.format("Geben Sie bitte mindestens {0} und maximal {1} Zeichen ein."),email:"Geben Sie bitte eine gltige E-Mail Adresse ein.",url:"Geben Sie bitte eine gltige URL ein.",date:"Bitte geben Sie ein gltiges Datum ein.",number:"Geben Sie bitte eine Nummer ein.",digits:"Geben Sie bitte nur Ziffern ein.",equalTo:"Bitte denselben Wert wiederholen.",range:$.validator.format("Geben Sie bitte einen Wert zwischen {0} und {1} ein."),max:$.validator.format("Geben Sie bitte einen Wert kleiner oder gleich {0} ein."),min:$.validator.format("Geben Sie bitte einen Wert grer oder gleich {0} ein."),creditcard:"Geben Sie bitte eine gltige Kreditkarten-Nummer ein."});dobFormatMessage='Das Geburtsdatumsformat ist JJJJ-MM-TT';}else if(ACC.config.languageIsoCode=='ja'){$.extend($.validator.messages,{required:"",remote:"",email:"E",url:"URL",date:"",dateISO:"ISO",number:"",digits:"",creditcard:"",equalTo:"",extension:"",maxlength:$.validator.format("{0} "),minlength:$.validator.format("{0} "),rangelength:$.validator.format("{0}  {1} "),range:$.validator.format("{0}  {1} "),max:$.validator.format("{0} "),min:$.validator.format("{0} ")});dobFormatMessage='yyyy-mm-dd';}else if(ACC.config.languageIsoCode=='it'){$.extend($.validator.messages,{required:"Campo obbligatorio",remote:"Controlla questo campo",email:"Inserisci un indirizzo email valido",url:"Inserisci un indirizzo web valido",date:"Inserisci una data valida",dateISO:"Inserisci una data valida (ISO)",number:"Inserisci un numero valido",digits:"Inserisci solo numeri",creditcard:"Inserisci un numero di carta di credito valido",equalTo:"Il valore non corrisponde",extension:"Inserisci un valore con un&apos;estensione valida",maxlength:$.validator.format("Non inserire pi&ugrave; di {0} caratteri"),minlength:$.validator.format("Inserisci almeno {0} caratteri"),rangelength:$.validator.format("Inserisci un valore compreso tra {0} e {1} caratteri"),range:$.validator.format("Inserisci un valore compreso tra {0} e {1}"),max:$.validator.format("Inserisci un valore minore o uguale a {0}"),min:$.validator.format("Inserisci un valore maggiore o uguale a {0}"),nifES:"Inserisci un NIF valido",nieES:"Inserisci un NIE valido",cifES:"Inserisci un CIF valido",currency:"Inserisci una valuta valida"});dobFormatMessage='Il formato della data di nascita  AAAA-MM-GG';}else if(ACC.config.languageIsoCode=='es'){$.extend($.validator.messages,{required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una direccin de correo vlida.",url:"Por favor, escribe una URL vlida.",date:"Por favor, escribe una fecha vlida.",dateISO:"Por favor, escribe una fecha (ISO) vlida.",number:"Por favor, escribe un nmero vlido.",digits:"Por favor, escribe slo dgitos.",creditcard:"Por favor, escribe un nmero de tarjeta vlido.",equalTo:"Por favor, escribe el mismo valor de nuevo.",extension:"Por favor, escribe un valor con una extensin aceptada.",maxlength:$.validator.format("Por favor, no escribas ms de {0} caracteres."),minlength:$.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:$.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:$.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:$.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:$.validator.format("Por favor, escribe un valor mayor o igual a {0}."),nifES:"Por favor, escribe un NIF vlido.",nieES:"Por favor, escribe un NIE vlido.",cifES:"Por favor, escribe un CIF vlido."});dobFormatMessage='El formato de la fecha de nacimiento es AAAA-MM-DD';}else if(ACC.config.languageIsoCode=='nl'){$.extend($.validator.messages,{required:"Dit is een verplicht veld.",remote:"Controleer dit veld.",email:"Vul hier een geldig e-mailadres in.",url:"Vul hier een geldige URL in.",date:"Vul hier een geldige datum in.",dateISO:"Vul hier een geldige datum in (ISO-formaat).",number:"Vul hier een geldig getal in.",digits:"Vul hier alleen getallen in.",creditcard:"Vul hier een geldig creditcardnummer in.",equalTo:"Vul hier dezelfde waarde in.",extension:"Vul hier een waarde in met een geldige extensie.",maxlength:$.validator.format("Vul hier maximaal {0} tekens in."),minlength:$.validator.format("Vul hier minimaal {0} tekens in."),rangelength:$.validator.format("Vul hier een waarde in van minimaal {0} en maximaal {1} tekens."),range:$.validator.format("Vul hier een waarde in van minimaal {0} en maximaal {1}."),max:$.validator.format("Vul hier een waarde in kleiner dan of gelijk aan {0}."),min:$.validator.format("Vul hier een waarde in groter dan of gelijk aan {0}."),iban:"Vul hier een geldig IBAN in.",dateNL:"Vul hier een geldige datum in.",phoneNL:"Vul hier een geldig Nederlands telefoonnummer in.",mobileNL:"Vul hier een geldig Nederlands mobiel telefoonnummer in.",postalcodeNL:"Vul hier een geldige postcode in.",bankaccountNL:"Vul hier een geldig bankrekeningnummer in.",giroaccountNL:"Vul hier een geldig gironummer in.",bankorgiroaccountNL:"Vul hier een geldig bank- of gironummer in."});dobFormatMessage='Vul je geboortedatum in op deze manier JJJ-MM-DD';}else if(ACC.config.languageIsoCode=='uk'){$.extend($.validator.messages,{required:"   .",remote:" ,   .",email:" ,     .",url:" ,   URL.",date:" ,   .",dateISO:" ,      ISO.",number:" ,  .",digits:"   .",creditcard:" ,     .",equalTo:" ,      .",extension:" ,     .",maxlength:$.validator.format(" ,    {0} ."),minlength:$.validator.format(" ,    {0} ."),rangelength:$.validator.format(" ,     {0}  {1} ."),range:$.validator.format(" ,    {0}  {1}."),max:$.validator.format(" ,  ,    {0}."),min:$.validator.format(" ,  ,    {0}.")});}else if(ACC.config.languageIsoCode=='fr_BE'){$.extend($.validator.messages,{required:"Ce champ est obligatoire.",});}else if(ACC.config.languageIsoCode=='nl_BE'){$.extend($.validator.messages,{required:"Dit is een verplicht veld.",});}else if(ACC.config.languageIsoCode=='de_AT'){$.extend($.validator.messages,{required:"Dieses Feld ist ein Pflichtfeld.",});}else if(ACC.config.languageIsoCode=='ko'){$.extend($.validator.messages,{required:" .",email:"  .",});dobFormatMessage=' --(0000-00-00)  ';}
else{$.extend($.validator.messages,{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")});dobFormatMessage='The birth date format is YYYY-MM-DD';}
if(ACC.config.countryIsoCode=='jp'){$.validator.setDefaults({onfocusout:function(element){$(element).valid();}});$.validator.addMethod("phoneJP",function(value,element){return this.optional(element)||/\+?\d{8,12}/.test(value);},"");$.validator.addMethod("postcodeJP",function(value,element){return this.optional(element)||/\d{3}-?\d{4}/.test(value);},"");$.validator.addMethod("digits",function(value,element,param){return this.optional(element)||/^[\d-]+$/.test(value);});$.validator.addClassRules({"postcode":{required:true,postcodeJP:true},"phone":{required:true,phoneJP:true}});}else if(ACC.config.countryIsoCode=='au'){$.validator.addClassRules({"postcode":{required:true,exactlength:4}});}
jQuery.validator.addMethod("dobFormat",function(value,element){return this.optional(element)||/^(?:(19|20)[0-9]{2})\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/.test(value);},$.validator.format(dobFormatMessage));

var DEBUG=false;if($("#recommend-product-call-url").length>0){function certonaRecommendations(data){console.time('certonaRecommendations');if(DEBUG){var curDate=new Date();var time=curDate.getHours()+":"+curDate.getMinutes()+":"+curDate.getSeconds()+"."+curDate.getMilliseconds();console.log("[ASICS] Product Recommendation - INITIALIZED @ "+time);}
var asicsToolkit=asicsToolkit||new AsicsToolkit();var debugData={"resonance":{"schemes":[{"scheme":"product1_rr","explanation":"","display":"yes","items":[{"resonance":{"schemes":[{"scheme":"product1_rr","display":"yes","Explanation":"You May Also Like","items":[{"ID":"0010266119.4223"},{"ID":"0010266119.2300"},{"ID":"0010266119.0445"},{"ID":"0010255983.9001"}]}]}}]}]}};function trackInitial(products,trackingListId){window.dataLayer.push({"event":"product-impression-dispatch","list":trackingListId,"dispatchedProducts":products});if(window.utag){var utag_link_data={};utag_link_data["gaEventCategory"]="ecommerce";utag_link_data["gaEventAction"]="impressions";utag_link_data["gaEventLabel"]=trackingListId;utag_link_data["gaEventValue"]=undefined;utag_link_data["gaEventNonInteraction"]=true;for(var i=0;i<products.length;i++){(utag_link_data["impression_id"]=utag_link_data["impression_id"]||[]).push(products[i].id);(utag_link_data["impression_name"]=utag_link_data["impression_name"]||[]).push(products[i].name);(utag_link_data["impression_brand"]=utag_link_data["impression_brand"]||[]).push(products[i].brand);(utag_link_data["impression_stock"]=utag_link_data["impression_stock"]||[]).push(products[i].stock);(utag_link_data["impression_unit_price"]=utag_link_data["impression_unit_price"]||[]).push(products[i].price);(utag_link_data["impression_style"]=utag_link_data["impression_style"]||[]).push(products[i]["style-code"]);(utag_link_data["impression_position"]=utag_link_data["impression_position"]||[]).push(products[i].position);(utag_link_data["impression_list"]=utag_link_data["impression_list"]||[]).push(trackingListId);}
utag.link(utag_link_data);}}
function trackProductClick(trackingListId,productClicked){window.dataLayer.push({"event":"certona-product-click","ecommerce":{"click":{"actionField":{'list':trackingListId},"products":[{"id":productClicked.getAttribute("data-id"),"name":productClicked.getAttribute("data-name"),"position":productClicked.getAttribute("data-position"),"price":productClicked.getAttribute("data-price"),"markedDown":productClicked.getAttribute("data-is-markdown"),"gender":productClicked.getAttribute("data-gender")}]}}});if(window.utag){var utag_link_data={"eec_action":"product_click","gaEventCategory":"ecommerce","gaEventAction":"product click","gaEventLabel":productClicked.getAttribute("data-name"),"gaEventValue":undefined,"gaEventNonInteraction":false,"product_id":[productClicked.getAttribute("data-id")],"product_name":[productClicked.getAttribute("data-name")],"product_brand":[ACC.config.currentBrandCode],"product_unit_price":[productClicked.getAttribute("data-price")],"product_position":[productClicked.getAttribute("data-position")],"product_action_list":[trackingListId],"product_gender":[productClicked.getAttribute("data-gender")]};utag.link(utag_link_data);}}
var currentPageType="product1_rr";var recentlyViewedType="home2_rr";if(document.getElementsByClassName("pageType-ProductPage").length>0){currentPageType="product1_rr";}else if((document.getElementsByClassName("template-pages-layout-landingLayout1Page").length>0)||(document.getElementsByClassName("template-pages-layout-fullWidthContentPage").length>0)){currentPageType="home1_rr";}else if(document.getElementsByClassName("template-pages-CartPageTemplate").length>0){currentPageType="cart1_rr";}
else if(document.getElementsByClassName("template-pages-search-searchEmptyPage").length>0){currentPageType="nosearch1_rr";}
else if(document.querySelector('[data-recently-viewed="true"]').length>0){currentPageType=recentlyViewedType;}
if(DEBUG){var curDate=new Date();var time=curDate.getHours()+":"+curDate.getMinutes()+":"+curDate.getSeconds()+"."+curDate.getMilliseconds();console.log("[ASICS] Product Recommendation - Parsing certona's JSON @ "+time);}
for(var scheme in data.resonance.schemes){if(data.resonance.schemes[scheme].display==="yes"){var items=data.resonance.schemes[scheme].items[0].resonance.schemes[0].items;var title=data.resonance.schemes[scheme].items[0].resonance.schemes[0]["Explanation"];var isRecentlyViewed=(data.resonance.schemes[scheme].scheme===recentlyViewedType)
createRecommenationsComponent(items,isRecentlyViewed);}}
function createRecommenationsComponent(items,isRecentlyViewed){var debugData=[{"ID":"0010266119.4223"},{"ID":"0010266119.2300"},{"ID":"0010266119.0445"},{"ID":"0010255983.9001"}];var commaSeparatedProductIdString="",productData="";for(var index=0;index<items.length;index++){if(typeof(items[index])!=="undefined"){commaSeparatedProductIdString+=items[index].ID;if(!(index==(items.length-1))){commaSeparatedProductIdString+=",";}}}
function populateRecommendationComponent(result,isRecentlyViewed){var isAOP=$('html[data-region="aop"]').length==1;var isDisplayCarousel=(isAOP&&result.length>4)?true:false;if(isDisplayCarousel){var $autoRecommendComp=$('#auto-recommend-component');$autoRecommendComp.addClass('owl-carousel');var appendStr='';for(var i=0;i<(result.length-4);i++){appendStr+='<a class="recommend-product col-sm-3 col-xs-6"></a>';}
$autoRecommendComp.append(appendStr);}
for(var i=0;i<result.length;i++){productsJsonArr.push(JSON.parse(result[i]));}
var productList=[];var recommendComponentContainer=document.getElementById('auto-recommend-component');var urlLocalePath=document.querySelector('.auto-recommend-component-container').getAttribute('data-path');if(isRecentlyViewed){var recentlyViewedContainer=document.querySelector('.auto-recommend-component-container[data-recently-viewed="true"] #auto-recommend-component');if(recentlyViewedContainer){recommendComponentContainer=recentlyViewedContainer;}}
for(var i=0;i<productsJsonArr.length;i++){var curPosition=i+1;var product=productsJsonArr[i].product;productsJsonArr[i].product.position=curPosition;productList.push(product);var id=product.id;var name=product.name;var price=product.price;var gender=product.gender;var productUrl=product.url+"?rrec=true";var priceFormatted=asicsToolkit.getFormattedPriceWithCurrency(price);var isMarkedDown=product.isMarkedDown;priceFormatted=(price>0)?priceFormatted:"";if(isMarkedDown==="yes"){oldPrice=asicsToolkit.getFormattedPriceWithCurrency(product.originalPrice);if(oldPrice>0){priceFormatted="<span class='recommend-product-discounted'><strike>"+oldPrice+"</strike> "+priceFormatted+"</span>";}}
var imageUrl=(productsJsonArr[i].image[0]!==null)?productsJsonArr[i].image[0].split("$")[0]+"$productlist$":"/assets/desktop/theme-ASICS/images/missing-product-270x203.jpg";var colorsNum=parseInt(productsJsonArr[i].colors);var colorsNumLabel=document.getElementById("recommend-product-colours-label").getAttribute("value");if(colorsNum==1){colorsNumLabel=document.getElementById("recommend-product-single-colour-label").getAttribute("value");}
var currentProductElement=recommendComponentContainer.children[i];if(recommendComponentContainer!==null){currentProductElement=recommendComponentContainer.children[i];}else{return;}
urlLocalePath=urlLocalePath.replace(/\/$/,"");currentProductElement.setAttribute("href",urlLocalePath+productUrl);currentProductElement.setAttribute("data-id",id);currentProductElement.setAttribute("data-name",name);currentProductElement.setAttribute("data-position",curPosition);currentProductElement.setAttribute("data-price",price);currentProductElement.setAttribute("data-is-markdown",isMarkedDown);currentProductElement.setAttribute("data-gender",gender);var recommendProductHtml="<img src='"+imageUrl+"' alt='"+name+"' class='recommend-product-image'>"+"<div class='recommend-product-colors'>"+colorsNumLabel.replace("{0}",colorsNum)
+"</div><span class='recommend-product-name'>"+name+"</span>"+"<div class='recommend-product-price'>"+priceFormatted+"</div>";currentProductElement.className+=" recommend-product-loaded";currentProductElement.innerHTML=recommendProductHtml;}
var trackingListId=isRecentlyViewed?"recently viewed":"recommendations component";trackInitial(productList,trackingListId);$(".recommend-product").click(function(){trackProductClick(trackingListId,this);});if(DEBUG){var curDate=new Date();var time=curDate.getHours()+":"+curDate.getMinutes()+":"+curDate.getSeconds()+"."+curDate.getMilliseconds();console.log("[ASICS] Product Recommendation -"+(isRecentlyViewed?' [recently viewed version]':'')+" removing the loading animation @ "+time);}
$(".auto-recommend-preload").removeClass("auto-recommend-preload");$(".preload").removeClass("preload");if(DEBUG){var curDate=new Date();var time=curDate.getHours()+":"+curDate.getMinutes()+":"+curDate.getSeconds()+"."+curDate.getMilliseconds();console.log("[ASICS] Product Recommendation -"+(isRecentlyViewed?' [recently viewed version]':'')+" shoes are now being displayed on the page @ "+time);}
setTimeout(function(){$(".recommend-product-loaded").removeClass("recommend-product-loaded");$(".auto-recommend-component-container.preload").removeClass(".auto-recommend-component-container.preload");if(asicsToolkit.isMobileDevice()){recProducts=recommendComponentContainer.querySelectorAll(".recommend-product");var tallestHeight=216;recProducts.forEach(function(product){var thisHeight=product.offsetHeight;if(thisHeight>tallestHeight){tallestHeight=thisHeight;}});$(recProducts).css('height',tallestHeight+'px');}
if(isDisplayCarousel){$('#auto-recommend-component.owl-carousel').owlCarousel({navigation:true,items:4,itemsMobile:[767,2],navigationText:false});}},500);}
var productsJsonArr=[];$.ajax({headers:{'Accept':'application/json','Content-Type':'application/json'},url:$("#recommend-product-call-url").val()+"?productIds="+commaSeparatedProductIdString,type:"GET",success:function(result){populateRecommendationComponent(result,isRecentlyViewed);if(DEBUG){var curDate=new Date();var time=curDate.getHours()+":"+curDate.getMinutes()+":"+curDate.getSeconds()+"."+curDate.getMilliseconds();console.log("[ASICS] Product Recommendation -"+(isRecentlyViewed?' [recently viewed version]':'')+" populating FINISHED "+time);console.timeEnd('certonaRecommendations');}},error:function(e,status){if(e.status==500){var componentEle=recommendComponentContainer;if(typeof(componentEle)!=="undefined"){componentEle.style.display="none";}}}});}}};

function AsicsToolkit(){}
AsicsToolkit.prototype={isMobileDevice:function(){return($(window).width()<=mobileWidthThreshold);},isDesktopDevice:function(){return(!(asicsToolkit.isMobileDevice()||asicsToolkit.isIpadDevice()));},isTabletDevice:function(){var check=false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);return check;},isIpadDevice:function(){return navigator.userAgent.match(/iPad/i)!=null;},isIE:function(){return(navigator.userAgent.indexOf('MSIE')!==-1)||(navigator.appVersion.indexOf('Trident/')>0);},isSafari:function(){return(navigator.userAgent.indexOf('Safari')!=-1&&navigator.userAgent.indexOf('Chrome')==-1);},getCurrencySymbol:function(currencyName){var currencySymbols={'USD':'$','EUR':'','GBP':'','JPY':'','KRW':''};if(currencySymbols[currencyName]!==undefined){return currencySymbols[currencyName];}else{return currencyName;}},getFormattedPriceWithCurrency:function(priceValue){var self=this;var locale=document.documentElement.getAttribute("lang");var currencyString=document.documentElement.getAttribute("data-currency-iso-code");if(isSafari()){var num=accounting.formatMoney(priceValue,{symbol:self.getCurrencySymbol(currencyString),precision:(locale==="en-US"?2:0),thousand:",",format:{pos:"%s%v",neg:"%s(%v)",zero:"%s --"}});return num;}else{return(new Intl.NumberFormat(locale,{style:'currency',currency:currencyString}).format(priceValue));}},initiatePreloadedComponents:function(){if(this.isDesktopDevice()){var components=document.querySelectorAll("[data-asics-component-preload='true']");for(var i=0;i<components.length;i++){var comp=components[i];var width=comp.getAttribute("data-asics-component-width");var height=comp.getAttribute("data-asics-component-height");var widthUnit=width.endsWith("%")?"%":"px";width=width.split(widthUnit)[0];var heightUnit=height.endsWith("%")?"%":"px";height=height.split(heightUnit)[0];if(!((width>0)&&(height>0))){return;}
comp.offsetWidth=width;comp.style.width=width+widthUnit;comp.offsetHeight=height;comp.style.height=height+heightUnit;}
return components;}},completePreloadComponents:function(components){if(typeof(components)!=="undefined"){for(var i=0;i<components.length;i++){var comp=components[i];function loadImage(c){$(c).imagesLoaded().done(function(){c.classList.add("asics-component-loaded");c.style.width="";c.style.height="";});};loadImage(comp);}}}};

var asicsToolkit=asicsToolkit||new AsicsToolkit();var i=0;var miniMenu=false;var filterSortOpen=false;var filterFilterOpen=true;var IE8=false;var desktopBigNavHeightInPx=123;var mobileWidthThreshold=767;var windowWidth=$(window).width();function animateAnchorScroll(){$(function(){if(window.location.hash){var anchorEle=$("body:not(.template-pages-product-productLayout5Page) a[name='"+window.location.hash.substring(1)+"']");if(anchorEle.length>0){var anchorPos=anchorEle.offset().top;$('html, body').animate({scrollTop:anchorPos+"px"},1000,'swing');}}});}
function resetAnchorPosition(){if(window.location.hash){scroll(0,0);}
setTimeout(function(){scroll(0,0);},1);}
function msieversion(){var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE ");if(msie>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){if(parseInt(ua.substring(msie+5,ua.indexOf(".",msie)))<=8);IE8=true;}}
function isRetinaDisplay(){if(window.matchMedia){var mq=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return(mq&&mq.matches||(window.devicePixelRatio>1));}}
function isIE(){return(navigator.userAgent.indexOf('MSIE')!==-1)||(navigator.appVersion.indexOf('Trident/')>0);}
function placeholderNotAvailable(){var i=document.createElement('input');return!('placeholder'in i);}
function isSafari(){return(navigator.userAgent.indexOf('Safari')!=-1&&navigator.userAgent.indexOf('Chrome')==-1);}
function isIphone5(){function iOSVersion(){var agent=window.navigator.userAgent,start=agent.indexOf('OS ');if((agent.indexOf('iPhone')>-1)&&start>-1)
return window.Number(agent.substr(start+3,3).replace('_','.'));else return 0;}
return iOSVersion()>=6&&window.devicePixelRatio>=2&&screen.availHeight==548?true:false;}
function IEinputTextPlaceholderFix(){$('[placeholder]').focus(function(){var input=$(this);if(input.val()==input.attr('placeholder')){input.val('');input.removeClass('placeholder');}}).blur(function(){var input=$(this);if(input.val()==''||input.val()==input.attr('placeholder')){input.addClass('placeholder');input.val(input.attr('placeholder'));}}).blur();}
Math.trunc=Math.trunc||function(x){return x<0?Math.ceil(x):Math.floor(x);}
if(!String.prototype.startsWith){String.prototype.startsWith=function(searchString,position){position=position||0;return this.substr(position,searchString.length)===searchString;};}
if(!String.prototype.endsWith){String.prototype.endsWith=function(searchString,position){var subjectString=this.toString();if(typeof position!=='number'||!isFinite(position)||Math.floor(position)!==position||position>subjectString.length){position=subjectString.length;}
position-=searchString.length;var lastIndex=subjectString.lastIndexOf(searchString,position);return lastIndex!==-1&&lastIndex===position;};}
if(typeof String.prototype.trim!=='function'){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');}}
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(elt){var len=this.length>>>0;var from=Number(arguments[1])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0)
from+=len;for(;from<len;from++){if(from in this&&this[from]===elt)
return from;}
return-1;};}
function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "));}
bindToggleMenu=function(){$('body').on('click','.row-offcanvas.active',function(e){if($(e.target).hasClass("navbar-collapse")||$(e.target).closest('.navbar-collapse').length){return;}else{e.preventDefault();$('.row-offcanvas').toggleClass('active');$('.navbar').toggleClass('active');$('.sidebar-offcanvas').toggleClass('active');$('#nav_main').toggleClass('active');$('body').css('overflow-y','auto');$('html').css('overflow-y','auto');$("#main-menu").removeClass("active");$("#main-menu .sub-menu.active").find(".active-leaf-component").removeClass("active-leaf-component").siblings("").removeAttr("style");$("#main-menu .sub-menu.active .sub-sub-menu").removeClass("active-sub-sub-menu").find(".block-title-flag").removeAttr("style");$("#main-menu .sub-menu.active .sub-sub-menu").find(".active-leaf").removeClass("active-leaf");$("#main-menu").find(".sub-menu.mobile-only.active").removeClass("active")}});$('[data-toggle=offcanvas]').click(function(e){$('.row-offcanvas').toggleClass('active');$('.navbar').toggleClass('active');$('.sidebar-offcanvas').toggleClass('active');$('#nav_main').toggleClass('active');var _deviceHeight=$(window).height();if($('.row-offcanvas-right').hasClass('active')){$('body').css('overflow-y','hidden');$('html').css('overflow-y','hidden');$('.row-offcanvas-right .sidebar-offcanvas').css({'overflow-y':'auto',"height":_deviceHeight});}else{$('body').css('overflow-y','auto');$('html').css('overflow-y','auto');}
e.stopPropagation();});}
function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)");results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "));}
function bindMobileSearchTooltip(){$("#mobile-search-tip").on('click',function(e){if((initArr.brand=="ASICS")){e.preventDefault();$('.search_bar').fadeIn('fast');$(".ui-mobile").css("overflow-y","hidden");}else{$('[data-toggle=offcanvas]').trigger(e);$("#main-menu").removeClass("active");$("#main-menu .sub-menu.active").find(".active-leaf-component").removeClass("active-leaf-component").siblings("").removeAttr("style");$("#main-menu .sub-menu.active .sub-sub-menu").removeClass("active-sub-sub-menu").find(".block-title-flag").removeAttr("style");$("#main-menu .sub-menu.active .sub-sub-menu").find(".active-leaf").removeClass("active-leaf");}
$("#searchBoxMobileContainer [id|='search-component']").focus();});$("#searchBoxMobileContainer .closer_search").on('click',function(){$('.search_bar').fadeOut('fast');$(".ui-mobile").css("overflow-y","auto");});}
function setOffsetNavSubMenuTopAdjustment(){var topMarginPart=(parseInt($("#header").css("marginTop"))<0)?0:$("#header").outerHeight();var offsetNavSubMenuTopAdjustment=$("#cookie-bar").outerHeight()+topMarginPart+$("#nav_main").outerHeight();$('.show-cookie-bar .sub-menu-wrap').css('top',offsetNavSubMenuTopAdjustment+'px');}
$(document).ready(function(){removeVideosOnMobile();stretchMobilePreviewBackground();$(function(){FastClick.attach(document.body);});if(isIE()){$(".prod-sizes .active a").on('click',function(event){event.preventDefault();});if(placeholderNotAvailable()){IEinputTextPlaceholderFix();}}
if($('.sidebar-column .cms_disp-img_slot').children().length==0){$('.col-sm-4.sidebar-column').css('display','none');$('.col-sm-8.content-column').css('width','100%');}
msieversion();bindToggleMenu();$('#prod-info a').click(function(e){e.preventDefault()
$(this).tab('show')})
$('.scroll').click(function(e){e.preventDefault();var div=$(this).attr('href');var divTop=($(div).offset().top+100)+'px';$("html, body").animate({scrollTop:divTop},1200,'easeInOutQuad');});$('.template-pages-collaboration-collaborationDetailsPage a.col-sm-12.tiger-banner').click(function(e){e.preventDefault();var wScroll=$(this).height()+35;$("html, body").animate({scrollTop:wScroll},1200,'easeInOutQuad');})
$('ul.select').click(function(){if($(window).width()<=mobileWidthThreshold){$(this).toggleClass('active');}});$('#main-menu li a').on("click",function(e){if($(window).width()<=mobileWidthThreshold){var flag=$(this).parent().parent().hasClass("active-leaf-component");if(!flag&&!($(this).parent().hasClass("link"))){$(this).attr('href','#');}
var hrefValue=$(this).attr('href');if(hrefValue=='#'||hrefValue==''){e.preventDefault();}else{window.location.href=hrefValue;return;}
if(!$(this).parent().hasClass('back')){$(this).parent().parent().addClass('active');$(this).parent().find('.sub-menu').addClass('active');$(this).parent().find('.sub-menu').find(".back").find(".back-text-block").text($(this).text());}else{if($(this).parent().parent().find(".active-sub-sub-menu").length>0){hideMenu($(this).parent());}else{$('#main-menu').removeClass('active');$('.sub-menu').removeClass('active');}
$(this).parent().parent().find(".active-leaf-component").removeClass("active-leaf-component");$(this).parent().parent().find(".block-title-flag").show();}}else if(asicsToolkit.isTabletDevice()&&!$(this).parent().parent().hasClass('sub-menu')){if($(this).parent().parent().attr('id')=='main-menu'){e.preventDefault();$('.sub-menu-wrap').addClass('collapse');$(this).parent().find('.sub-menu-wrap').removeClass('collapse');}else{}}});function showVisible(menuItem){menuItem.siblings().css("display","none");$(".active-leaf").removeClass("active-leaf");menuItem.children().not(".block-title-flag").addClass("active-leaf");menuItem.addClass("active-sub-sub-menu");}
function hideMenu(menuItem){menuItem.siblings().find(".active-leaf:not(.block-title-flag)").removeClass("active-leaf");$(".active-sub-sub-menu").removeClass("active-sub-sub-menu")
menuItem.removeClass("active-sub-sub-menu");menuItem.siblings().css("display","block");}
$('.mobileChildNodeTitle.sub-sub-menu').on("click",function(e){e.preventDefault();var thisMenuItem=$(this);showVisible(thisMenuItem);var $back=thisMenuItem.parent().find(".mobile.back, .mobile.back a");$back.off("click").on("click",function(e){e.preventDefault();e.stopPropagation();var flag=$(this).parents("ul").find("li").hasClass("active-leaf-component");if(!flag){$('#main-menu').removeClass('active');$('.sub-menu').removeClass('active');}else{var hrefValue=$(this).attr('href');if(hrefValue=='#'||hrefValue==''){e.preventDefault();}else{window.location.href=hrefValue;return;}}
$(this).parents(".sub-menu.mobile-only").find(".active-leaf-component").removeClass("active-leaf-component");$(this).parents(".sub-menu.mobile-only").find(".block-title-flag").show();$(".active-leaf").removeClass("active-leaf");hideMenu(thisMenuItem);var backText=thisMenuItem.parent().find(".back-text-block").text();backText=backText.split('/');$(this).find(".back-text-block").text(backText[0]);});var flagArrow=thisMenuItem.children().hasClass("leaf");if(flagArrow){e.stopPropagation();thisMenuItem.addClass("active-leaf-component");var blockTitle=thisMenuItem.children(".block-title-flag");var blockTitleCont=blockTitle.text();var backTextBlock=thisMenuItem.parent().find(".back-text-block").text();blockTitle.hide();if(backTextBlock.indexOf(blockTitleCont)<0){thisMenuItem.parent().find(".back-text-block").text(backTextBlock+" / "+blockTitleCont);}}else{thisMenuItem.removeClass("active-leaf-component");blockTitle.show();}});if($(window).width()<=mobileWidthThreshold){closeFilters();$('.sidebar-offcanvas').addClass('toggleSide');}else{$('.sidebar-offcanvas').removeClass('toggleSide');}
$('ul.select li a').click(function(){$('ul.select li span').html($(this).html());})
$('.post-share li a').click(function(e){if($(this).attr('disabled')){return false;}
var strWindowFeatures="location=yes,height=400,width=600,scrollbars=yes,status=yes";e.preventDefault();e.stopPropagation();window.open(this.href,"_blank",strWindowFeatures);});$('.code').click(function(e){e.preventDefault();$(this).hide();$('.code-tip').hide();$('.code-hidden').show();});$('.code-tip').tooltip();if(!$.cookie('accept-cookie')){$("#cookie-bar").show();$("*[lang$='GB'] #page, *[lang$='FR'] #page, *[lang$='DE'] #page, *[lang$='IT'] #page, "+"*[lang$='ES'] #page, *[lang$='AT'] #page, *[lang$='IE'] #page, *[lang$='NL'] #page, "+"*[lang$='BE'] #page, *[lang$='SE'] #page, *[lang$='DK'] #page").addClass("show-cookie-bar");$(".cb-enable").click(function(event){event.preventDefault();$.cookie('accept-cookie',true,{path:'/'},{expires:365});$("#cookie-bar").hide();$(".show-cookie-bar").removeClass("show-cookie-bar");var offsetNavSubMenuTopAdjustment=$("#header").outerHeight()+$("#nav_main").outerHeight();$('.sub-menu-wrap').css('top',offsetNavSubMenuTopAdjustment+'px');});}else{$("#cookie-bar").hide();$(".show-cookie-bar").removeClass("show-cookie-bar");}
socialShareLinks();footerAdjustments();if(isSafari()){handleSafariSearchSuggestionClick();}
if(asicsToolkit.isMobileDevice()){bindMobileSearchTooltip();}
setupScene7Responsive();setTimeout(function(){setAnchorOffset();animateAnchorScroll();},1000);changeMobileSearchBoxId();downloadAndplayVideoIfViewable();});function changeMobileSearchBoxId(){$('#searchBoxMobileContainer #search_form').attr('id','search_form_mobile');var $mobileSearchInput=$('#searchBoxMobileContainer [id^="search-component"]');var mobileSearchInputId=$mobileSearchInput.attr('id');var expectedId=mobileSearchInputId+'-mobile';$mobileSearchInput.attr('id',expectedId);var mobileSearchLabel=$('#searchBoxMobileContainer label[for="'+mobileSearchInputId+'"]');mobileSearchLabel.attr('for',expectedId);}
function setAnchorOffset(){var topNavHeight=$('.navbar').outerHeight(true);$('#contentPageContent .content a').filter(function(){return!!$(this).attr('name');}).css({'display':'block','margin-top':-topNavHeight,'padding-top':topNavHeight});}
function setupScene7Responsive(){$("html[data-brand='asics'] img[id^='product-image-']").each(function(index){});}
function downloadAndplayVideoIfViewable(upcomingVideoElement){$('.asics-video-banner video').each(function(){if(true){$(this)[0].play();if((typeof($(this).attr("src"))==="undefined")||(!$(this).attr("src").length>0)){$(this).attr("src",$(this).children().attr("data-uri"));}}else{$(this)[0].pause();}})}
function removeVideosOnMobile(){if(asicsToolkit.isMobileDevice()){$(".asics-multiple-cta-component.asics-video-banner video").remove();}}
function stretchMobilePreviewBackground(){if(asicsToolkit.isMobileDevice()){var $mctaVideoElement=$(".asics-multiple-cta-component.asics-video-banner.asics-video-mobile-fill .asics-multiple-cta-component-mobile-fill-image img");if($mctaVideoElement.length>0){$mctaVideoElement.css("height",window.innerHeight);}}}
function closeFilters(){var filterUl=$('.filter .filter-box h2').parent().find('ul');filterUl.css('height','0px').css('margin','0px');filterUl.addClass('close');$('.filter .filter-box h2').addClass('open');$('.col-sm-3.filter-side').css('display','none');$('.col-sm-9.product-list').removeClass('col-sm-9').addClass('col-sm-12');$('.col-sm-4.product').removeClass('col-sm-4').addClass('col-sm-3');var filterText=$('#showFilterText').val();$('.filter-open.type-filter').html(filterText);filterFilterOpen=false;}
function openFilters(){var filterUl=$('.filter .filter-box h2').parent().find('ul');filterUl.css('height','auto').css('margin','');filterUl.removeClass('close');$('.filter .filter-box h2').removeClass('open');$('.filter-side').css('display','block');$('.col-sm-12.product-list').addClass('col-sm-9').removeClass('col-sm-12');$('.col-sm-3.product').removeClass('col-sm-3').addClass('col-sm-4');var filterText=$('#showFilterText').val();$('.filter-open.type-filter').html(filterText);filterFilterOpen=true;}
function adjustVideoComponentBanner(){var colabVidWidth=$('.tiger-banner.video-banner iframe').width();$('.tiger-banner.video-banner iframe').css('height',(colabVidWidth*.5625));}
function footerAdjustments(){if($(".footerimg-logo").length>0){$("#footerCopyrightOT").css("padding-top","21px");}else{$("#footerCopyrightOT").css("padding-top","none");}}
function isPLPorSearchResultPage(){var PLPtemplateClass=".template-pages-search-searchGridPage";var searchResultTemplateClass=".template-pages-category-productGridPage";var productFinderResultPage=".template-pages-productFinder-productFinderGridPage";return($(PLPtemplateClass+", "+searchResultTemplateClass+", "+productFinderResultPage).length>0);}
function socialShareLinks(){var socialShareLinks=$('.post-share li a');$.each(socialShareLinks,function(){var link=$(this);var url=link.attr('href');var shareTitle=encodeURIComponent(link.attr('data-wa-social-facebook-title')||document.title);var fbPicture=link.attr('data-wa-social-facebook-image-external-url')||link.attr('data-wa-social-facebook-image');var fbAppId=link.attr('data-wa-social-facebook-app-id')||205340256245068;var twitterUserRef=link.attr('data-wa-social-twitter-user-ref')?"@"+link.attr('data-wa-social-twitter-user-ref')+" ":"";var twitterHashtags=link.attr('data-wa-social-twitter-hashtags');var twitterShareURL=link.attr('data-wa-social-twitter-share-url');var shareUrl=encodeURIComponent(document.URL);var id=link.attr('id');link.attr('data-wa-social-sharemessage',encodeURIComponent((link.attr('data-wa-social-sharemessage'))));var shareMessage=link.attr('data-wa-social-sharemessage');if(id=="email-share"){link.attr('href',url+"?subject="+encodeURIComponent(document.title)+"&body="+shareUrl);}else if(id=="pi-share"){var media=$('.singleProduct img')[0];if(!(typeof media==="undefined")){link.attr('href',url+"?url="+encodeURIComponent(document.URL)+"&media="+media.src+"&description="+media.alt);}else{link.attr('href',url+"?url="+encodeURIComponent(document.URL)+"&description="+shareMessage);}}else if(id=="fb-share"){if(asicsToolkit.isMobileDevice()){link.attr('href','https://www.facebook.com/v2.6/dialog/share?app_id='+fbAppId+'&href='+shareUrl+"&description="+shareMessage+"&picture="+fbPicture);}else{link.attr('href',url+"?title="+shareTitle+"&u="+shareUrl+"&description="+shareMessage+"&picture="+fbPicture);}}else if(id=="twi-share"){shareUrl=(twitterShareURL==="true")?shareUrl:"/";link.attr('href',url+"?url="+shareUrl+"&text="+twitterUserRef+shareMessage+"&hashtags="+twitterHashtags);}else if(id=="insta-share"){if(asicsToolkit.isMobileDevice()){link.attr('href',"instagram://camera");}else{link.attr('href',url);}}else{link.attr('href',url+"?url="+encodeURIComponent(document.URL)+"&text="+shareMessage);}});}
function handleSafariSearchSuggestionClick(){$(".siteSearch").bind("click touchstart",function(e){if($(e.target).is("img")){window.location=$(e.target).parent().attr("href");}});}
$(window).resize(function(){if($(window).width()!=windowWidth){if(isPLPorSearchResultPage()){if($(window).width()<=mobileWidthThreshold){$('.sidebar-offcanvas').addClass('toggleSide');closeFilters();}else if($(window).width()>mobileWidthThreshold){$('.sidebar-offcanvas').addClass('toggleSide');openFilters();}}}});function removeStoreFinderLinkIfNotCMSenabled(){if(!$('#header a[href$="/store-finder"]').length>0&&!$('#header a[href$="/store-locator"]').length>0){$("#main-menu > li.mobile.link").each(function(){if($("a[href$='/store-finder']",this).length>0){$(this).remove();return;}});}}
$(window).load(function(){if(asicsToolkit.isMobileDevice()){$(".asics-loading").removeClass("asics-loading");}
adjustVideoComponentBanner();removeStoreFinderLinkIfNotCMSenabled();if(asicsToolkit.isMobileDevice()||asicsToolkit.isIpadDevice()){mobileFooterTop();mobileFooterToggle();mobileFooterModal()}});$(window).scroll(function(){downloadAndplayVideoIfViewable();});function mobileFooterTop(){$(".footer-back-top").click(function(){$('body,html').animate({scrollTop:0},200);})}
function mobileFooterToggle(){$(".tiger-clearfix-toggle").eq(0).addClass("active").find(".tiger-clearfix-ul").show();$(".tiger-clearfix-toggle").click(function(){$(this).addClass("active").siblings().removeClass("active");$(".tiger-clearfix-toggle").find(".tiger-clearfix-ul").hide();$(this).find(".tiger-clearfix-ul").show();})}
function mobileFooterModal(){$(".signup-newsletter").click(function(){$(".mobile-newsletter-bg").fadeIn();$(".mobile-newsletter-close").fadeIn();$(".mobile-newsletter-box").fadeIn();})
$(".mobile-newsletter-close, .mobile-newsletter-bg").click(function(){$(".mobile-newsletter-box").fadeOut();$(".mobile-newsletter-bg").fadeOut();$(".mobile-newsletter-close").fadeOut();})};

ACC.common={currentCurrency:"USD",$page:$("#page"),addedToCartModalHtml:"",storage:{hasStorage:(function(){var uid=new Date;var storage;var result;try{(storage=window.localStorage).setItem(uid,uid);result=storage.getItem(uid)==uid;storage.removeItem(uid);return result&&storage;}catch(exception){}}()),save:function(key,data,expirationMin){if(!ACC.common.storage.hasStorage){return undefined;}
var expirationMS=expirationMin*60*1000;var record={value:data,timestamp:new Date().getTime()+expirationMS};localStorage.setItem(key,JSON.stringify(record));return data;},load:function(key){if(!ACC.common.storage.hasStorage){return undefined;}
var record=JSON.parse(localStorage.getItem(key));if(record&&!(new Date().getTime()<record.timestamp)){return record.value;}
else{return null;}}},setCurrentCurrency:function()
{ACC.common.currentCurrency=ACC.common.$page.data("currencyIsoCode");},refreshScreenReaderBuffer:function()
{$('#accesibility_refreshScreenReaderBufferField').attr('value',new Date().getTime());},bindAll:function()
{ACC.common.bindToUiCarouselLink();ACC.common.bindShowProcessingMessageToSubmitButton();ACC.common.bindFormValidation();},bindToUiCarouselLink:function()
{$("ul.carousel > li a.popup").colorbox({onComplete:function()
{ACC.common.refreshScreenReaderBuffer();$.colorbox.resize()
ACC.product.initQuickviewLightbox();},onClosed:function()
{ACC.common.refreshScreenReaderBuffer();}});},processingMessage:$("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif'/>"),bindShowProcessingMessageToSubmitButton:function()
{$(':submit.show_processing_message').each(function()
{$(this).on("click",ACC.common.showProcessingMessageAndBlockForm)});},isAddressValidated:function(formSelector){var validated=true;var $form=$(formSelector);var $addressRadioBtn=$form.find('.address-radio');if($addressRadioBtn.is(':visible')&&!$addressRadioBtn.is(':checked')){$form.find('.addressNoSelectedMessage').show();validated=false;}
if($form.find('.verifyAddress').is(':visible')){$form.find('.addressNoVerifiedMessage').show();validated=false;}
var $fuzzyAddress=$form.find('input[name="fuzzyAddress"]');if($fuzzyAddress.is(':visible')&&$fuzzyAddress.val()!=''){$form.find('.fuzzyAddressNoSelectedMessage').show();validated=false;}
return validated;},bindFormValidation:function(){var updatePswForm=$('#updatePasswordForm');$('#update_password').on('click',function(){if(!updatePswForm.valid()){return false;}});var updateProfileForm=$('#updateProfileForm');$('#updateName').on('click',function(){if(!updateProfileForm.valid()){return false;}});var asicsAddressForm=$('#asicsAddressForm');$('.change_address_button').on('click',function(){if(!asicsAddressForm.valid()){return false;}
if($("html").attr("data-region")=="aop"){if(!ACC.common.isAddressValidated('#asicsAddressForm')){return false;}}});var registerForm=$('#registerForm');$('#registerButton').on('click',function(){if(!registerForm.valid()){return false;}});var updateEmailForm=$('#updateEmailForm');$('#update_button').on('click',function(){if(!updateEmailForm.valid()){return false;}});},showProcessingMessageAndBlockForm:function()
{$("#checkoutContentPanel").block({message:ACC.common.processingMessage});},blockFormAndShowProcessingMessage:function(submitButton)
{var form=submitButton.parents('form:first');form.block({message:ACC.common.processingMessage});},newsletterSignup:function(){$("#newsletter_signup #newsletter_signup_form_email").focus(function(){$("#newsletter_signup p.message.error").removeClass("focus");});var form=$(".newsletter_signup_form");var messageHtml="<p class='message'></p>";var messageElement="";function getMessage(){var $element='';$element=form.find('.message.error').remove().end().find('#newsletter_signup_form_email').before(messageHtml);if(form.find("p").length==0)$element;return form.find("p");};$(document).on("click",".newsletterModalInner .buttons .btn2",function(){$.colorbox.close();$.ajax({dataType:"json",url:form.attr("action"),data:{email:form.find('input').val()},type:"POST",success:function(data){messageElement=getMessage();var siteTitle=$("#footerSiteTitle").val();var newsletterMsg=$.validator.format(data.text,siteTitle);if(data.type=="success"){form.find("input, .button").hide();messageElement.addClass("success").html("<span class='icon'></span>"+newsletterMsg);ACC.track.newsletter.trackNewsletterSubscription("Successful");}else{messageElement.addClass("error").html("<span class='icon'></span>"+newsletterMsg);ACC.track.newsletter.trackNewsletterSubscription("Error");}
$("#sub_newsletter").removeAttr("disabled");},error:function(){messageElement=getMessage();messageElement.addClass("error").html("<span class='icon'></span>Error");$("#sub_newsletter").removeAttr("disabled");}});});form.on("submit",function(event){$("#sub_newsletter").attr("disabled","disabled");var email=$(this).find('input').val();event.preventDefault();form=$(this);var url=form.attr("action");if($("html").attr("data-region")=="akr"){url=$("#checkEmailUrl").val();}
$.ajax({dataType:"json",url:url,data:{email:email},type:"POST",success:function(data){if(data.type=="success"){if($("html").attr("data-region")=="akr"){newsletterKrModal();}else{messageElement=getMessage();var siteTitle=$("#footerSiteTitle").val();var newsletterMsg=$.validator.format(data.text,siteTitle);form.find("input, .button").hide();messageElement.addClass("success").html("<span class='icon'></span>"+newsletterMsg);ACC.track.newsletter.trackNewsletterSubscription("Successful");}}else{messageElement=getMessage();var siteTitle=$("#footerSiteTitle").val();var newsletterMsg=$.validator.format(data.text,siteTitle);messageElement.addClass("error").html("<span class='icon'></span>"+newsletterMsg);ACC.track.newsletter.trackNewsletterSubscription("Error");$("#newsletter_signup p.message.error").addClass("focus");}
$("#sub_newsletter").removeAttr("disabled");},error:function(){messageElement=getMessage();messageElement.addClass("error").html("<span class='icon'></span>Error");$("#sub_newsletter").removeAttr("disabled");$("#newsletter_signup p.message.error").addClass("focus");}});function newsletterKrModal(){if(jQuery(window).width()<=mobileWidthThreshold){$(".mobile-newsletter-box").fadeOut();$(".mobile-newsletter-bg").fadeOut();$(".mobile-newsletter-close").fadeOut();}
var $addedToCartPopup=$('#newsletterModal');var tempDiv=$addedToCartPopup;if(ACC.common.addedToCartModalHtml==""){ACC.common.addedToCartModalHtml=tempDiv.html();}else{$addedToCartPopup.empty().html(ACC.common.addedToCartModalHtml);}
$.colorbox({inline:true,closeButton:false,opacity:'0.9',href:"html[data-region='akr'] #newsletterModal .newsletterModalInner",onComplete:function()
{$.colorbox.resize();$("#signup_email_account").text($("#newsletter_signup_form_email").val());}});}});},setupResponsiveHandlers:function(){var mobileWidthThreshold=767;function addNavBarSearchMobileOnlyClass(){var mobileOnlySearchElement=jQuery("#main-menu li:has([id|='search-component'])");var mobileSearchStylingClassName="searchInputUnderMainMenuMobileOnly";mobileOnlySearchElement.addClass(mobileSearchStylingClassName);}
function handleFooterMobileOnly(){var desktopClass="col-sm-3";var mobileClass="col-xs-12";if(jQuery(window).width()<=mobileWidthThreshold){}else if(jQuery(window).width()>mobileWidthThreshold){}}
function mobileFriendlySearchResultsPage(){var mobileViewClasses="col-sm-12";var desktopViewClasses="col-sm-3 right";var nextPageLinkElement=$("body:not(.page-productListReact,.page-searchReact) #nextPageLink");if(jQuery(window).width()<=mobileWidthThreshold){nextPageLinkElement.removeClass(desktopViewClasses);nextPageLinkElement.addClass(mobileViewClasses);}else if(jQuery(window).width()>mobileWidthThreshold){nextPageLinkElement.removeClass(mobileViewClasses);nextPageLinkElement.addClass(desktopViewClasses);}}
jQuery(window).on('load',mobileFriendlySearchResultsPage);jQuery(window).on('load',addNavBarSearchMobileOnlyClass);jQuery(window).on('load',handleFooterMobileOnly);jQuery(window).on('resize',mobileFriendlySearchResultsPage);jQuery(window).on('resize',handleFooterMobileOnly);},unRegisterBtn:function(){$("#unRegisterBtn").click(function(){$.colorbox({inline:true,height:false,href:"#popup_confirm_unRegister",onComplete:function()
{$(this).colorbox.resize();}});})},updateSubscribeBtnEvent:function(){$("#updateSubscribePanel li a.button").click(function(event){event.preventDefault();ACC.common.updateSubscribePanel(this);});},updateSubscribePanel:function(btn){$.ajax({url:btn.href,type:"GET",success:function(data){$("#globalMessages").html($(data).find("#messages").html());$("#updateSubscribePanel").html($(data).find("#updateSubscribePanel").html());ACC.common.updateSubscribeBtnEvent();},error:function(){alert("Error");}});},setupGuestRegisterCheckoutChoice:function(){var guestCheckoutRegisterContainer=".page-checkout-login .guestRegisterCheckoutChoice";if($(guestCheckoutRegisterContainer).length>0){var asGuestChoiceQuery="#chooseGuestCheckout";var asRegisterChoiceQuery="#chooseRegisterCheckout";$(guestCheckoutRegisterContainer+" "+asGuestChoiceQuery).click(function(e){e.stopPropagation();$(asRegisterChoiceQuery).prop("checked",false);$(guestCheckoutRegisterContainer+" #AJPRegisterForm").css("display","none");$(guestCheckoutRegisterContainer+" #registerForm").css("display","none");$(guestCheckoutRegisterContainer+" .akrUserRegister ").css("display","none");$(guestCheckoutRegisterContainer+" #guestForm").css("display","block");});$(guestCheckoutRegisterContainer+" "+asRegisterChoiceQuery).click(function(e){e.stopPropagation();$(asGuestChoiceQuery).prop("checked",false);$(guestCheckoutRegisterContainer+" #guestForm").css("display","none");$(guestCheckoutRegisterContainer+" #AJPRegisterForm").css("display","block");$(guestCheckoutRegisterContainer+" #registerForm").css("display","block");$(guestCheckoutRegisterContainer+" .akrUserRegister ").css("display","block");});$(".choice").click(function(e){$(this).find("*[id^='uniform']").trigger("click");});if($("form").has(".error").length>0){if($("form").has(".error").attr("id").toLowerCase().indexOf("register")>-1){$(guestCheckoutRegisterContainer+" "+asRegisterChoiceQuery).click();}else{$(guestCheckoutRegisterContainer+" "+asGuestChoiceQuery).click();}}}},removeSubscribeBtn:function(){$(".productSubscriptions .removeSubscribeBtn").each(function(){$(this).click(function(e){e.preventDefault();var currentTarget=$(this);$.ajax({url:this.href,type:"POST",success:function(data){$('#globalMessages').html("");if(data.type=="success"){var id=currentTarget.attr("id");$(".productSubscriptions #productSubscription_"+id).remove();if($(".productSubscriptions tbody tr").length<=0){$(".productSubscriptionList").hide();$(".productSubscriptionEmptyList").show();}
if(data.text){$("#globalMessages").append("<div class='alert positive infoMessage'>"+data.text+"</div>");}}
else
{if(data.text){$("#globalMessages").append("<div class='alert negative errorMessage'>"+data.text+"</div>");$(window).scrollTop(0);}}},error:function(data){alert("Error");}});})});},domainAndProtocol:function(){return location.protocol+'//'+location.hostname+(location.port?':'+location.port:'');},formErrorTrack:function(formId,errorSelecter){var form=$("#"+formId);if(form.find(errorSelecter).length>0){var fieldName="";var fieldMessage="";form.find(errorSelecter).each(function(){fieldName=$(this).attr("id").replace(".error","");fieldMessage=$(this).text();$.validator.pushErrorToDataLayer(formId,fieldName,fieldMessage);})}
if(formId=="loginForm"){if(window.location.search.indexOf("error=true")>0){var fieldName="login form";var fieldMessage=$(errorSelecter).text().trim();$.validator.pushErrorToDataLayer(formId,fieldName,fieldMessage);}}},paymentErrorTrack:function(){if($(".checkout-invalid").length<1||$("#globalMessages .alert").length<1){return;}
$("#globalMessages .alert").each(function()
{if($(this).text().trim()==$(".checkout-invalid").text().trim()){var fieldMessage=$("#globalMessages .alert").text().trim()
$.validator.pushErrorToDataLayer("PaymentDetailsForm","PaymentDetails",fieldMessage);}});},popupForCountryRedirect:function(){if(ACC.countryRedirectPopup&&!$.cookie('accept-popup')){var content=$('#countryRedirectionPopup').html();$.colorbox({html:content,width:820,height:339,overlayClose:true,onComplete:function()
{$('#colorbox').addClass('country-redirection');$.cookie('accept-popup',true,{expires:1,path:'/'});},onClosed:function(){$('#colorbox').removeClass('country-redirection');}});}},initAccessibleMenu:function(){if($(window).width()>767){$("nav").accessibleMegaMenu({uuidPrefix:"accessible-megamenu",menuClass:"nav-menu",topNavItemClass:"nav-item",panelClass:"sub-menu-wrap",panelGroupClass:"sub-menu",hoverClass:"hover",focusClass:"focus",openClass:"open"});if('ontouchstart'in window){$('#main-menu').find('.nav-item > a').on('touchend',function(event){event.preventDefault();})}}},alignAddressRadiobtn:function($parentForm){var maxTop=0;var radioBtns=$parentForm.find('.address-radio-wrap');radioBtns.css('top',0);radioBtns.each(function(){var currentRadioTop=$(this).offset().top;maxTop=currentRadioTop>maxTop?currentRadioTop:maxTop;});radioBtns.offset({top:maxTop});},bindAfterpayclick:function(){$('.afterpay-moreinfo').on('click',function(){$.colorbox({width:750,html:$('#afterpay-modal').html(),onComplete:function(){$('#colorbox').addClass('afterpay-modal');$.colorbox.resize();},onClosed:function(){$('#colorbox').removeClass('afterpay-modal');}});});},bindCloseBtnInPopupClick:function(){$(document).on('click','.btn-cancel, .close-modal, #btn-continue, .continue-shopping',function(){parent.$.colorbox.close();});}};function validate_img(ele){var totalImgSize=0;$(document).on("change","#img-upload",function(){try{var file=$("#img-upload").val();var $error=$(".error-info");var $upload=$("#img-upload");var maxSizePhoto=$("#maxSizePhoto").val();var currentImgSize=$upload[0].files[0].size;var totalSizeWillUpload=totalImgSize+currentImgSize;if(file!=""&&(!/.(jpg|PNG|png|JPG)$/.test(file))){$error.html("The picture type must be one of jpg and png");return false;}
else if($upload[0].files.length>0&&maxSizePhoto&&totalSizeWillUpload>=maxSizePhoto){var sizeRemaining=maxSizePhoto-totalImgSize;$error.html("Please upload a picture of less than "+parseInt(sizeRemaining/1024)+"KB");return false;}
$error.html("");var selectedFile=$upload.prop('files')[0];var form=$("#uploadPhotoForm");var formData=new window.FormData();formData.append("defectPic",selectedFile);$(".file-button").addClass("load-spinner");$(".file-display").hide();$.ajax({url:$(form).attr('action'),type:'POST',data:formData,contentType:false,processData:false,timeout:60000,success:function(data){if(data&&data.indexOf("exist_error_Info")>0)
{$(".error-info").html(data);}
else
{$(".file-button").before(data);var imgCount=$('.file-load .load-img').length;if(imgCount==4){$('.file-button').addClass('disabled');$('#img-upload').attr("disabled",true);}
totalImgSize+=currentImgSize;}
$(".file-button").removeClass("load-spinner");$(".file-display").show();},error:function(jqXHR,status,message){console.log(jqXHR.responseText+"----"+status+"----"+message);$(".file-button").removeClass("load-spinner");$(".file-display").show();$(".error-info").html("Upload Timeout");},complete:function(data){$("#img-upload").val("");}});}
catch(e){console.log(e);}});}
function warrantyDadepicker(){$(".warranty-datepicker").datepicker({dateFormat:'mm/dd/yy',defaultDate:new Date()});}
function warrantyForm(){if(!$(".radio-claim input:checked").parents(".radio-claim").index()){$(".radio-item-content").hide();}
$(document).on("click",".radio-claim",function(){var _index=$(this).index();if(_index==1){$(".radio-item-content").show();}else{$(".radio-item-content").hide();}})}
function globalToolTipPopup(ele,eleParent,elecont,parentBox,closeIcon,fixedDocument,heightNun){$(document).on("click",ele,function(event){event.stopPropagation();var global_content=$(this).parents(eleParent).find(elecont);var global_height=global_content.outerHeight()+heightNun;var global_left=$(this).outerWidth()/2-5;global_content.css({"top":-global_height+"px"});global_content.find(".arrow").css("left",(global_left-parseInt(global_content.css("left")))+"px");$(this).parents(parentBox).siblings().find(elecont).hide();global_content.show();$(this).parents(parentBox).find(fixedDocument).show();})
$(document).on("click",closeIcon,function(){$(elecont).hide();$(fixedDocument).hide();})
$(document).on("click",fixedDocument,function(){$(elecont).hide();$(fixedDocument).hide();})}
function warrantyDefective(){$("#contentPageContent").addClass("warranty-defective");$(document).on("click",".global-tip-popup",function(){var leftPosition=parseInt($(this).parents(".global-tip-container").position().left);$(".global-tooltip-content").outerWidth($(this).parents("label.control-label").width());$(".global-tooltip-content").css("left",-leftPosition+"px");})}
function displayVerifiedAndEnteredAdress(){var $form=$('#asicsAddressForm');var line1=$form.find('input[name="line1"]').val();var line2=$form.find('input[name="line2"]').val();var townCity=$form.find('input[name="townCity"]').val();var region=$form.find('select[name="regionIso"]').val();region=region.replace('AU-','');var postCode=$form.find('input[name="postcode"]').val();var unusedLine1=$form.find('input[name="unusedLine1"]').val();var unusedLine2=$form.find('input[name="unusedLine2"]').val();var unusedTownCity=$form.find('input[name="unusedTownCity"]').val();var unusedRegionIso=$form.find('input[name="unusedRegionIso"]').val();var unusedPostcode=$form.find('input[name="unusedPostcode"]').val();var isCheckedVerifiedAddr=$('#useVerifiedAddress').val();if(isCheckedVerifiedAddr===''){ACC.address.enteredAddr=setAddress(line1,line2,townCity,region,postCode,true);$form.find('.addr-wrap.entered').removeClass('col-sm-6').addClass('col-sm-12');}else if(isCheckedVerifiedAddr==='true'){ACC.address.validatedAddr=setAddress(line1,line2,townCity,region,postCode,true);ACC.address.enteredAddr=setAddress(unusedLine1,unusedLine2,unusedTownCity,unusedRegionIso,unusedPostcode,false);}else{ACC.address.validatedAddr=setAddress(unusedLine1,unusedLine2,unusedTownCity,unusedRegionIso,unusedPostcode,false);ACC.address.enteredAddr=setAddress(line1,line2,townCity,region,postCode,true);}
ACC.address.fillAddressList('#asicsAddressForm');if(isCheckedVerifiedAddr!==''&&asicsToolkit.isDesktopDevice()){ACC.common.alignAddressRadiobtn($form);}}
function setAddress(line1,line2,townCity,region,postCode,isChecked){return{line1:line1,line2:line2,townCity:townCity,region:region,postCode:postCode,isChecked:isChecked}}
function displayAdressFields(){var $form=$('#asicsAddressForm');$form.find('label[for="address\.fuzzyAddress_del"], .fuzzyAddress, .addr-wrap, .change-addres').hide();var $line1=$('input[name="line1"]');var $line2=$('input[name="line2"]');if($line2.val()!=''){$line1.val($line1.val()+', '+$line2.val());$line2.val('');}
$form.find('.adress-fields').show();}
$(document).ready(function()
{ACC.common.setupResponsiveHandlers();ACC.common.setCurrentCurrency();ACC.common.bindAll();ACC.common.newsletterSignup();ACC.common.unRegisterBtn();ACC.common.updateSubscribeBtnEvent();ACC.common.setupGuestRegisterCheckoutChoice();ACC.common.removeSubscribeBtn();ACC.common.formErrorTrack("asicsAddressForm","li .help-inline span");ACC.common.formErrorTrack("updateProfileForm","li .help-inline span");ACC.common.formErrorTrack("updateEmailForm","li .help-inline span");ACC.common.formErrorTrack("updatePasswordForm","li .help-inline span");ACC.common.formErrorTrack("loginForm","#globalMessages .alert.negative");ACC.common.paymentErrorTrack();ACC.common.popupForCountryRedirect();ACC.common.initAccessibleMenu();ACC.common.bindAfterpayclick();ACC.common.bindCloseBtnInPopupClick();warrantyForm();warrantyDadepicker();validate_img();warrantyDefective();globalToolTipPopup(".global-tip-popup",".global-tip-container",".global-tooltip-content",".warranty-item-container","i.fa-remove",".global-fix-document",10);if($("html").attr("data-region")=="aop"){var currentUrl=window.location.href;if(currentUrl){var isEditAddressPage=currentUrl.indexOf('edit-address')!==-1;var aopValidated=$('#aopValidated').val();if(isEditAddressPage&&aopValidated==='false'){displayAdressFields();}else if(aopValidated==='true'){displayVerifiedAndEnteredAdress();}}}});jQuery.extend({postJSON:function(url,data,callback)
{return jQuery.post(url,data,callback,"json");}});$.ajaxPrefilter(function(options,originalOptions,jqXHR)
{if(options.type==="post"||options.type==="POST")
{var noData=(typeof options.data==="undefined");if(options.url&&options.url.indexOf("view/WarrantyCmsFormComponentController/ajaxUploadPhoto")>0)
{var patt1=/application\/json/i;if(options.data instanceof window.FormData)
{options.data.append("CSRFToken",ACC.config.CSRFToken);}
else if(patt1.test(options.contentType))
{jqXHR.setRequestHeader('CSRFToken',ACC.config.CSRFToken);}
else if(options.data.indexOf("CSRFToken")===-1)
{options.data=options.data+"&"+"CSRFToken="+ACC.config.CSRFToken;}
return;}
if(noData||options.data.indexOf("CSRFToken")===-1)
{options.data=(!noData?options.data+"&":"")+"CSRFToken="+ACC.config.CSRFToken;}}});

ACC.track={parseProductId:function(fullId){var sizeVarRegExp=/(\d+\.[^\.]{1,4})\.([A-Z])\.([\dA-Z]{1,2}(H|\.5|\.0)?)/g;var match=sizeVarRegExp.exec(fullId);if(match==null||match.length<4){return[];}
var prodArr=[];prodArr.productCodeColor=match[1];prodArr.productWidth=match[2];prodArr.productSize=match[3];return prodArr;},addTrackAttributes:function($domElem,category,action,label){if($domElem.length>0){$domElem.attr("data-wa-hittype","event");$domElem.attr("data-wa-event-category",category);$domElem.attr("data-wa-event-action",action);$domElem.attr("data-wa-event-label",label);}},cart:{trackAddToCart:function(productCode,quantityAdded,cartData){var prodArr=ACC.track.parseProductId(productCode);if(prodArr==null)return;window.dataLayer.push({'event':'add-to-cart','productId':prodArr.productCodeColor,'full-id':productCode,'quantity':Number(quantityAdded),'size':prodArr.productSize.replace('H','.5'),'category':ACC.analytics.category,'width':ACC.analytics.width,'pronation':ACC.analytics.pronation});if(window.utag){window.utag.link({"eec_action":"add","gaEventCategory":"ecommerce","gaEventAction":"add to cart","gaEventLabel":utag_data.product_name[0],"gaEventValue":undefined,"gaEventNonInteraction":false,"product_id":utag_data.product_id,"product_name":utag_data.product_name,"product_brand":utag_data.product_brand,"product_variant":utag_data.product_variant,"product_color":utag_data.product_color,"product_size":[prodArr.productSize.replace('H','.5')],"product_category":utag_data.product_category,"product_stock":["stock"],"product_unit_price":utag_data.product_unit_price,"product_unit_original_price":utag_data.product_unit_original_price,"product_marked_down":utag_data.product_marked_down,"product_marked_down_price":utag_data.product_marked_down_price,"product_marked_down_total":utag_data.product_marked_down_total,"product_style":utag_data.product_style,"product_width":utag_data.product_width,"product_gender":utag_data.product_gender,"product_full_id":[productCode],"product_quantity":[quantityAdded],"product_is_active":utag_data.product_is_active,"product_pronation":[ACC.analytics.pronation]});}},trackAddToCartFromCartPage:function(productCode,quantityAdded,cartData){var prodArr=ACC.track.parseProductId(productCode);if(prodArr==null)return;window.dataLayer.push({'event':'add-to-cart','productId':prodArr.productCodeColor,'full-id':productCode,'quantity':Number(quantityAdded),'size':prodArr.productSize.replace('H','.5'),'category':ACC.analytics.category,'width':ACC.analytics.width,'pronation':ACC.analytics.pronation});var index=0;for(var i=0;i<utag_data.cart_product_full_id.length;i++){if(productCode==utag_data.cart_product_full_id[i]){index=i;break;}}
if(window.utag){window.utag.link({"eec_action":"add","gaEventCategory":"ecommerce","gaEventAction":"add to cart","gaEventLabel":utag_data.cart_product_name[index],"gaEventValue":undefined,"gaEventNonInteraction":false,"product_id":[utag_data.cart_product_id[index]],"product_name":[utag_data.cart_product_name[index]],"product_brand":[utag_data.cart_product_brand[index]],"product_variant":[utag_data.cart_product_variant[index]],"product_color":[utag_data.cart_product_color[index]],"product_size":[prodArr.productSize.replace('H','.5')],"product_category":[utag_data.cart_product_category[index]],"product_stock":["stock"],"product_unit_price":[utag_data.cart_product_unit_price[index]],"product_unit_original_price":[utag_data.cart_product_unit_original_price[index]],"product_marked_down":[utag_data.cart_product_marked_down[index]],"product_marked_down_price":[utag_data.cart_product_marked_down_price[index]],"product_marked_down_total":[utag_data.cart_product_marked_down_total[index]],"product_style":[utag_data.cart_product_style[index]],"product_width":[utag_data.cart_product_width[index]],"product_gender":[utag_data.cart_product_gender[index]],"product_full_id":[productCode],"product_quantity":[Number(quantityAdded)],"product_is_active":[utag_data.cart_product_is_active[index]]});}},trackRemoveFromCartWhenNoStock:function(){setTimeout(function(){if(utagCartValidationErrorData){for(var index=0;index<utagCartValidationErrorData.cart_product_full_id.length;index++){var prodArr=ACC.track.parseProductId(utagCartValidationErrorData.cart_product_full_id[index]);window.dataLayer.push({'event':'remove-from-cart','productId':prodArr.productCodeColor,'full-id':utagCartValidationErrorData.cart_product_full_id[index],'quantity':Number(utagCartValidationErrorData.product_quantity[index])});if(window.utag){window.utag.link({"eec_action":"remove","gaEventCategory":"ecommerce","gaEventAction":"remove from cart","gaEventLabel":utagCartValidationErrorData.cart_product_name[index],"gaEventValue":undefined,"gaEventNonInteraction":false,"product_id":[utagCartValidationErrorData.cart_product_id[index]],"product_name":[utagCartValidationErrorData.cart_product_name[index]],"product_brand":[utagCartValidationErrorData.cart_product_brand[index]],"product_variant":[utagCartValidationErrorData.cart_product_variant[index]],"product_color":[utagCartValidationErrorData.cart_product_color[index]],"product_size":[prodArr.productSize.replace('H','.5')],"product_category":[utagCartValidationErrorData.cart_product_category[index]],"product_stock":["yes"],"product_unit_price":[utagCartValidationErrorData.cart_product_unit_price[index]],"product_unit_original_price":[utagCartValidationErrorData.cart_product_unit_original_price[index]],"product_marked_down":[utagCartValidationErrorData.cart_product_marked_down[index]],"product_marked_down_price":[utagCartValidationErrorData.cart_product_marked_down_price[index]],"product_marked_down_total":[utagCartValidationErrorData.cart_product_marked_down_total[index]],"product_style":[utagCartValidationErrorData.cart_product_style[index]],"product_width":[utagCartValidationErrorData.cart_product_width[index]],"product_gender":[utagCartValidationErrorData.cart_product_gender[index]],"product_full_id":[utagCartValidationErrorData.cart_product_full_id[index]],"product_quantity":[utagCartValidationErrorData.product_quantity[index]],"product_is_active":[utagCartValidationErrorData.cart_product_is_active[index]]});}}}},120)},trackRemoveFromCart:function(productCode,initialQuantity){var prodArr=ACC.track.parseProductId(productCode);if(prodArr==null)return;window.dataLayer.push({'event':'remove-from-cart','productId':prodArr.productCodeColor,'full-id':productCode,'quantity':Number(initialQuantity)});var index=0;for(var i=0;i<utag_data.cart_product_full_id.length;i++){if(productCode==utag_data.cart_product_full_id[i]){index=i;break;}}
if(window.utag){window.utag.link({"eec_action":"remove","gaEventCategory":"ecommerce","gaEventAction":"remove from cart","gaEventLabel":utag_data.cart_product_name[index],"gaEventValue":undefined,"gaEventNonInteraction":false,"product_id":[utag_data.cart_product_id[index]],"product_name":[utag_data.cart_product_name[index]],"product_brand":[utag_data.cart_product_brand[index]],"product_variant":[utag_data.cart_product_variant[index]],"product_color":[utag_data.cart_product_color[index]],"product_size":[prodArr.productSize.replace('H','.5')],"product_category":[utag_data.cart_product_category[index]],"product_stock":["yes"],"product_unit_price":[utag_data.cart_product_unit_price[index]],"product_unit_original_price":[utag_data.cart_product_unit_original_price[index]],"product_marked_down":[utag_data.cart_product_marked_down[index]],"product_marked_down_price":[utag_data.cart_product_marked_down_price[index]],"product_marked_down_total":[utag_data.cart_product_marked_down_total[index]],"product_style":[utag_data.cart_product_style[index]],"product_width":[utag_data.cart_product_width[index]],"product_gender":[utag_data.cart_product_gender[index]],"product_full_id":[productCode],"product_quantity":[Number(initialQuantity)],"product_is_active":[utag_data.cart_product_is_active[index]]});}},trackUpdateCart:function(productCode,initialQuantity,newQuantity){if(initialQuantity!=newQuantity){if(initialQuantity>newQuantity){ACC.track.cart.trackRemoveFromCart(productCode,initialQuantity-newQuantity);}else{ACC.track.cart.trackAddToCartFromCartPage(productCode,newQuantity-initialQuantity);}}},addFreeShippingAttributes:function(){ACC.track.addTrackAttributes($('#shippingInfo a'),"Checkout Interactions","Cart Page","Free Shipping Bottom Link")}},newsletter:{trackNewsletterSubscription:function(response){window.dataLayer.push({"event":"ga-event","gaEventCategory":"Newsletter","gaEventAction":"Signup","gaEventLabel":response,"gaEventValue":undefined,"gaEventNonInteraction":false});if(window.utag){window.utag.link({'gaEventCategory':'Newsletter','gaEventAction':'Signup','gaEventLabel':response,'gaEventValue':undefined,'gaEventNonInteraction':false});}}},productfinder:{parseAttribute:function(attributeName){var step=attributeName;if(attributeName){if(attributeName.indexOf("sf")==0){step=attributeName.substring(2,attributeName.length);}}
return step;},trackGAPageEvent:function(attributeName){var step=ACC.track.productfinder.parseAttribute(attributeName);window.dataLayer.push({"event":"ga-pageview","gaPageViewUrl":ACC.config.encodedContextPath+"/virtual/product-finder/"+ACC.productfinder.productType+"/"+step});if(window.utag){var utagtmp=JSON.parse(JSON.stringify(utag_data));utagtmp['ga_virtual_pathname']=ACC.config.encodedContextPath+"/virtual/product-finder/"+ACC.productfinder.productType+"/"+step
window.utag.view(utagtmp,null,[3]);}},trackGAClickEvent:function(attributeName,attributeValue){var step=ACC.track.productfinder.parseAttribute(attributeName);window.dataLayer.push({"event":"ga-event","gaEventCategory":ACC.productfinder.productType+" finder","gaEventAction":step,"gaEventLabel":attributeValue,"gaEventValue":undefined,"gaEventNonInteraction":false});if(window.utag){window.utag.link({"gaEventCategory":ACC.productfinder.productType+" finder","gaEventAction":step,"gaEventLabel":attributeValue,"gaEventValue":undefined,"gaEventNonInteraction":false})}}},login:{bindLoginCheckoutOption:function(formSelector,label){var $loginForm=$(formSelector);if($loginForm.length>0){$loginForm.on('submit',function(){window.dataLayer.push({"event":"checkout-option","ecommerce":{"checkout_option":{"actionField":{"step":2,"option":label}}}});if(window.utag){window.utag.link({"eec_action":"checkout_option","checkout_step":2,"checkout_option":label,"gaEventCategory":"ecommerce","gaEventAction":"checkout option","gaEventLabel":label,"gaEventValue":undefined,"gaEventNonInteraction":false});}})}},init:function(){ACC.track.login.bindLoginCheckoutOption('#loginForm','Login');ACC.track.login.bindLoginCheckoutOption('#AJPRegisterForm, #registerForm','New Register');ACC.track.login.bindLoginCheckoutOption('#guestForm','Guest Purchase');ACC.track.login.bindTPointLink();ACC.track.login.bindTPointNoLink();},bindForgotPassword:function(){var form=$('#forgottenPwdForm');form.on('submit',function(){window.dataLayer.push({"event":"ga-event","gaEventCategory":"Checkout Interactions","gaEventAction":"Login Page","gaEventLabel":"Forgotten your password Submitted","gaEventValue":undefined,"gaEventNonInteraction":false});});if(window.utag){window.utag.link({"gaEventCategory":"Checkout Interactions","gaEventAction":"Login Page","gaEventLabel":"Forgotten your password Submitted","gaEventValue":undefined,"gaEventNonInteraction":false})}},bindTPointLink:function(){var linkurl=$('#tpointPanel a');linkurl.on('click',function(){if(window.utag){window.utag.link({'gaEventCategory':'Tpoint','gaEventAction':'Account Unlinked','gaEventLabel':undefined,'gaEventValue':undefined,'gaEventNonInteraction':false})}});},bindTPointNoLink:function(){var unlinkurl=$('#accountTpoint .tpoint_linked_div .tpointLink');unlinkurl.on('click',function(){if(window.utag){window.utag.link({'gaEventCategory':'Tpoint','gaEventAction':'Account linked','gaEventLabel':undefined,'gaEventValue':undefined,'gaEventNonInteraction':false})}});}},checkout:{getSelectedCardType:function(container){var selectedCard=container.find("[name=cardTypeCode] option:selected");var cardType=$(".payment_card span.checked input").data("card-type");if(selectedCard.val()===""&&cardType!=""){return cardType;}
else if(selectedCard.val()===""){return"not selected";}
else{return selectedCard.html()}},trackCheckoutOption:function(init){var $singleCheckout=$("#singleCheckout").find(".selectdeliveyMethodSection, .addPaymentMethodSection");var deliveryMethod=$singleCheckout.find("[name=delivery_method]:checked").val();var payment;switch(ACC.config.countryIsoCode){case"us":{payment=ACC.track.checkout.getSelectedCardType($singleCheckout,init);break;}
case"au":{var paymentType=$singleCheckout.find("[name=paymentType]:checked").val();if(paymentType==="cybersource"){payment=ACC.track.checkout.getSelectedCardType($singleCheckout,init);}else{payment=paymentType;}
break;}
case"jp":{var paymentType=$singleCheckout.find("[name=paymentType]:checked").val();if(paymentType==="cybersource"){payment=ACC.track.checkout.getSelectedCardType($singleCheckout,init);}else{payment=paymentType;}
break;}
default:payment=$singleCheckout.find("[name=payment_type]:checked").val();}
if(!payment&&$('.select_paymentInfo_form input:checked').length>0){payment=$('.select_paymentInfo_form input:checked').attr("data-card-type");}
if(payment)payment=payment.toLowerCase();if(deliveryMethod)deliveryMethod=deliveryMethod.toLowerCase();window.dataLayer.push({"event":"checkout-option","ecommerce":{"checkout_option":{"actionField":{"step":3,"option":payment+" | "+deliveryMethod}}}});if(window.utag){window.utag.link({"eec_action":"checkout_option","checkout_step":3,"checkout_option":payment+" | "+deliveryMethod,"gaEventCategory":"ecommerce","gaEventAction":"checkout option","gaEventLabel":payment+" | "+deliveryMethod,"gaEventValue":undefined,"gaEventNonInteraction":false});}},bindCheckoutOption:function(){var $singleCheckout=$("#singleCheckout").find(".selectdeliveyMethodSection, .addPaymentMethodSection");$singleCheckout.find("[name=delivery_method],[name=payment_type],[name=paymentType],[name=cardTypeCode],[name=payment\\[method\\]]").on("change",function(){var _value=$(this).val().toUpperCase();var _amex='AMEX';var _parentsClass=$(this).parents(".item_content").find(".security-desc");var amexPreSelected=false;var maxlength=$(this).parents(".item_content").find(".required.digits");if($("li.payment_card .checked input").length>0){amexPreSelected=$("li.payment_card .checked input").attr("data-card-type").toLowerCase().startsWith("american");}
if(_value==_amex||_value=="003"||amexPreSelected){_parentsClass.find(".security-desc-four").show();_parentsClass.find(".security-desc-three").hide();maxlength.attr("maxlength","4");}else{_parentsClass.find(".security-desc-three").show();_parentsClass.find(".security-desc-four").hide();maxlength.attr("maxlength","3");}});},bindTPointInCheckout:function(){$(document).on("click",".pointsApplyButtonText",function(){if(window.utag){window.utag.link({'gaEventCategory':'Tpoints','gaEventAction':'Points Redeem Intent','gaEventLabel':undefined,'gaEventValue':undefined,'gaEventNonInteraction':false})}});},init:function(){if($("#singleCheckout").length!==0){ACC.track.checkout.bindCheckoutOption();ACC.track.checkout.bindTPointInCheckout();}}},confirmation:{transactionPush:function(){if(window["utag_data"]&&window["utag_data"]["order_id"]&&window["utag_data"]["page_type"]=="Order Confirmation Page Template"){try{var event_label=[];var transaction={site_id:window["utag_data"]["sitename"],order_id:window["utag_data"]["order_id"],order_total:window["utag_data"]["order_total"]||0,order_subtotal:window["utag_data"]["order_subtotal"]||0,order_tax:window["utag_data"]["order_tax"]||0,order_shipping:window["utag_data"]["order_shipping"]||0,order_discounts:window["utag_data"]["order_total_discounted"]||0,product_id:window["utag_data"]["product_id"].join(';'),product_name:window["utag_data"]["product_name"].join(';'),product_price:window["utag_data"]["product_unit_price"].join(';'),product_quantity:window["utag_data"]["product_quantity"].join(';')};for(var key in transaction){if(transaction.hasOwnProperty(key)){event_label.push(transaction[key]);}}
utag.link({"gaEventCategory":"ecommerce","gaEventAction":"transaction","gaEventLabel":event_label.join("|"),"gaEventValue":undefined,"gaEventNonInteraction":true});}catch(e){}}}},profile:{bindUnsuscribeNewsletter:function(){function pushit(){window.dataLayer.push({"event":"ga-event","gaEventCategory":"My Account Interactions","gaEventAction":"Newsletter","gaEventLabel":"Unsubscribed","gaEventValue":undefined,"gaEventNonInteraction":false});if(window.utag){window.utag.link({"gaEventCategory":"My Account Interactions","gaEventAction":"Newsletter","gaEventLabel":"Unsubscribed","gaEventValue":undefined,"gaEventNonInteraction":false})}}
var formus=$('#updateProfileForm');if(formus.length>0){var unsuscribe=false;$('#newsletter').on('click',function(){if($('#newsletter:checked').length===0){unsuscribe=true;}});$('#updateProfileForm').on('submit',function(){if(unsuscribe){pushit();}});}
var boutonus=$('#updateSubscribePanel .button');if(boutonus.length>0&&boutonus.attr('href').indexOf('subscribe=false')>-1){boutonus.on('click',pushit);}}},headerfooter:{topNavigationClicksTracking:function(){$("#main-menu >li >a").each(function(){var prevUl=0;var nextUl=0;var $mainMenu=$(this);var category="Top Navigation";var action=$mainMenu.html();var label="Main";ACC.track.addTrackAttributes($mainMenu,category,action,label);var subLabel="";var subSpan="";var navNodeName="";var navNodeAttr="";var lastLabel="";var index=0;$mainMenu.siblings("div.sub-menu-wrap").find("ul.sub-menu li").each(function(){var $subLi=$(this);var $subMenu=$subLi.find("a");var spanIndex=null;navNodeAttr="";index++;if($("div.navNodeChildContainerAsics").length>0){prevUl=$subLi.parents("ul.sub-menu").prevAll("ul.sub-menu").length;nextUl=$subLi.parents("ul.sub-menu").nextAll("ul.sub-menu").length-$subLi.parents("ul.sub-menu").nextAll(".mobile-only").length;navNodeName=$subMenu.parents("ul.sub-menu").find("h5.navNodeName").text();if(navNodeName==""||navNodeName==undefined){navNodeName="";}
navNodeName=navNodeName.replace("&nbsp;","").trim();if($subMenu.parents("ul.sub-menu").find("h5.navNodeName").attr("data-subSpan")){navNodeAttr=$subMenu.parents("ul.sub-menu").find("h5.navNodeName").attr("data-subSpan");spanIndex=$subMenu.parents("ul.sub-menu").find("h5.navNodeName").attr("data-subSpan-index");}
if($subLi.children("span").text()!=""&&$subLi.children("span").text()!=undefined){subSpan=$subLi.find("span").text();$subLi.parents("ul.sub-menu").find("h5.navNodeName").attr("data-subSpan",subSpan);$subLi.parents("ul.sub-menu").find("h5.navNodeName").attr("data-subSpan-index",index);}
if(navNodeName==""&&subSpan==""&&lastLabel==""){if(prevUl==0){subLabel="Highlights";}else if(nextUl==0){subLabel="Other";}}else if(navNodeAttr!=""&&spanIndex<index){subLabel=navNodeAttr;}else if(navNodeName!=""){subLabel=navNodeName;}else if(lastLabel!=""){subLabel=lastLabel;}
lastLabel=subLabel;}else{if($subLi.find("a img").length>0){subLabel=action;}else if($subLi.find("p a").html()!=undefined){subLabel=$subLi.find("p a").html();}else{subLabel=lastLabel;}
lastLabel=subLabel;}
var title=$subMenu.attr("title");if(title==""||title==undefined){title=subLabel;}
if(title.substr(0,5)=="<span"){title=$(title).text();}
ACC.track.addTrackAttributes($subMenu,category.toLowerCase(),action.toLowerCase(),(subLabel+" / "+title).toLowerCase());})})},footerNavigationClicksTracking:function(){var action="";$("div.tiger-clearfix-toggle").each(function(){var category="Footer Navigation";if($(this).find("h4").html()!=undefined&&$(this).find("h4").html()!=""){action=$(this).find("h4").html();}
var label="";$(this).find("ul.tiger-clearfix-ul li >a").each(function(){var $2=$(this);label=$2.attr("title");try{ACC.track.addTrackAttributes($2,category.toLowerCase(),((action.indexOf(":",this.length-1)!==-1)?action.substring(0,action.length-1):action).toLowerCase(),label.toLowerCase());}catch(e){console.log(e);}})})}},emailme:{emailMeEvent:function(){window.dataLayer.push({"event":"ga-event","gaEventCategory":"Product Detail Pages","gaEventAction":"Product Box","gaEventLabel":"Notify Me Submitted","gaEventValue":undefined,"gaEventNonInteraction":false});if(window.utag){window.utag.link({"gaEventCategory":"Product Detail Pages","gaEventAction":"Product Box","gaEventLabel":"Notify Me Submitted","gaEventValue":undefined,"gaEventNonInteraction":false})}}},productdetail:{addSizeGuideTrackingAttributes:function(){var sizeguide=$('.singleProduct').find('[href*=size-guide]');ACC.track.addTrackAttributes(sizeguide,"Product Detail Pages","Product Box","Size Guide");},addWidthGuideTrackingAttributes:function(){var widthguide=$('.singleProduct').find('[href*=width-guide]');ACC.track.addTrackAttributes(widthguide,"Product Detail Pages","Product Box","Width Guide");}},socialTracking:{bindSocialClick:function(){$(document).on("click","li.social a, ul.social-box.social-box-footer li a",function(e){e.preventDefault();var socialNetwork=this.innerHTML;var link=this.getAttribute("href");var target=this.getAttribute("target");window.dataLayer.push({'event':'social-interaction','socialNetwork':socialNetwork,'socialAction':'visit'});setTimeout(function(){window.open(link,target);},120);});}},productGrid:{bindProductClick:function(){$(document).on("click",".productMainLink",function(e){e.preventDefault();var link=this.getAttribute("href");var productName=this.getAttribute("data-product-name");var country=ACC.config.countryIsoCode;if(country=="jp"&&productName.match(/(pedala|giro|runwalk){1}.*/i))
{productName=productName+"_"+this.getAttribute("data-product-style");}
var productCode=this.getAttribute("data-product-code");var productPrice=this.getAttribute("data-product-price");var productStock=this.getAttribute("data-product-stock");var productGender=this.getAttribute("data-product-gender");var productStyle=this.getAttribute("data-product-style");var category=this.getAttribute("data-category");var categoryRef=this.getAttribute("data-category-reference");window.dataLayer.push({'event':'product-click','productId':productCode});if(window.utag){var productPosition=$(this).index(".productMainLink")+1;var merdier={"eec_action":"product_click","gaEventCategory":"ecommerce","gaEventAction":"product click","gaEventLabel":productName,"gaEventValue":undefined,"gaEventNonInteraction":false,"product_id":[productCode],"product_name":[productName],"product_brand":[ACC.config.currentBrandCode],"product_stock":[productStock],"product_unit_price":[productPrice],"product_style":[productStyle],"product_position":[productPosition],"product_action_list":[category],"product_gender":[productGender]};if(ACC.config.country==="US"&&ACC.config.currentBrandCode==="ASICS"){merdier.product_category=[categoryRef];}
window.utag.link(merdier);}
setTimeout(function(){window.location=link;},120);});},pushImpressions:function(jsonData,listName){if(window.dataLayer){var productImpressions=[];Array.prototype.forEach.call(jsonData.results,function(item,i){var merdier2={'gender':item.genderData.code,'price':item.price!==null?item.price.value:'','name':item.name,'style-code':item.styleNumber,'id':item.code,'stock':item.purchasable,'position':i+1};if(item.categoriesReference){merdier2.category=item.categoriesReference.replace(/\s/g,"/").toLowerCase();}
productImpressions.push(merdier2)});for(var i=0;i<productImpressions.length;i+=20){window.dataLayer.push({"event":"product-impression-dispatch","dispatchedProducts":productImpressions.slice(i,i+20)});}}
if(window.utag){var impression_id=[];var impression_name=[];var impression_gender=[];var impression_list=[];var impression_brand=[];var impression_price=[];var impression_position=[];var impression_stock=[];var impression_style=[];var impression_category=[];Array.prototype.forEach.call(jsonData.results,function(item,i){impression_id.push(item.code);impression_name.push(item.name);impression_price.push(item.price!==null?item.price.value:'');impression_list.push(listName);impression_gender.push(item.genderData.code);impression_brand.push(ACC.config.currentBrandCode);impression_stock.push(item.stock&&item.stock.stockLevelStatus&&item.stock.stockLevelStatus.codeLowerCase==='instock'?'yes':'no');impression_position.push(i+1);impression_style.push(item.styleNumber);if(item.categoriesReference&&(ACC.config.countryIsoCode==="US")&&ACC.config.currentBrandCode==="ASICS"){impression_category.push(item.categoriesReference.replace(/\s/g,"/").toLowerCase());}});for(i=0;i<productImpressions.length;i+=24){var merdier3={"gaEventCategory":"ecommerce","gaEventAction":"impressions","gaEventLabel":listName,"gaEventValue":undefined,"gaEventNonInteraction":true,"impression_id":impression_id.slice(i,i+24),"impression_name":impression_name.slice(i,i+24),"impression_price":impression_price.slice(i,i+24),"impression_list":impression_list.slice(i,i+24),"impression_gender":impression_gender.slice(i,i+24),"impression_brand":impression_brand.slice(i,i+24),"impression_position":impression_position.slice(i,i+24),"impression_stock":impression_stock.slice(i,i+24),"impression_style":impression_style.slice(i,i+24)};if(impression_category.length>0){merdier3.impression_category=impression_category.slice(i,i+24);}
window.utag.link(merdier3);}}}},search:{bindAutoSuggestClick:function(){$('.autosuggestion-link').on('click',function(e){e.preventDefault();var link=e.currentTarget;var name=link.getAttribute('data-name');var code=link.getAttribute('data-code');var searchTerm=link.getAttribute('data-search');window.dataLayer.push({"event":"ga-event","gaEventCategory":"Search Box Suggestions","gaEventAction":"Product","gaEventLabel":searchTerm+" : "+name+" | "+code+"","gaEventValue":undefined,"gaEventNonInteraction":false});if(window.utag){window.utag.link({"gaEventCategory":"Search Box Suggestions","gaEventAction":"Product","gaEventLabel":searchTerm+" : "+name+" | "+code+"","gaEventValue":undefined,"gaEventNonInteraction":false})}
window.location=e.target.getAttribute('href');})},pushAutoSuggestMore:function(searchTerm){window.dataLayer.push({"event":"ga-event","gaEventCategory":"Search Box Suggestions","gaEventAction":"More","gaEventLabel":searchTerm,"gaEventValue":undefined,"gaEventNonInteraction":false});if(window.utag){window.utag.link({"gaEventCategory":"Search Box Suggestions","gaEventAction":"More","gaEventLabel":searchTerm,"gaEventValue":undefined,"gaEventNonInteraction":false})}}},fourofour:function(){if($('.fourohfour').length>0){if(window.utag){window.utag.link({"gaEventCategory":"404 Error","gaEventAction":document.location.href,"gaEventLabel":document.referrer||"","gaEventNonInteraction":false})}}},certona:{pushInitial:function(products,trackingListId){window.dataLayer.push({"event":"product-impression-dispatch","list":trackingListId,"dispatchedProducts":products});},pushOnClick:function(trackingListId,productClicked){window.dataLayer.push({"event":"certona-product-click","ecommerce":{"click":{"actionField":{'list':trackingListId},"products":[{"id":productClicked.getAttribute("data-id"),"name":productClicked.getAttribute("data-name"),"position":productClicked.getAttribute("data-position"),"price":productClicked.getAttribute("data-price"),"markedDown":productClicked.getAttribute("data-is-markdown"),"gender":productClicked.getAttribute("data-gender")}]}}});}}};$(function(){ACC.track.cart.addFreeShippingAttributes();ACC.track.checkout.init();ACC.track.login.init();ACC.track.profile.bindUnsuscribeNewsletter();ACC.track.headerfooter.topNavigationClicksTracking();ACC.track.headerfooter.footerNavigationClicksTracking();ACC.track.productdetail.addSizeGuideTrackingAttributes();ACC.track.productdetail.addWidthGuideTrackingAttributes();ACC.track.socialTracking.bindSocialClick();ACC.track.productGrid.bindProductClick();ACC.track.fourofour();ACC.track.cart.trackRemoveFromCartWhenNoStock();});$(window).ready(function(){ACC.track.confirmation.transactionPush();});

ACC.minicart={$layer:$('#miniCartLayer'),bindMiniCart:function()
{$(document).on('mouseenter','.mini-cart',this.showMiniCart);$(document).on('mouseleave','.mini-cart',this.hideMiniCart);},showMiniCart:function()
{if(ACC.minicart.$layer.data("hover"))
{return;}
if(ACC.minicart.$layer.data("needRefresh")!=false){ACC.minicart.getMiniCartData(function(){ACC.minicart.$layer.data("hover",true);ACC.minicart.$layer.data("needRefresh",false);})}
ACC.minicart.$layer.data("hover",true);},hideMiniCart:function()
{ACC.minicart.$layer.fadeOut(function(){ACC.minicart.$layer.data("hover",false);});},getMiniCartData:function(callback)
{$.ajax({url:ACC.minicart.$layer.attr("data-rolloverPopupUrl"),cache:false,type:'GET',success:function(result)
{ACC.minicart.$layer.prev().find("#minicart-total").html($(result).find('div:first-child').html().trim());ACC.minicart.$layer.html($(result).find('div:last-child').html());ACC.minicart.bindMiniCartRemoveProduct();callback(result);}});},refreshMiniCartCount:function()
{$.ajax({handleAjaxRefresh:function(){if($(document).has("#addedToCartAjaxCompleted").length>0){$("#addedToCartAjaxCompleted").val("true");document.getElementsByClassName("prod-sizes")[0].style.pointerEvents='auto';$('#addToCartButton').removeAttr('disabled');}},dataType:"json",url:ACC.minicart.$layer.attr("data-refreshMiniCartUrl")+Math.floor(Math.random()*101)*(new Date().getTime()),success:function(data)
{$("#minicart-total").html(data.miniCartCount);ACC.minicart.$layer.data("needRefresh",true);this.handleAjaxRefresh();}});},bindMiniCartRemoveProduct:function(){$('.submitRemoveProduct').on("click",function()
{var prodid=$(this).attr('id').split("_")
var removeDiv=$('.popupCartItem .remove'+prodid[1]);var productCode=removeDiv.find('input[name=productCode]').val();var initialCartQuantity=removeDiv.find('input[name=initialQuantity]');ACC.track.cart.trackRemoveFromCart(productCode,initialCartQuantity.val());initialCartQuantity.val(0);$.ajax({url:ACC.minicart.$layer.attr("data-rolloverPopupUrl")+"/update",type:'POST',cache:false,data:{entryNumber:prodid[1]},success:function(result){ACC.minicart.$layer.prev().find("#minicart-total").html($(result).find('div:first-child').html());ACC.minicart.$layer.html($(result).find('div:last-child').html());ACC.minicart.refreshMiniCartCount();ACC.minicart.bindMiniCartRemoveProduct();},error:function(xht,textStatus,ex)
{alert("Failed to remove product from your cart. Error details ["+xht+", "+textStatus+", "+ex+"]");}});});}};$(document).ready(function()
{ACC.minicart.bindMiniCart();});

ACC.address={spinner:$("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif' />"),addressID:'',unRegisterParentDiv:$("#popup_confirm_unRegister").parent(),unRegisterHtml:$("#popup_confirm_unRegister").parent().html(),addressColorboxHtml:{},currentAddressForm:'',lockPageFlag:false,handleChangeAddressButtonClick:function()
{ACC.address.addressID=($(this).data("address"))?$(this).data("address"):'';$('#summaryDeliveryAddressFormContainer').show();$('#summaryOverlayViewAddressBook').show();$('#summaryDeliveryAddressBook').hide();$.getJSON(getDeliveryAddressesUrl,ACC.address.handleAddressDataLoad);return false;},handleAddressDataLoad:function(data)
{ACC.address.setupDeliveryAddressPopupForm(data);$.colorbox({inline:true,href:"#summaryDeliveryAddressOverlay",overlayClose:false,onOpen:function()
{ACC.address.emptyAddressForm();$(document).on('change','#saveAddress',function()
{var saveAddressChecked=$(this).prop('checked');$('#defaultAddress').prop('disabled',!saveAddressChecked);if(!saveAddressChecked)
{$('#defaultAddress').prop('checked',false);}});},onComplete:function()
{ACC.common.refreshScreenReaderBuffer();$.colorbox.resize();},onClosed:function()
{ACC.common.refreshScreenReaderBuffer();}});},setupDeliveryAddressPopupForm:function(data)
{$('#summaryDeliveryAddressBook').html($('#deliveryAddressesTemplate').tmpl({addresses:data}));$('#summaryDeliveryAddressBook button.use_address').click(ACC.address.handleSelectExistingAddressClick);$('#summaryDeliveryAddressBook button.edit').click(ACC.address.handleEditAddressClick);$('#summaryDeliveryAddressBook button.default').click(ACC.address.handleDefaultAddressClick);},emptyAddressForm:function()
{var options={url:getDeliveryAddressFormUrl,data:{addressId:ACC.address.addressID,createUpdateStatus:''},type:'GET',success:function(data)
{$('#summaryDeliveryAddressFormContainer').html(data);ACC.address.bindCreateUpdateAddressForm();}};$.ajax(options);},handleSelectExistingAddressClick:function()
{var addressId=$(this).attr('data-address');$.postJSON(setDeliveryAddressUrl,{addressId:addressId},ACC.address.handleSelectExitingAddressSuccess);return false;},handleEditAddressClick:function()
{$('#summaryDeliveryAddressFormContainer').show();$('#summaryOverlayViewAddressBook').show();$('#summaryDeliveryAddressBook').hide();var addressId=$(this).attr('data-address');var options={url:getDeliveryAddressFormUrl,data:{addressId:addressId,createUpdateStatus:''},target:'#summaryDeliveryAddressFormContainer',type:'GET',success:function(data)
{ACC.address.bindCreateUpdateAddressForm();$.colorbox.resize();},error:function(xht,textStatus,ex)
{alert("Failed to update cart. Error details ["+xht+", "+textStatus+", "+ex+"]");}};$(this).ajaxSubmit(options);return false;},handleDefaultAddressClick:function()
{var addressId=$(this).attr('data-address');var options={url:setDefaultAddressUrl,data:{addressId:addressId},type:'GET',success:function(data)
{ACC.address.setupDeliveryAddressPopupForm(data);},error:function(xht,textStatus,ex)
{alert("Failed to update address book. Error details ["+xht+", "+textStatus+", "+ex+"]");}};$(this).ajaxSubmit(options);return false;},handleSelectExitingAddressSuccess:function(data)
{if(data!=null)
{ACC.refresh.refreshPage(data);parent.$.colorbox.close();}
else
{alert("Failed to set delivery address");}},bindCreateUpdateAddressForm:function()
{$('.create_update_address_form').each(function()
{var options={type:'POST',beforeSubmit:function()
{$('#checkout_delivery_address').block({message:ACC.address.spinner});},success:function(data)
{$('#summaryDeliveryAddressFormContainer').html(data);var status=$('.create_update_address_id').attr('status');if(status!=null&&"success"===status.toLowerCase())
{ACC.refresh.getCheckoutCartDataAndRefreshPage();parent.$.colorbox.close();}
else
{ACC.address.bindCreateUpdateAddressForm();$.colorbox.resize();}},error:function(xht,textStatus,ex)
{alert("Failed to update cart. Error details ["+xht+", "+textStatus+", "+ex+"]");},complete:function()
{$('#checkout_delivery_address').unblock();}};$(this).ajaxForm(options);});},refreshDeliveryAddressSection:function(data)
{$('.summaryDeliveryAddress').replaceWith($('#deliveryAddressSummaryTemplate').tmpl(data));},bindSuggestedDeliveryAddresses:function()
{var status=$('.add_edit_delivery_address_id').attr('status');if(status!=null&&"hasSuggestedAddresses"==status)
{ACC.address.showSuggestedAddressesPopup();}},showSuggestedAddressesPopup:function()
{$.colorbox({inline:true,height:false,width:525,href:"#popup_suggested_delivery_addresses",overlayClose:false,onComplete:function()
{$(this).colorbox.resize();}});},bindCountrySpecificAddressForms:function()
{$('#countrySelector :input').on("change",function()
{var options={'addressCode':'','countryIsoCode':$(this).val()};ACC.address.displayCountrySpecificAddressForm(options,ACC.address.showAddressFormButtonPanel);})},showAddressFormButtonPanel:function()
{if($('#countrySelector :input').val()!=='')
{$('#addressform_button_panel').show();}},bindToColorboxClose:function()
{$(document).on("click",".closeColorBox",function()
{$.colorbox.close();ACC.address.unRegisterParentDiv.empty();ACC.address.unRegisterParentDiv.append(ACC.address.unRegisterHtml);});$(document).on("click","#cboxClose",function()
{ACC.address.unRegisterParentDiv.empty();ACC.address.unRegisterParentDiv.append(ACC.address.unRegisterHtml);});},displayCountrySpecificAddressForm:function(options,callback)
{$.ajax({url:ACC.config.encodedContextPath+'/my-account/addressform',async:true,data:options,dataType:"html",beforeSend:function()
{$("#i18nAddressForm").html(ACC.address.spinner);}}).done(function(data)
{$("#i18nAddressForm").html($(data).html());if(typeof callback=='function')
{callback.call();}});},bindToChangeAddressButton:function()
{$(document).on("click",'.summaryDeliveryAddress .editButton',ACC.address.handleChangeAddressButtonClick);},bindViewAddressBook:function()
{$(document).on("click",'#summaryOverlayViewAddressBook',function()
{$('#summaryDeliveryAddressFormContainer').hide();$('#summaryOverlayViewAddressBook').hide();$('#summaryDeliveryAddressBook').show();$.colorbox.resize();});},saveAddressList:function(formSelector){var $form=$(formSelector);var $changeAddress=$form.find('.change-address');if($changeAddress.is(':visible')){ACC.address.validatedAddr=null;ACC.address.enteredAddr=null;var $verifiedAdressList=$form.find('.verifiedAdressList');var $enteredAdressList=$form.find('.enteredAdressList');if($verifiedAdressList.html()!=""&&$verifiedAdressList.is(':visible')){ACC.address.validatedAddr=ACC.address.getAddressList($verifiedAdressList);}
if($enteredAdressList.html()!=""&&$enteredAdressList.is(':visible')){ACC.address.enteredAddr=ACC.address.getAddressList($enteredAdressList);}}},getAddressList:function($addr){var addr={line1:$addr.find('.addr-addressline').text(),line2:$addr.find('.addr-addressline2').text(),townCity:$addr.find('.addr-locality').text(),region:$addr.find('.addr-state').text(),postCode:$addr.find('.addr-postcode').text(),isChecked:$addr.next().find('input[name="address-radio-btn"]').is(':checked')};return addr;},fillAddressList:function(formSelector){var $form=$(formSelector);var $verifiedAdressList=$form.find('.verifiedAdressList');var $enteredAdressList=$form.find('.enteredAdressList');if(ACC.address.validatedAddr){$verifiedAdressList.html(ACC.address.getAddressListContent(ACC.address.validatedAddr));$verifiedAdressList.parents('.addr-wrap').show();}
if(ACC.address.enteredAddr){$enteredAdressList.html(ACC.address.getAddressListContent(ACC.address.enteredAddr));$enteredAdressList.parents('.addr-wrap').show();}
if(ACC.address.validatedAddr&&ACC.address.enteredAddr){$verifiedAdressList.parents('.addr-wrap').find('input[type="radio"]').attr('checked',ACC.address.validatedAddr.isChecked);$enteredAdressList.parents('.addr-wrap').find('input[type="radio"]').attr('checked',ACC.address.enteredAddr.isChecked);if(asicsToolkit.isDesktopDevice()){ACC.common.alignAddressRadiobtn($form);}}else{$form.find('.addr-wrap .address-radio-wrap').hide()}
$form.find('label[for="address\.fuzzyAddress_del"], .fuzzyAddress').hide();$form.find('.change-address').show();},getAddressListContent:function(addr){var adressList='<div class="addr-addressline">'+addr.line1+'</div>'+'<div class="addr-addressline2">'+addr.line2+'</div>'+'<div class="addr-locality">'+addr.townCity+'</div>'+'<div><span class="addr-postcode">'+addr.postCode+'</span><span class="addr-state">'+addr.region+'</span></div>';return adressList;},validateDeliveryAddress:function(){var deliveryAddressForm=$("#deliveryAddressForm");if(deliveryAddressForm.length>0&&ACC.address.isAddressComplete(deliveryAddressForm)&&deliveryAddressForm.closest(".page-singleStepCheckoutSummaryPage").length>0){ACC.address.saveAddressList('#deliveryAddressForm');ACC.address.singleCheckoutAddNewDeliveryAddressFormSubmit();}},bindValidateDeliveryAddress:function(){$(document).on('change','#deliveryAddressForm :input[name!=searchTerm]',function(){ACC.address.validateDeliveryAddress();});},bindSingleCheckoutDeliveryAddress:function(){function validateUserInput(inputElement,regExpPattern){if((regExpPattern).test($(inputElement).val())){var start=inputElement.selectionStart;var end=inputElement.selectionEnd;$(inputElement).val($(inputElement).val().replace(regExpPattern,''));if(start){inputElement.setSelectionRange(start-1,end-1);}}}
$("input[name='townCity']").on('keydown keypress keyup input',function(){if($("#countrycode").val().toUpperCase()==="AU"){validateUserInput(this,/[^A-Za-z\s]/g);}});$("input[name='postcode']").on('keydown keypress keyup input',function(){if($("#countrycode").val().toUpperCase()==="AU"){validateUserInput(this,/[^\d]/g);}else if($("#countrycode").val().toUpperCase()==="US"){validateUserInput(this,/[^\d\-]/g);}});$("input[name='phone']").on('keydown keypress keyup input',function(){validateUserInput(this,/[^\d]/g);});$("input[name='digiCode']").on('keydown keypress keyup input',function(){validateUserInput(this,/[^\w]/g);});},bindSingleCheckoutEvent:function(){$('.single .select_address_form .delivery_address_item input[name="delivery_address"]').each(function(){$(this).change(function(){$('.single .select_address_form input[name="delivery_address"]').attr("disabled","disabled");$('.addNewDeliveryAddressForm').hide();var selectedAddressId=$(this).attr('id');var usingDeliveryAddress=$('div.usingDeliveryAddress input[name="usingDeliveryAddress"]').prop('checked');if(!usingDeliveryAddress)
{usingDeliveryAddress=true;}
ACC.address.singleCheckoutSelectDeliveryAddressSubmit(selectedAddressId,usingDeliveryAddress);ACC.checkout.checkFreePaymentOption();})});$(document).on('change','#billingAddressForm :input[name!=searchTerm]',function(){var addNewAddressForm=$('#billingAddressForm');if(ACC.address.isAddressComplete(addNewAddressForm)){ACC.address.singleCheckoutAddNewBillingAddressFormSubmit();}});$('.addNewDeliveryAddressPanel button').click(function(){$('#savedAddressListHolder').hide();$('.addNewDeliveryAddressPanel').hide();$('.addNewDeliveryAddressForm').show();$('.selectDeliveryAddressPanel').show();var addressId=$(".addNewDeliveryAddressForm input[name='addressId']").val();var usingDeliveryAddress=$(".addNewDeliveryAddressForm input[name='billingAddress']").val();if(!ACC.address.isEmpty(addressId)){ACC.address.singleCheckoutSelectDeliveryAddressSubmit(addressId,usingDeliveryAddress);}
ACC.address.checkDeliveryRestriction();});$('.selectDeliveryAddressPanel button').click(function(){$('.addNewDeliveryAddressForm').hide();$('.selectDeliveryAddressPanel').hide();$('#savedAddressListHolder').show();$('.addNewDeliveryAddressPanel').show();var selectedAddressId=$(".select_address_form .delivery_address_item").find("span[class='checked']").find("input[name='delivery_address']").val();var usingDeliveryAddress=$('div.usingDeliveryAddress input[name="usingDeliveryAddress"]').prop('checked');if(!ACC.address.isEmpty(selectedAddressId)){ACC.address.singleCheckoutSelectDeliveryAddressSubmit(selectedAddressId,ACC.address.isEmpty(usingDeliveryAddress)?true:false);}
ACC.address.checkDeliveryRestriction();});},bindSelectDeliveryMode:function(){$('#select_deliveryModel_form').change(function(e){if(e.target.name=='ups_point')return;if(e.target.id=='postal-code')return;if(e.target.id!='ups-locator-map')
{$("#access-point-content").addClass("hide");}
$(".reviewInfoSection").html('<div class="loading-ajax">&nbsp;</div>');var selectDeliveryModeForm=$('.select_deliveryModel_form');var selectDeliveryModeFormUrl=selectDeliveryModeForm.attr('action');var data=$('#select_deliveryModel_form').serialize();$("#select_deliveryModel_form input[name=delivery_method]").attr("disabled","disabled");$('#loading-mask').show();$.ajax({url:selectDeliveryModeFormUrl,data:data,type:'POST',success:function(data){if(typeof(data)==='string'&&data.indexOf("redirect_detection")!=-1){window.location.href=ACC.config.encodedContextPath+"/login/checkout";}else{$(".reviewInfoSection").html(data);if(document.getElementById('addPaymentForm2'))
{$('#transaction_uuid').val($('#transaction_uuid1').val());$('#signed_date_time').val($('#signed_date_time1').val());$('#signature').val($('#signature1').val());$('#amount').val($('#amount1').val());$('#tax_amount').val($('#tax_amount1').val());}
ACC.checkout.checkFreePaymentOption();}
$("#select_deliveryModel_form input[name=delivery_method]").removeAttr("disabled");},complete:function()
{$('#loading-mask').hide();if(e.target.id=='ups-locator-map'){ACC.checkoutups.upsLabelClick();}},error:function(xht,textStatus,ex)
{alert("Failed to set delivery mthos. Error details ["+xht+", "+textStatus+", "+ex+"]");$('.single .select_address_form input[name="delivery_address"]').removeAttr("disabled");}})});},singleCheckoutAddNewBillingAddressFormSubmit:function(){var addNewAddressForm=$('#billingAddressForm');ACC.address.currentAddressForm='billingAddressForm';var options={type:'POST',async:false,success:function(data)
{ACC.address.singleCheckoutUpdatePaymentAndReviewSection(data);},error:function(xht,textStatus,ex)
{alert("Failed to add billing address. Error details ["+xht+", "+textStatus+", "+ex+"]");}};addNewAddressForm.ajaxSubmit(options);},singleCheckoutSelectDeliveryAddressSubmit:function(selectedAddressId,usingDeliveryAddress){$("#reviewInfoSection").html('<div class="loading-ajax">&nbsp;</div>');var selectDeliveryAddressFormUrl=$('.single .select_address_form').attr('action');ACC.address.currentAddressForm='deliveryAddressForm';$.ajax({url:selectDeliveryAddressFormUrl,data:{addressId:selectedAddressId,billingAddress:usingDeliveryAddress},type:'POST',success:function(data){ACC.address.singleCheckoutUpdatePaymentAndReviewSection(data);$('.single .select_address_form input[name="delivery_address"]').removeAttr("disabled");},error:function(xht,textStatus,ex)
{alert("Failed to set delivery address. Error details ["+xht+", "+textStatus+", "+ex+"]");$('.single .select_address_form input[name="delivery_address"]').removeAttr("disabled");}})},singleCheckoutAddNewDeliveryAddressFormSubmit:function(){ACC.address.lockPageFlag=true;var addNewAddressForm=$('#deliveryAddressForm');var usingDeliveryAddressCheckBox=$('div.usingDeliveryAddress input[id="usingDeliveryAddress"]').get(0);var isUsingDeliveryAddress=ACC.address.isEmpty(usingDeliveryAddressCheckBox)?'false':usingDeliveryAddressCheckBox.checked;$("#deliveryAddressForm input[name='billingAddress']").val(isUsingDeliveryAddress);$('button.place-order').attr('disabled','disabled');var addNewAddressFormData=addNewAddressForm.serialize();var $deliveryAddressFormInput=addNewAddressForm.find(':input[name!=searchTerm]');$deliveryAddressFormInput.prop('disabled',true);$('#loading-mask').show();ACC.address.currentAddressForm='deliveryAddressForm';var options={url:addNewAddressForm.attr("action"),type:'POST',data:addNewAddressFormData,success:function(data)
{ACC.address.lockPageFlag=false;ACC.address.singleCheckoutUpdatePaymentAndReviewSection(data);ACC.checkout.checkFreePaymentOption();},error:function(xht,textStatus,ex)
{ACC.address.lockPageFlag=false;$('#loading-mask').hide();alert("Failed to add delivery address. Error details ["+xht+", "+textStatus+", "+ex+"]");},complete:function(){$deliveryAddressFormInput.prop('disabled',false);}};$.ajax(options);},singleCheckoutUpdatePaymentAndReviewSection:function(data){if(typeof(data)==='string'&&data.indexOf("redirect_detection")!=-1){window.location.href=ACC.config.encodedContextPath+"/login/checkout";}else{if('true'===data.needUpdate){var paymentSection=data.paymentBillingAddressLayer;var orderReviewSection=data.orderReviewLayer;if(!ACC.address.isEmpty(data.deliveryMode)){$(".selectdeliveyMethodSection").html(data.deliveryMode);ACC.address.bindSelectDeliveryMode();var isUPSLabelChecked=$('#ups-locator-map').is(':checked');if(isUPSLabelChecked){ACC.checkoutups.upsLabelClick();}}
if(!ACC.address.isEmpty(paymentSection)){var deliveryAddressSection=$(paymentSection).find('.payment_deliveryAddress_section');$("#checkout_billing_details_add .payment_deliveryAddress_section").replaceWith(deliveryAddressSection);var paypalDeliveryAddressSection=$(paymentSection).find('#paypal_payment_address');$("#paypal_payment_address").replaceWith(paypalDeliveryAddressSection);ACC.checkout.bindPaymentMethod();ACC.checkout.switchPaymentType();}
var paymentMethodSection=data.paymentMethods;var paymentMethodInfoSection=data.paymentMethodInfo;if(!ACC.address.isEmpty(paymentMethodSection))
{$("#payment_method_form .p_method_paypal_express").replaceWith($(paymentMethodSection).find(".p_method_paypal_express"));ACC.checkout.initAebCheckedPaymenMethod();}
if(!ACC.address.isEmpty(paymentMethodInfoSection))
{$("#payment_method_information").replaceWith($(paymentMethodInfoSection));ACC.checkout.bindPaymentMethod();ACC.checkout.switchPaymentType();TIGER.ajputil.rakutenButtonBind();ACC.checkout.bindRakutenSubmit();}
if(!ACC.address.isEmpty(orderReviewSection)){$(".itemsToBuySummary,.summaryBigTotal").html(data.orderReviewLayer);}
if(!ACC.address.isEmpty(data.loyaltyPointsLayer)){$(".loyaltyPointSection").html(data.loyaltyPointsLayer);ACC.checkout.setLoyaltyPointsValues();}
if(data.infoMessage){$('#globalMessages').append(data.infoMessage);}else{$('#globalMessages .infoMessage').html("");}}
var deliveryAddressFormSection=data.deliveryAddressFormLayer;if(!ACC.address.isEmpty(deliveryAddressFormSection)){var addressLabel=$("#deliveryAddressForm .addressLabel").html();var invalidAddressLabel=$(".message.field_error").html();var showInvalidAddressLabel=$(".message.field_error").is(':visible');$("#deliveryAddressForm").replaceWith(deliveryAddressFormSection);$("#deliveryAddressForm .addressLabel").html(addressLabel);$(".message.field_error").html(invalidAddressLabel);if(data.invalidPostcodeOrCountry){$(".message.field_error").show();$("input[name='postcode']").addClass("noShippingPostCodeFieldEntered");}else{$("input[name='postcode']").removeClass("noShippingPostCodeFieldEntered");}
ACC.address.bindSingleCheckoutDeliveryAddress();ACC.checkout.bindUsingDeliveryAddress();ACC.address.bindPostcodeAnyWhere();ACC.address.bindManualEditAddressButton();if($("html").attr("data-region")=="aop"){ACC.address.fillAddressList('#deliveryAddressForm');ACC.checkout.bindFuzzyAddressSearch();if(!$('.addr-wrap.verified').is(':visible')){$('.addr-wrap.entered').removeClass('col-sm-6').addClass('col-sm-12');}}}
$('#globalMessages').html("");if(data.infoMessage){$('#globalMessages').append(data.infoMessage);}
if(data.errorMessage){$('#globalMessages').append(data.errorMessage);$('#globalMessages').find("div.alert").each(function(){if($(this).html()!=undefined&&$(this).html()!=""){var action="";action=$(this).html().trim();$.validator.pushErrorToDataLayer(ACC.address.currentAddressForm,"globalMessages",action);}});$(window).scrollTop(0);}else{var usingDeliveryAddress=$('div.usingDeliveryAddress input[name="usingDeliveryAddress"]').prop('checked');var $firstName=$("input[name='firstName']");var $lastName=$("input[name='lastName']");var $nameOnCard=$("input[name='nameOnCard']");if($.trim($nameOnCard.val()).length<=0){if($firstName.length==2&&$($lastName.get(1)).val().length>0)
{var billingName=$($firstName.get(1)).val()+" "+$($lastName.get(1)).val();if($.trim(billingName))
{$nameOnCard.val(billingName);}}
else
{var shippingName=$firstName.val()+" "+$lastName.val();if($.trim(shippingName))
{$nameOnCard.val(shippingName);}}}
if(!usingDeliveryAddress){var shippingName=$firstName.val()+" "+$lastName.val();var billingName=$($firstName.get(1)).val()+" "+$($lastName.get(1)).val();if(shippingName!=billingName)
{$nameOnCard.val(billingName);}
else
{if($.trim(shippingName))
{$nameOnCard.val(shippingName);}}}}
ACC.address.checkDeliveryRestriction();$('button.place-order').removeAttr('disabled');$('#loading-mask').hide();}},checkDeliveryRestriction:function(){if($('.selectdeliveyMethodSection input').not('#access-point-content input').not('[data-restrictions=""]').length===0){return true;}
function updateShippingMethod(selectedStateCode){var input=$('.selectdeliveyMethodSection input');input.attr('disabled',false);$('.selectdeliveyMethodSection li').removeClass('unavailable');var shippingChanged=false;if(selectedStateCode!==""){$.each(input,function(index,value){var $method=$(value);var restrictions=$method.data("restrictions");if(restrictions.indexOf(selectedStateCode)>-1||(restrictions!==""&&selectedStateCode==="POBOX")){$method.attr('disabled',true);$method.closest('li').addClass('unavailable');if($method.attr('checked')){$.each(input,function(index,value){var $t=$(value);if(!$t.attr('disabled')){$t.trigger('click');return false;}});shippingChanged=true;}}});}
return!shippingChanged;}
var selectedStateCode="";var $savedAddressList=$("#savedAddressList:visible").find('input:checked');if($savedAddressList.length>0){selectedStateCode=$savedAddressList.closest('li').data('state-code');}else{var $selectedState=$("#deliveryAddressForm:visible").find("select[name=regionIso] option:enabled:selected");if($selectedState.length>0){selectedStateCode=$selectedState.attr('value').split("-")[1];if(/PO\s?BOX/gi.test($("#address\\.line1_del").val())){selectedStateCode="POBOX";}}}
if(selectedStateCode!==""){return updateShippingMethod(selectedStateCode);}else{return false;}},isEmpty:function(obj)
{if(typeof obj=='undefined'||obj===null||obj===''||obj.length==0)return true;return false;},isAddressComplete:function(addressform){var completed=true;var addressLabel=addressform.find('.address [name="line1"]').val();if(addressLabel!=""||addressform.find('.address').css('display')!='none'){addressform.find('.aeb-search-address').removeClass('required');addressform.find('.aeb-search-address').removeClass('error');addressform.find('#searchTerm-error').html('');}else{addressform.find('.aeb-search-address').val('').addClass('required');}
var elements=addressform.get(0).elements;for(var i=0;i<elements.length;i++){if($(elements[i]).hasClass("required")&&$(elements[i]).attr("name")!="fuzzyAddress"){completed=completed&!ACC.address.isEmpty($(elements[i]).val());}
if($(elements[i]).hasClass("fuzzyAddress")&&$(elements[i]).is(":visible")){return false;}
if($(elements[i]).hasClass("verifyAddress")&&$(elements[i]).is(":visible")){return false;}}
return completed;},bindPostcodeAnyWhere:function(){if(ACC.postcodeAnywhere!=null){var searchContext="";var key=ACC.postcodeAnywhere.apiKey;var searchInputs=$("input[name='searchTerm']");$.each(searchInputs,function(index,value){var appendLi=$(value).parent().next();$(value).autocomplete({appendTo:appendLi,source:function(request,response){var term=request.term.toLowerCase();var country=$(value).parent().parent().find("[name='countryIso']").val();$.ajax({url:ACC.postcodeAnywhere.findUrl,dataType:"jsonp",data:{key:key,country:country,searchTerm:request.term,lastId:searchContext,culture:ACC.postcodeAnywhere.language,Top:500},success:function(data){if(data&&data.Items.length==0){var autoEmptyResult=[];var noResulttext=$("li.postcode_anywhere_search p.no_results").html();autoEmptyResult.push({label:noResulttext,value:"",data:noResulttext});response(autoEmptyResult);}else{response($.map(data.Items,function(suggestion){return{label:suggestion.Text,value:"",data:suggestion}}));}}});},select:function(event,ui){var item=ui.item.data
if(item.Next=="Retrieve"){retrieveAddress(item.Id,this);}else{var field=$(this);searchContext=item.Id;window.setTimeout(function(){field.autocomplete("search",item.Id);});}},autoFocus:true,minLength:1,delay:100}).focus(function(){searchContext="";});});function retrieveAddress(id,form){$.ajax({url:ACC.postcodeAnywhere.retrieveUrl,dataType:"jsonp",data:{key:key,id:id},success:function(data){if(data.Items.length){var address=data.Items[0];if(ACC.postcodeAnywhere.postcodeFilter){var regex;for(var i=0;i<ACC.postcodeAnywhere.postcodeFilter.length;i++){regex=new RegExp('^'+ACC.postcodeAnywhere.postcodeFilter[i]);if(regex.test(address.PostalCode)){address.noShippingArea=true;break;}};}
populateAddress(data.Items[0],form);updateAddressForm(data.Items[0],form);}}});}}
$(".postcode_anywhere .country, .common_address #address\\.country_del, .card_address #address\\.country_del").each(function(){$(this).on("change",function(){resetPCAAddressForm($(this).parent());});})
function populateAddress(address,form){$(form.form).find(".addressLabel").html(address.Label.replace(/\\n/g,'<br/>'));if(address.noShippingArea){$(form.form).find(".field_error").show();}else{$(form.form).find(".field_error").hide();}}
function updateAddressForm(address,form){address.PostalCode=address.PostalCode.replace(/\s/g,'');var addressForm=$(form.form);var formInputs=addressForm.find('li.address');formInputs.find('input[name=\'line1\']').val(address.Company||address.Line1);formInputs.find('input[name=\'line2\']').val((address.Line2||(address.Company?address.Line1:'')).concat(' ').concat(address.Line3));formInputs.find('input[name=\'townCity\']').val(address.City);formInputs.find('input[name=\'postcode\']').val(address.PostalCode);if(formInputs.find('input[name=\'county\']').length){formInputs.find('input[name=\'county\']').val(address.Province);}
if(!ACC.address.isEmpty(addressForm)){if(ACC.address.isAddressComplete(addressForm)){var formId=addressForm.attr('id');if(formId=='deliveryAddressForm'){ACC.address.singleCheckoutAddNewDeliveryAddressFormSubmit();}else if(formId=='billingAddressForm'){ACC.address.singleCheckoutAddNewBillingAddressFormSubmit();}}}}
function resetPCAAddressForm(pcaSection){pcaSection.find(".addressLabel").html("");var formInputs=pcaSection.find('li.address');formInputs.find('input[name=\'line1\']').val("");formInputs.find('input[name=\'line2\']').val("");formInputs.find('input[name=\'townCity\']').val("");formInputs.find('input[name=\'postcode\']').val("");formInputs.find('input[name=\'county\']').val("");}},bindManualEditAddressButton:function(){$(".manual_edit_address").click(function(e){var form=$(e.target).closest('form');var address=form.find('li.address');address.show();})},bindUsingDeliveryAddressCheckbox:function(){$('div.usingDeliveryAddress input[id="usingDeliveryAddress"]').change(function(){if($("html").attr("data-region")=="ajp"){$('#loading-mask').show();}
if(this.checked)
{var shippingName=$("input[name='firstName']").val()+" "+$("input[name='lastName']").val();if($.trim(shippingName))
{$("input[name='nameOnCard']").val(shippingName);}}
else
{var billingName=$($("input[name='firstName']").get(1)).val()+" "+$($("input[name='lastName']").get(1)).val();if($.trim(billingName))
{$("input[name='nameOnCard']").val(billingName);}}
$('#billing_address_section').toggle();$.ajax({url:ACC.config.encodedContextPath+"/checkout/single/summary/usingBillingAddress",data:{useDeliveryAddress:this.checked},type:"POST",async:false,success:function(data){var paymentSection=data.paymentBillingAddressLayer;if(!ACC.address.isEmpty(paymentSection)){var deliveryAddressSection=$(paymentSection).find('.payment_deliveryAddress_section');$("#checkout_billing_details_add .payment_deliveryAddress_section").replaceWith(deliveryAddressSection);}},error:function(xht,textStatus,ex)
{alert("Failed to updating billing address. Error details ["+xht+", "+textStatus+", "+ex+"]");}});if($("html").attr("data-region")=="ajp"){$('#loading-mask').hide();}});},bindvalidatePostCodeAnywhere:function(){$(document).on("click",'li.ui-menu-item a.ui-corner-all',function(e)
{var form=$(e.target).closest('form');form.find('.aeb-search-address').removeClass('required');});$(document).on("click",'li.manual_edit_address',function(e)
{var form=$(e.target).closest('form');var searchItem=form.find('.aeb-search-address');searchItem.removeClass('required');searchItem.removeClass('error');form.find('#searchTerm-error').html('');});},fixAddressColorbox:function(){$(document).on("click",".removeAddressButton",function()
{var addressId=$(this).data("addressId");var tempDiv;if($("#popup_confirm_address_removal_"+addressId).length>0){tempDiv=$("#popup_confirm_address_removal_"+addressId).parent();if(ACC.address.addressColorboxHtml[addressId]==null){ACC.address.addressColorboxHtml[addressId]=tempDiv.html();}}else{tempDiv=$(".parent_"+addressId).empty().html(ACC.address.addressColorboxHtml[addressId]);}
$.colorbox({inline:true,height:false,href:"#popup_confirm_address_removal_"+addressId,onComplete:function()
{$(this).colorbox.resize();}});})}}
$(document).ready(function()
{with(ACC.address)
{bindToChangeAddressButton();bindCreateUpdateAddressForm();bindSuggestedDeliveryAddresses();bindCountrySpecificAddressForms();showAddressFormButtonPanel();bindViewAddressBook();bindToColorboxClose();bindValidateDeliveryAddress();bindSingleCheckoutDeliveryAddress();bindSingleCheckoutEvent();bindPostcodeAnyWhere();bindManualEditAddressButton();bindUsingDeliveryAddressCheckbox();bindvalidatePostCodeAnywhere();checkDeliveryRestriction();fixAddressColorbox();bindSelectDeliveryMode();}});

ACC.profile={bindDatepicker:function(){$('.datepicker').datepicker($.datepicker.regional[ACC.config.countryIsoCode]);}};$(document).ready(function(){ACC.profile.bindDatepicker();});

ACC.forgotpassword={bindAll:function()
{this.bindForgotPasswordLink($('.password-forgotten'));},bindForgotPasswordLink:function(link)
{link.click(function()
{$.get(link.data('url')).done(function(data){$.colorbox({html:data,width:600,height:false,overlayClose:false,onOpen:function()
{$('#validEmail').remove();},onComplete:function()
{var forgottenPwdForm=$('#forgottenPwdForm');forgottenPwdForm.ajaxForm({success:function(data)
{if($(data).closest('#validEmail').length)
{if($('#validEmail').length===0)
{$('#globalMessages').html(data);}
setTimeout("$.colorbox.close();",5000);}
else
{if($(data).closest('#emailNotFind').length)
{$("#cboxLoadedContent #globalMessages").html($(data).closest('#emailNotFind'));}
$("#forgottenPwdForm .control-label").replaceWith($(data).find('.control-label'));$.colorbox.resize();}}});ACC.common.refreshScreenReaderBuffer();ACC.forgotpassword.bindSubmit();ACC.track.login.bindForgotPassword();},onClosed:function()
{ACC.common.refreshScreenReaderBuffer();}});});});},bindSubmit:function(){$("#forgottenPwdForm [type='submit']").on('click',function(event){var email=$("#forgottenPwdForm [name='email']").val();var patten=new RegExp(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]+$/);if(email==""){$("#forgottenPwdForm [name='email']").addClass("error");$(".email-empty-error").html($.validator.messages.required);event.preventDefault();return;}
var valid=patten.test(email);if(!valid){$("#forgottenPwdForm [name='email']").addClass("error");$(".email-empty-error").html($.validator.messages.email);event.preventDefault();return;}
$("#forgottenPwdForm [name='email']").removeClass("error");$(".email-empty-error").html("");});}};$(document).ready(function()
{ACC.forgotpassword.bindAll();});

ACC.stars={bindStarsWrapperRadioButtons:function(radioButtons)
{var length=radioButtons.length;radioButtons.change(function(){for(var btnNo=1;btnNo<=length;btnNo++)
{var ratingId='#rating'+btnNo;if(btnNo<=$(this).val())
{$(ratingId).prev().removeClass('no_star');}
else
{$(ratingId).prev().addClass('no_star');}
$(ratingId).prev().removeClass('selected');}
$(this).prev().addClass('selected');});},bindStarsWrapperRadioButtonsFirstTimeFocus:function(radioButtons)
{radioButtons.one('focus',function(){$(this).trigger('change');});},initialize:function()
{this.bindStarsWrapperRadioButtons($('#stars-wrapper input'));this.bindStarsWrapperRadioButtonsFirstTimeFocus($('#stars-wrapper input'));}}
$(document).ready(function(){ACC.stars.initialize();});

ACC.autocomplete={asicsToolkit:asicsToolkit||new AsicsToolkit(),bindAll:function(){function isAsics(){return $("html[data-brand='asics']").length>0;}
if(isAsics()){this.bindSearchAutocomplete("#searchBoxMobileContainer [id|='search-component']","#searchBoxMobileContainer .siteSearch");this.bindSearchAutocomplete(".top-bar [id|='search-component']",".siteSearch");}else{this.bindSearchAutocomplete(".top-bar [id|='search-component']",".siteSearch");}
this.moreButtonClick();},moreButtonClick:function(){$(".more_button").on("click",function(e){ACC.track.search.pushAutoSuggestMore($("[id|='search-component']").val());var mainSearchUrl=window.location.origin+$(".searchboxcomponent_search_form").attr("action");window.location.href=mainSearchUrl+"?text="+$("[id|='search-component']").val();});if(asicsToolkit.isMobileDevice()){$(".ui-autocomplete").on("touchstart",function(e){document.activeElement.blur();});}},bindSearchAutocomplete:function(search,appendTo){$search=$(search);if(!$search.length){return;}
var option=$search.data("options");var cache={};var moreButton=$(".autocomplete_more_button").eq(0);$search.autocomplete({minLength:option.minCharactersBeforeRequest,delay:option.waitTimeBeforeRequest,appendTo:appendTo,source:function(request,response){var term=request.term.toLowerCase();if(term in cache){return response(cache[term]);}
$.getJSON(option.autocompleteUrl,{term:request.term},function(data){var autoSearchData=[];if(data.suggestions!=null){$.each(data.suggestions,function(i,obj){autoSearchData.push({value:obj.term,url:ACC.config.encodedContextPath+"/search?text="+obj.term,type:"autoSuggestion"});});}
if(data.products!=null){$.each(data.products,function(i,obj){autoSearchData.push({value:obj.name,code:obj.code,desc:obj.description,manufacturer:obj.manufacturer,url:ACC.config.encodedContextPath+obj.url,price:obj.price==null?"":obj.price.formattedValue,type:"productResult",image:obj.images==null?null:obj.images[0].url,reference:obj.categoriesReference});});}
cache[term]=autoSearchData;response(autoSearchData);});},open:function(event,ui){moreButton.css('display','block');if(asicsToolkit.isMobileDevice()){$('.search_bar .ui-autocomplete').append(moreButton);ACC.autocomplete.moreButtonClick();}else{$('.social-box .ui-autocomplete').append(moreButton);}
$(appendTo).next(".autocomplete_more_button").remove();ACC.track.search.bindAutoSuggestClick();},focus:function(event,ui){return false;},select:function(event,ui){window.location.href=ui.item.url;}}).data("ui-autocomplete")._renderItem=function(ul,item){ul.attr("id","quick-search");if(item.type=="autoSuggestion"){renderHtml="<a href='"+ACC.config.contextPath+item.url+"' class='clearfix'>"+item.value+"</a>";var suggestions=$("ul li.suggestions");if(typeof suggestions=='undefined'||suggestions===null||suggestions.length==0){return $("<li class='suggestions'>").data("item.autocomplete",item).append(renderHtml).appendTo(ul);}
else{return $("ul li.suggestions").data("item.autocomplete",item).append(renderHtml).appendTo(ul);}}
if(item.type=="productResult"){var renderHtml="<a class='autosuggestion-link' data-search='"+$search.val()+"' data-code='"+item.code+"' data-name='"+item.value+"' href='"+ACC.config.contextPath+item.url+"'>";if(option.displayProductImages){if(item.image!=null){renderHtml+="<img src='"+item.image+"' width='100' height='75' />";}else{var imageURL=$(".quickSearchMissingImagePath").val();renderHtml+="<img src='"+imageURL+"' width='100' height='75' />";}}
renderHtml+="<div class='autocomplete-list'><p>"+item.value+"</p><p class=\"prod-classification-reference\">"+item.reference+"</p></div></a>";return $("<li>").data("item.autocomplete",item).append(renderHtml).appendTo(ul);}};$(".ui-mobile").css("overflow-y","auto");if(asicsToolkit.isMobileDevice()||asicsToolkit.isIpadDevice()){$search.unbind("blur");}}};$(document).ready(function(){ACC.autocomplete.bindAll();});

ACC.langcurrency={bindAll:function()
{this.bindLangCurrencySelector();},bindLangCurrencySelector:function()
{$('#lang-selector').change(function()
{$('#lang-form').submit();})
$('#currency-selector').change(function()
{$('#currency-form').submit();})}};$(document).ready(function()
{ACC.langcurrency.bindAll();});

ACC.carousel={addthis_config:{ui_click:true},bindAll:function()
{this.bindJCarousel();this.bindOwlCarouselForProductCarouselComponent();},bindJCarousel:function()
{jQuery('.yCmsContentSlot.span-4 .jcarousel-skin').jcarousel({vertical:true});jQuery('.yCmsContentSlot.span-24 > .scroller .jcarousel-skin').jcarousel({});$(".modal").colorbox({onComplete:function()
{ACC.common.refreshScreenReaderBuffer();},onClosed:function()
{ACC.common.refreshScreenReaderBuffer();}});$('#homepage_slider').imagesLoaded().done(function()
{$('#homepage_slider').slideView({toolTip:true,ttOpacity:0.6,autoPlay:true,autoPlayTime:8000});});},bindOwlCarouselForProductCarouselComponent:function(){if(!jQuery('.jcarousel-skin').length>0){return false;}
var visibleItemsDesktopDefault=4;var productCarousel=$('.productCarouselComponent .owl-carousel');var standardItemsNum=4;productCarousel.owlCarousel({items:standardItemsNum,itemsMobile:[767,2],navigation:true,loop:true,pagination:false,navigationText:false,scrollPerPage:true});jQuery('.carousel').each(function(index){if($(this).find(".owl-item").length<standardItemsNum){$(this).find(".owl-wrapper").css("display","inline-block");$(this).find(".owl-wrapper").css("display","-webkit-inline-box");$(this).find(".owl-wrapper").css("width","auto");}});}};$(document).ready(function(){ACC.carousel.bindAll();});

ACC.productTabs={bindAll:function()
{if($('#productTabs').length>0){ACC.productTabs.showReviewsAction("reviews");ACC.productTabs.productTabs=$('#productTabs').accessibleTabs({wrapperClass:'content',currentClass:'current',tabhead:'.tabHead',tabbody:'.tabBody',fx:'show',fxspeed:null,currentInfoText:'current tab: ',currentInfoPosition:'prepend',currentInfoClass:'current-info',autoAnchor:true});$(document).on("click",'#write_review_action_main, #write_review_action',function(e){e.preventDefault();ACC.productTabs.scrollToReviewTab('#write_reviews')
$('#reviewForm input[name=headline]').focus();});$('#based_on_reviews, #read_reviews_action').bind("click",function(e){e.preventDefault();ACC.productTabs.scrollToReviewTab('#reviews')});$(document).on("click",'#show_all_reviews_top_action, #show_all_reviews_bottom_action',function(e){e.preventDefault();ACC.productTabs.showReviewsAction("allreviews");$(this).hide();});}},scrollToReviewTab:function(pane)
{$.scrollTo('#productTabs',300,{axis:'y'});ACC.productTabs.productTabs.showAccessibleTabSelector('#tab-reviews');$('#write_reviews,#reviews').hide();$(pane).show();},showReviewsAction:function(s)
{$.get($("#reviews").data(s),function(result){$('#reviews').html(result);});}};$(document).ready(function()
{ACC.productTabs.bindAll();});

ACC.cartremoveitem={bindAll:function()
{this.bindCartRemoveProduct();},bindCartRemoveProduct:function()
{$('.submitRemoveProduct').on("click",function()
{var prodid=$(this).attr('id').split("_");var form=$('#updateCartForm'+prodid[1]);var productCode=form.find('input[name=productCode]').val();var initialCartQuantity=form.find('input[name=initialQuantity]');var cartQuantity=form.find('input[name=quantity]');ACC.track.cart.trackRemoveFromCart(productCode,initialCartQuantity.val());cartQuantity.val(0);initialCartQuantity.val(0);form.submit();});function updateCartQuantity(element){if(typeof element=='undefined'){element=this;}
var prodid=$(element).attr('id').split("_");var form=$('#updateCartForm'+prodid[1]);var productCode=form.find('input[name=productCode]').val();var initialCartQuantity=form.find('input[name=initialQuantity]').val();var newCartQuantity=form.find('input[name=quantity]').val();if(initialCartQuantity!=newCartQuantity)
{ACC.track.cart.trackUpdateCart(productCode,initialCartQuantity,newCartQuantity);form.submit();}else{bindUpdateQuantityEvent();}}
var $updateQuantityProduct=$('.updateQuantityProduct');if($updateQuantityProduct.length>0){bindUpdateQuantityEvent();$(document).keypress(function(e){var $updateQuantityProduct2=$('input:focus');if(e.which==13&&$updateQuantityProduct2.length>0){e.preventDefault();updateCartQuantity($updateQuantityProduct2.siblings('.updateQuantityProduct'));}});}
function bindUpdateQuantityEvent(){var $updateQuantityProduct=$('.updateQuantityProduct');$updateQuantityProduct.on("click",function(){$updateQuantityProduct.unbind("click");updateCartQuantity(this);});}}};$(document).ready(function()
{ACC.cartremoveitem.bindAll();});

ACC.paginationsort={downUpKeysPressed:false,};$(document).ready(function()
{var sortSel=$("#sortSelected").val();if(sortSel=='true'){$('.filter-open').addClass('open');var el=$('.filter-options.sort'),curHeight=el.height(),autoHeight=el.css('height','auto').height();el.height(curHeight).animate({height:autoHeight},0,function(){filterSortOpen=true;});}});$("#listViewButton").click(function(){$("#listViewForm").submit();});$("#gridViewButton").click(function(){$("#gridViewForm").submit();});

ACC.pwdstrength={bindAll:function()
{this.bindPStrength();},bindPStrength:function()
{$('.strength').pstrength({verdicts:[ACC.pwdStrengthVeryWeak,ACC.pwdStrengthWeak,ACC.pwdStrengthMedium,ACC.pwdStrengthStrong,ACC.pwdStrengthVeryStrong],tooShort:ACC.pwdStrengthTooShortPwd,minCharText:ACC.pwdStrengthMinCharText});}};$(document).ready(function()
{ACC.pwdstrength.bindAll();});

ACC.userlocation={bindAll:function()
{ACC.userlocation.bindUserLocationSearchButtonClick();ACC.userlocation.bindUserLocationEnterPress();ACC.userlocation.bindAutoLocationSearchButtonClick();},bindUserLocationEnterPress:function()
{$('#user_location_query').keypress(function(e)
{var code=null;code=(e.keyCode?e.keyCode:e.which);if(code==13)
{$.ajax({url:searchUserLocationUrl,type:'GET',data:{q:$('#user_location_query').attr("value")},success:function(data)
{location.reload();}});return false;};});},bindUserLocationSearchButtonClick:function()
{$('#user_location_query_button').click(function(e)
{$.ajax({url:searchUserLocationUrl,type:'GET',data:{q:$('#user_location_query').attr("value")},success:function(data)
{location.reload();}});return false;});},bindAutoLocationSearchButtonClick:function()
{$(document).on("click","#findStoresNearMeAjax",function(e)
{e.preventDefault();try
{var gps=navigator.geolocation;gps.getCurrentPosition(ACC.userlocation.positionSuccessStoresNearMe,function(error)
{console.log("An error occurred... The error code and message are: "+error.code+"/"+error.message);});}
catch(error)
{console.log("An error occurred... ");}});},positionSuccessStoresNearMe:function(position)
{if(typeof autoUserLocationUrl!=='undefined')
{$.ajax({url:autoUserLocationUrl,type:'POST',data:{latitude:position.coords.latitude,longitude:position.coords.longitude},success:function(data)
{location.reload();}});}
return false;}};$(document).ready(function()
{ACC.userlocation.bindAll();});

ACC.checkout={spinner:$("<img id='taxesEstimateSpinner' src='"+ACC.config.commonResourcePath+"/images/spinner.gif' />"),asicsToolkit:asicsToolkit||new AsicsToolkit(),fuzzySearchCount:0,bindAll:function()
{this.bindCheckO();this.init();},bindCheckO:function()
{var cartEntriesError=false;$('.doFlowSelectedChange').change(function()
{if('multistep-pci'==$('#selectAltCheckoutFlow').attr('value'))
{$('#selectPciOption').css('display','');}
else
{$('#selectPciOption').css('display','none');}});$('.doCheckoutBut').click(function()
{var checkoutUrl=$(this).data("checkoutUrl");cartEntriesError=ACC.pickupinstore.validatePickupinStoreCartEntires();if(!cartEntriesError)
{var expressCheckoutObject=$('.doExpressCheckout');if(expressCheckoutObject.is(":checked"))
{window.location=expressCheckoutObject.data("expressCheckoutUrl");}
else
{var flow=$('#selectAltCheckoutFlow').attr('value');if(''==flow)
{window.location=checkoutUrl;}
else
{if('multistep-pci'==flow)
{flow='multistep';}
var pci=$('#selectPciOption').attr('value');var redirectUrl=checkoutUrl+'/select-flow?flow='+flow+'&pci='+pci;window.location=redirectUrl;}}}
return false;});$('#estimateTaxesButton').click(function()
{$('#zipCodewrapperDiv').removeClass("form_field_error");$('#countryWrapperDiv').removeClass("form_field_error");var countryIso=$('#countryIso').val();if(countryIso==="")
{$('#countryWrapperDiv').addClass("form_field_error");}
var zipCode=$('#zipCode').val();if(zipCode==="")
{$('#zipCodewrapperDiv').addClass("form_field_error");}
if(zipCode!==""&&countryIso!=="")
{$("#order_totals_container").append(ACC.checkout.spinner);$.getJSON("cart/estimate",{zipCode:zipCode,isocode:countryIso},function(estimatedCartData)
{$("#estimatedTotalTax").text(estimatedCartData.totalTax.formattedValue)
$("#estimatedTotalPrice").text(estimatedCartData.totalPrice.formattedValue)
$(".estimatedTotals").show();$(".realTotals").hide();$("#taxesEstimateSpinner").remove();});}});$(document).on("click",".pointsApplyButton",function(){if($("#loyaltyPointsUse").val()==""){$(".tpoint-error").text("");$("#loyaltyPointsUse").addClass("loyaltyPointsUse-input");}else{$(this).attr("disabled",true).addClass("gray-disabled");$(".Rectangle-2 #loyaltyPointsUse").after("<span class='loyaltypoint-load'></span>");}})
$("#loyaltyPointsUse").keyup(function(){if(!/^\d+(\.\d+)?$/.test($(this).val())){$(this).val('');$(".tpoint-error").show().text("");$("#loyaltyPointsUse").addClass("loyaltyPointsUse-input");}
if($(this).val()){$(".tpoint-error").hide();$("#loyaltyPointsUse").removeClass("loyaltyPointsUse-input");}});$('.selectPaymentMethodPanel button').click(function(){$('#checkout_billing_details_add').hide();$('#saved_payment_cards_lists').show();$('#cs_saved_payment_cards_lists').show();$('.control-group.security').show();});$('.addNewPymentMethosPanel button').click(function(){$('#saved_payment_cards_lists').hide();$('#cs_saved_payment_cards_lists').hide();$('.control-group.security').hide();$('#billingAddressForm input').val('');$('#checkout_billing_details_add').show();});$('#savedPaymentListHolder li.payment_card input[name="payment_method"]').each(function(){var selectPaymentInfoForm=$('.select_paymentInfo_form');$(this).change(function(){var options={type:'POST',data:$(this).val(),success:function(data){if(typeof(data)==='string'&&data.indexOf("redirect_detection")!=-1){window.location.href=ACC.config.encodedContextPath+"/login/checkout";}
else if(document.getElementById('addPaymentForm2'))
{var $data=$($.parseHTML(data));$('#transaction_uuid').val($data.find('#transaction_uuid2').val());$('#signed_date_time').val($data.find('#signed_date_time2').val());$('#signature').val($data.find('#signature2').val());$('#amount').val($data.find('#amount2').val());$('#tax_amount').val($data.find('#tax_amount2').val());}},error:function(xht,textStatus,ex)
{alert("Failed to set delivery mthos. Error details ["+xht+", "+textStatus+", "+ex+"]");}};selectPaymentInfoForm.ajaxSubmit(options);var _value=$(this).parents("li.payment_card").find("input[type='radio']").attr("data-card-type").toUpperCase();var _amex='AMEX';var _parentsClass=$("#placeOrderForm").find(".control-group").find(".security-desc");var amexPreSelected=false;if($("li.payment_card .checked input").length>0){amexPreSelected=$("li.payment_card .checked input").attr("data-card-type").toLowerCase().startsWith("american");}
if(_value==_amex||amexPreSelected){_parentsClass.find(".security-desc-four").show();_parentsClass.find(".security-desc-three").hide();}else{_parentsClass.find(".security-desc-three").show();_parentsClass.find(".security-desc-four").hide();}})});$("input[name='securityCode'],input[name='pan']").on('keydown keypress keyup input',function(){if((/[^\d-]/g).test($(this).val())){var start=this.selectionStart;var end=this.selectionEnd;$(this).val($(this).val().replace(/[^\d]/g,''));if(start){this.setSelectionRange(start-1,end-1);}}});if($("#addGiftWrapping").length>0){ACC.checkout.setGiftWrappingValues();}
$('#enabledAddGiftMessage, #enabledGiftWrapping').click(function(){ACC.checkout.setGiftWrappingValues();});$('.giftMessage').on("change",function(){ACC.checkout.setGiftWrappingValues();});},bindUsingDeliveryAddress:function(){if($('#PFSWebPaymentDetailsForm').is(':visible'))
{$('.control-group.security').hide();}else if($('#saved_payment_cards_lists').is(':visible')){$('.control-group.security').show();}},checkPfsAuthorization:function(){if($('#PFSWebPaymentDetailsForm').length>0){setInterval(function(){if($('#PFSWebPaymentDetailsForm').is(':visible')&&$("#authorization").val()===''){$.get(ACC.config.encodedContextPath+"/checkout/single/ajax/getPfsAuthorization",function(data){$("#authorization").val(data);});}},5000);}},init:function(){ACC.checkout.bindPaymentMethod();ACC.checkout.bindSubmit();ACC.checkout.bindUsingDeliveryAddress();ACC.checkout.switchPaymentType();ACC.checkout.checkPfsAuthorization();ACC.checkout.checkboxvalidate();if($("html").attr("data-region")=="aop"){ACC.checkout.bindFuzzyAddressSearch();ACC.checkout.bindVerifyAddress();ACC.checkout.bindChangeAddress();ACC.checkout.bindAddressRadioClick();}},bindFuzzyAddressSearch:function(){$(".fuzzyAddress").autocomplete({minLength:5,source:function(request,response){ACC.checkout.fuzzySearchCount++;$.ajax({url:$("#kleberUrl").val()+"/KleberWebService/DtKleberService.svc/ProcessQueryStringRequest",dataType:"jsonp",type:"GET",contentType:"application/json; charset=utf-8",data:{Method:"DataTools.Capture.Address.Predictive.AuPaf.SearchAddress",AddressLine:request.term,ResultLimit:"5",RequestId:" ",RequestKey:$("#kleberRequestKey").val(),DepartmentCode:" ",OutputFormat:"json"},success:function(data){var noSuitableResultMesage={"RecordId":"noSuit"};data.DtResponse.Result.push(noSuitableResultMesage);response($.map(data.DtResponse.Result,function(item){var Output=(item.AddressLine+", "+item.Locality+", "+item.State+", "+item.Postcode);var value=item.AddressLine;if(item.RecordId=="noSuit"){var Output="My Address is not in the list, I want to enter it manually";var value="";}
return{label:Output,value:value,Output:Output,RecordId:item.RecordId,AddressLine:item.AddressLine,Locality:item.Locality,State:item.State,Postcode:item.Postcode,}}));}});},select:function(event,ui){$(this).parent().find('label[for="address\.fuzzyAddress_del"], input[name=fuzzyAddress]').hide();$(this).parent().find(".fuzzyAddressNoSelectedMessage").hide();if(ui.item.RecordId=="noSuit"){var $addressFields=$(this).parent().find('.adress-fields');$addressFields.find('input,select').val("");$addressFields.show();}else{ACC.checkout.addFuzzyAddress(ui.item?ui.item:"Nothing selected, input was "+this.value,$(this));}},open:function(){$('.ui-autocomplete').css('width',$(this).outerWidth());}}).each(function(idx,ele){$(ele).autocomplete("widget").addClass("address-autocomplete");});},addFuzzyAddress:function(message,element){element.parent().find('.change-address').removeClass('hide').show();$.ajax({url:$("#kleberUrl").val()+"/KleberWebService/DtKleberService.svc/ProcessQueryStringRequest",dataType:"jsonp",async:false,type:"GET",contentType:"application/json; charset=utf-8",data:{Method:"DataTools.Capture.Address.Predictive.AuPaf.RetrieveAddress",RecordId:message.RecordId,RequestId:" ",RequestKey:$("#kleberRequestKey").val(),DepartmentCode:" ",OutputFormat:"json"},success:function(data){var param;$.map(data.DtResponse.Result,function(item){var Output=(item.AddressLine+", "+item.Locality+", "+item.State+", "+item.Postcode);var value=item.AddressLine;param={line1:item.AddressLine,line2:item.BuildingName,townCity:item.Locality,region:item.State,postCode:item.Postcode}});var verifiedAdressList='<div class="addr-addressline">'+param.line1+'</div>'+'<div class="addr-addressline2">'+param.line2+'</div>'+'<div class="addr-locality">'+param.townCity+'</div>'+'<div><span class="addr-postcode">'+param.postCode+'</span><span class="addr-state">'+param.region+'</span></div>';element.parent().find('.verifiedAdressList').html(verifiedAdressList);element.parent().find('.verified-radio-btn').hide();element.parent().find('.addr-wrap.verified').show();ACC.checkout.fillAddressFields(param,element);}});},bindChangeAddress:function(){$(document).on('click','.change-address',function(){var $this=$(this);var $parent=$this.parent();$parent.find(".addressNoSelectedMessage").hide();$parent.find('.adress-fields input').val("");$('.unused-adress-fields input').val('');$('.address-radio').attr('checked',false);$this.hide();$parent.find('.addr-wrap').hide();$parent.find('input[name=fuzzyAddress]').val('');$parent.find('label[for="address\.fuzzyAddress_del"], input[name=fuzzyAddress]').show();$parent.find('#address\\.fuzzyAddress_del-error').hide();$parent.find('input[name=fuzzyAddress]').focus();});},bindVerifyAddress:function(){$(document).on('click','.verifyAddress',function(){var element=$(this);var $parent=element.parent();$parent.find(".addressNoVerifiedMessage").hide();var $line1=$parent.find('input[name="line1"]');var $line2=$parent.find('input[name="line2"]');var $townCity=$parent.find('input[name="townCity"]');var $regionIso=$parent.find('select[name="regionIso"]');var $postcode=$parent.find('input[name="postcode"]');if($line1.valid()&&$townCity.valid()&&$regionIso.valid()&&$postcode.valid()){var AddressLine1=$line1.val();var AddressLine2=$line2.val();var Locality=$townCity.val();var regionIso=$regionIso.val();var State=regionIso.replace('AU-','');var Postcode=$postcode.val();$.ajax({url:$("#kleberUrl").val()+"/KleberWebService/DtKleberService.svc/ProcessQueryStringRequest",dataType:"jsonp",type:"GET",contentType:"application/json; charset=utf-8",data:{Method:"DataTools.Repair.Address.AuPaf.RepairAddress",AddressLine1:AddressLine2+","+AddressLine1,Locality:""+Locality,State:""+State,Postcode:""+Postcode,RequestKey:$("#kleberRequestKey").val(),OutputFormat:"json"},success:function(data){var $parents=element.parent().parent();$.map(data.DtResponse.Result,function(item){if(item.DPID!=''){var verifiedAdressList='<div class="addr-addressline">'+item.AddressLine+'</div>'+'<div class="addr-addressline2">'+item.BuildingName+'</div>'+'<div class="addr-locality">'+item.Locality+'</div>'+'<div><span class="addr-postcode">'+item.Postcode+'</span><span class="addr-state">'+item.State+'</span></div>';$parents.find('.verifiedAdressList').html(verifiedAdressList);$parents.find('.addr-wrap, .address-radio-wrap').show();$parents.find('.addr-wrap.entered').removeClass('col-sm-12').addClass('col-sm-6');}else{$parents.find('.addr-wrap.verified, .address-radio-wrap').hide();$parents.find('.addr-wrap.entered, .enteredAdressList').show();$parents.find('.addr-wrap.entered').removeClass('col-sm-6').addClass('col-sm-12');}});var line1=$parent.find('input[name="line1"]').val();var line2=$parent.find('input[name="line2"]').val();var townCity=$parent.find('input[name="townCity"]').val();var region=$parent.find('select[name="regionIso"]').val();region=region.replace('AU-','')
var postCode=$parent.find('input[name="postcode"]').val();var enteredAdressList='<div class="addr-addressline">'+line1+'</div>'+'<div class="addr-addressline2">'+line2+'</div>'+'<div class="addr-locality">'+townCity+'</div>'+'<div><span class="addr-postcode">'+postCode+'</span><span class="addr-state">'+region+'</span></div>';$parents.find('.enteredAdressList').html(enteredAdressList);$parents.find('.change-address').show();$parents.find('.adress-fields').hide();if(data.DtResponse.Result[0].DPID==''){ACC.address.validateDeliveryAddress();}else if(!asicsToolkit.isMobileDevice()){var $parentForm=element.parents('.add_new_address_form,#asicsAddressForm');ACC.common.alignAddressRadiobtn($parentForm);}}});}});},bindAddressRadioClick:function(){$(document).on('click','.address-radio',function(){element=$(this);var $parent=$(this).parents('.addr-wrap');$parent.parent().find('.addressNoSelectedMessage').hide();var $addressList=$parent.find('.addressList');var region=$addressList.find('.addr-state').text();var param={line1:$addressList.find('.addr-addressline').text(),line2:$addressList.find('.addr-addressline2').text(),townCity:$addressList.find('.addr-locality').text(),region:region,postCode:$addressList.find('.addr-postcode').text()}
ACC.checkout.fillAddressFields(param,element);if($(".template-pages-account-accountLayoutPage").length==1){var $unusedAddress=null;var useVerifiedAddress=true;if($addressList.hasClass("verifiedAdressList")){$unusedAddress=$('.enteredAdressList');}else{$unusedAddress=$('.verifiedAdressList');useVerifiedAddress=false;}
var unusedParam={unusedLine1:$unusedAddress.find('.addr-addressline').text(),unusedLine2:$unusedAddress.find('.addr-addressline2').text(),unusedTownCity:$unusedAddress.find('.addr-locality').text(),unusedRegionIso:$unusedAddress.find('.addr-state').text(),unusedPostcode:$unusedAddress.find('.addr-postcode').text(),useVerifiedAddress:useVerifiedAddress}
ACC.checkout.fillUnusedAddressFields(unusedParam);}});},fillUnusedAddressFields:function(param){$('input[name="unusedLine1"]').val(param.unusedLine1);$('input[name="unusedLine2"]').val(param.unusedLine2);$('input[name="unusedTownCity"]').val(param.unusedTownCity);$('input[name="unusedRegionIso"]').val(param.unusedRegionIso);$('input[name="unusedPostcode"]').val(param.unusedPostcode);$('input[name="useVerifiedAddress"]').val(param.useVerifiedAddress);},fillAddressFields:function(param,element){var $parents=element.parent().parent().parent();$parents.find('input[name="line1"]').val(param.line1);$parents.find('input[name="line2"]').val(param.line2);$parents.find('input[name="townCity"]').val(param.townCity);$parents.find('select[name="regionIso"]').val('AU-'+param.region);$parents.find('input[name="postcode"]').val(param.postCode);if(element.parents("#deliveryAddressForm").length>0&&element.attr("name")=="fuzzyAddress"){ACC.address.validateDeliveryAddress();}},bindPaymentMethod:function(){$("#selectPaymentMethodForm input[name=paymentType]").on("click",function(){ACC.checkout.switchPaymentType();});},checkboxvalidate:function(){if($(".termsAccept input#termChecked").length!=0){$("#storeFinder #accept-button a").on("click",function(){if(!$("#storeFinder #termChecked").prop("checked")){$("#globalMessages #termCheckedError").removeClass("hide");return false;}});}},bindSubmit:function(){$(".place-order").on('click',function(event){ACC.checkout.handlePlaceOrderBtn(event)});$("#ajpDesiredDeliveryDateForm select").change(function(){$("#ajpDesiredDeliveryDateForm").ajaxSubmit({async:false})})},bindRakutenSubmit:function(){$("#rakutenPlaceOrderButton .place-order").on('click',function(event){ACC.checkout.handlePlaceOrderBtn(event)});},handlePlaceOrderBtn:function(event){event.preventDefault();var valid=true;$(".checkout form").each(function(){if($(this).is(':visible'))
{valid=valid&$(this).valid();}});if($("html").attr("data-region")=="aop"){valid=valid&ACC.common.isAddressValidated('#billingAddressForm');}
var $upsErrorMsg=$('#ups-required-msg');$upsErrorMsg.hide();var $upsContent=$('#ups-result');var isUPSLabelChecked=$('#ups-locator-map').is(':checked');var $upsPointsRadios=$('#acess-points-list input[type="radio"]');if($upsContent.length>0&&isUPSLabelChecked){var isUPSPointsChecked=$upsPointsRadios.is(':checked');valid=valid&isUPSPointsChecked;if(!isUPSPointsChecked){$upsErrorMsg.show();}}
valid=valid&ACC.address.checkDeliveryRestriction();if($("html[data-region^='aop']").length>0&&$("#deliveryAddressForm").is(':visible')){var deliveryAddressValidated=ACC.checkout.getDeliveryAddressValidated();if(deliveryAddressValidated=="false"||deliveryAddressValidated==false){valid=false;}}
if(valid)
{if($("html[data-region^='ajp']").length>0){var selectDeliveryModeForm=$('.select_deliveryModel_form');var selectDeliveryModeFormUrl=selectDeliveryModeForm.attr('action');var data=$('#select_deliveryModel_form').serialize();$.ajax({url:selectDeliveryModeFormUrl,data:data,type:'POST',async:false,success:function(data){}});}
ACC.track.checkout.trackCheckoutOption();if($('#PFSWebPaymentDetailsForm').is(':visible'))
{ACC.checkout.setTermsCheckValue();ACC.checkout.setNewsLetterCheck();$.get("logSopStart",function(data){if(data===""){$('#PFSWebPaymentDetailsForm').submit();}else{location.reload();}});}else if($('#saved_payment_cards_lists').is(':visible')){$('#placeOrderForm').submit();}else if($('#paypalForm').is(':visible')){var termsCheck=ACC.checkout.getTermsCheckValue();var newsLetterCheck=ACC.checkout.getNewsLetterCheck();var addressValidated=true;if($('#deliveryAddressForm').is(':visible')){addressValidated=ACC.checkout.getDeliveryAddressValidated();console.log("address validated="+addressValidated);}
$("[name='termsCheckVal']").val(termsCheck);$("[name='newsLetterCheckVal']").val(newsLetterCheck);$("#paypalForm").submit();}else if($('#afterPayForm').is(':visible')){var countryCode=$("#countryIso").val();AfterPay.initialize({countryCode:countryCode});var termsCheck=ACC.checkout.getTermsCheckValue();var newsLetterCheck=ACC.checkout.getNewsLetterCheck();var addressValidated=true;if($('#deliveryAddressForm').is(':visible')){addressValidated=ACC.checkout.getDeliveryAddressValidated();console.log("address validated="+addressValidated);}
$("[name='termsCheckVal']").val(termsCheck);$("[name='newsLetterCheckVal']").val(newsLetterCheck);var url=$("#afterPayForm").attr("action");var data={termsCheckVal:termsCheck,newsLetterCheckVal:newsLetterCheck,addressValidatedVal:addressValidated};$.ajax(url,{type:'post',data:$.param(data),success:function(data){if(data!='error'){AfterPay.redirect({token:data});}else{alert("error");}}});}
else if($('#selectPaymentMethodForm').is(':visible')||$('#cs_saved_payment_cards_lists').is(':visible')){ACC.checkout.setTermsCheckValue();ACC.checkout.setNewsLetterCheck();var addressValidated="true";if($('#deliveryAddressForm').is(':visible')){addressValidated=ACC.checkout.getDeliveryAddressValidated();}
if(addressValidated==="true"){if(($("#selectPaymentMethodForm input[name=paymentType]:checked").attr("id")=="cybersource")&&($('#addPaymentForm2').is(':visible'))){TIGER.ajputil.handleCybersourcePlaceOrder(false);}else if($('#cs_saved_payment_cards_lists').is(':visible')){TIGER.ajputil.handleCybersourcePlaceOrder(true);}else if(($("#selectPaymentMethodForm input[name=paymentType]:checked").attr("id")=="rakuten")&&($('#rakutenForm').length)){TIGER.ajputil.handleRakutenPlaceOrder();}else{TIGER.ajputil.handleOtherPlaceOrder();}}else{var errorField=$("#globalMessages");$.scrollTo(errorField,400,{offset:-100});errorField.focus();}}else if($("#ogonePaymentForm").is(":visible")){ACC.checkout.handleOgonePayment();}else if($("#payment_method_form").is(":visible")){var termsCheck=ACC.checkout.getTermsCheckValue();var newsLetterCheck=ACC.checkout.getNewsLetterCheck();var paymentType=ACC.checkout.getPaymentType();var addressValidated=true;if($('#deliveryAddressForm').is(':visible')){addressValidated=ACC.checkout.getDeliveryAddressValidated();console.log("address validated="+addressValidated);}
$("[name='termsCheckVal']").val(termsCheck);$("[name='newsLetterCheckVal']").val(newsLetterCheck);$("[name='paymentTypeVal']").val(paymentType);$("[name='addressValidatedVal']").val(addressValidated);if($("html").attr("data-region")=="akr"){$.colorbox({width:650,overlayClose:false,html:$("#koreaPlaceOrdernotificationColorbox").html(),onComplete:function()
{$('#colorbox').addClass('koreaPlaceOrdernotification');$("#koreaPlaceOrdernotificationColorboxOK").on("click",function(){$("#payment_method_form").submit();});$.colorbox.resize();},onClosed:function(){$('#colorbox').removeClass('koreaPlaceOrdernotification')}});}else{$("#payment_method_form").submit();}}
else
{var termsCheck=ACC.checkout.getTermsCheckValue();var newsLetterCheck=ACC.checkout.getNewsLetterCheck();var paymentType=ACC.checkout.getPaymentType();var addressValidated=true;if($('#deliveryAddressForm').is(':visible')){addressValidated=ACC.checkout.getDeliveryAddressValidated();}
window.location.href=ACC.config.encodedContextPath+'/checkout/paypal/goToThirdPartPaymentPage?termsCheck='+termsCheck
+'&newsLetterCheck='+newsLetterCheck+'&addressValidated='+addressValidated;}}else{var $visbleError=$(".checkout form .error").filter(":visible");if($visbleError.length>0){var errorField=$visbleError.first();$.scrollTo(errorField,400,{offset:-100});errorField.focus();}else{$.scrollTo(0);}}
var $termsLabel=$(".termsLabel");if(!valid&&$termsLabel.length>0){var $termsCheckError=$("#termsCheck-error");var allText=$(".termsLabel").html();var lastText=$(".termsLabel").html().split("</label>")[1];$termsLabel.html(allText.replace(lastText,""));$termsLabel.find("a").first().after(lastText);}},handleOgonePayment:function(){var prepareOgonePaymentUrl=$("#goToOgoneUrl").val();var ogoneParams={termsCheck:ACC.checkout.getTermsCheckValue(),newsLetterCheck:ACC.checkout.getNewsLetterCheck(),paymentType:ACC.checkout.getPaymentType()};$.ajax(prepareOgonePaymentUrl,{type:'post',data:$.param(ogoneParams),success:function(data){if(typeof(data)==='string'&&data.indexOf("redirect_detection")!=-1){window.location.href=ACC.config.encodedContextPath+"/login/checkout/error";}else{if(!data.errorFlag){$("#ogonePaymentForm").empty();$.each(data,function(key,value){var val=null;if(value){val=value.replace(/'/g,"&#39;");}
$("#ogonePaymentForm").append("<input type='hidden' name='"+key+"' value='"+val+"'>");});document.getElementById("ogonePaymentForm").submit();}else{location.reload();}}},error:function(data){$(".placeOrder button.place-order").removeAttr('disabled');}});},setTermsCheckValue:function(){if('hidden'===$("input[name=termsCheck]").attr("type")){$("input[name=termsCheckHidden]").val('true');}else{if($("input[name=termsCheck]:checked").length===1)
{$("input[name=termsCheckHidden]").val('true');}
else
{$("input[name=termsCheckHidden]").val('false');}}},setNewsLetterCheck:function(){if('checked'===$("input[name=newsLetterCheck]:checked").length===1)
{$("input[name=newsLetterCheckHidden]").val('true');}
else
{$("input[name=newsLetterCheckHidden]").val('false');}},setGiftWrappingValues:function(){const textArea=$("#giftMessage");var timeoutId;const $giftWrapWordCount=$(".giftWrapWordCount");const maxLength=$giftWrapWordCount.attr("maxLength");const $form=$("#giftWrappingForm");function countWords(ele){$giftWrapWordCount.text(ele.val().length+" / "+maxLength);}
function bindGiftWrapTextArea(){countWords(textArea);textArea.on('change input propertychange',function(){var maxInputClass="maxTextInput";if($(this).val().length>=maxLength){$(this).val($(this).val().substring(0,maxLength));$(".giftWrapWordCount").addClass(maxInputClass);}else{$(".giftWrapWordCount").removeClass(maxInputClass);}
countWords(textArea);});};function bindTextareaDisplay(){const $allTheStuff=$(".maxWords, .giftWrapWordCount, [name=giftMessage]");const $giftWrappingMessageWrapper=$(".gift_wrapping_message_wrapper");function toggleMessageTextArea(){if($("[name=enabledAddGiftMessage]:checked").length===1){$allTheStuff.show();}else{$allTheStuff.hide();}}
$("[name=enabledAddGiftMessage]").on('change',function(){toggleMessageTextArea();});function toggleMessageWrapper(){if($("[name=enabledGiftWrapping]:checked").length===1){$giftWrappingMessageWrapper.show();}else{$giftWrappingMessageWrapper.hide();}}
$("[name=enabledGiftWrapping]").on('change',function(){toggleMessageWrapper();});toggleMessageWrapper();toggleMessageTextArea();}
function bindSendWrappringAjax(){$("[name=enabledGiftWrapping]").on('change',function(){$.ajax({url:$form.attr('action')+"/add",data:$form.serialize(),type:'POST',success:function(data){ACC.address.singleCheckoutUpdatePaymentAndReviewSection(data);},error:function(xht,textStatus,ex)
{alert("Failed to set delivery address. Error details ["+xht+", "+textStatus+", "+ex+"]");}})})}
function bindUpdateMessageAjax(){textArea.on('input propertychange change',function(){clearTimeout(timeoutId);timeoutId=setTimeout(function(){$.ajax({url:$form.attr('action')+"/updateMessage",data:$form.serialize(),type:'POST',error:function(xht,textStatus,ex)
{alert("Failed to set delivery address. Error details ["+xht+", "+textStatus+", "+ex+"]");}})},2000);})}
if(textArea.length!=0){bindGiftWrapTextArea();bindTextareaDisplay();bindUpdateMessageAjax();}
bindSendWrappringAjax();},setLoyaltyPointsValues:function(){const $form=$("#loyaltyPointsForm");function bindApplyLoyaltyAjax(){$("#applyLoyaltyPoints").on('click',function(){$(".tpoint-used").after("<span class='loyaltypoint-load-use'></span>");$.ajax({url:$form.attr('action')+"/apply",data:$form.serialize(),type:'POST',success:function(data){ACC.address.singleCheckoutUpdatePaymentAndReviewSection(data);},error:function(xht,textStatus,ex)
{alert("Failed to set delivery address. Error details ["+xht+", "+textStatus+", "+ex+"]");},complete:function(){$(".pointsApplyButton").attr("disabled",false).removeClass("gray-disabled");$(".Rectangle-2 .loyaltypoint-load").remove();$(".loyaltypoint-load-use").remove();}})})}
function bindMaxPointsAllowed(){var availablePoints=$("#availablePoints").val();$("#loyaltyPointsUse").on('change',function(){var max=parseInt(availablePoints);if(parseInt(this.value)>max){this.value=max;}});}
bindApplyLoyaltyAjax();bindMaxPointsAllowed();},getTermsCheckValue:function(){if($("input[name=termsCheck]:checked").length===1)
{return true;}
else
{return false;}},getNewsLetterCheck:function(){if($("input[name=newsLetterCheck]:checked").length===1)
{return true;}
else
{return false;}},getPaymentType:function(){var paymentType=$("input[name='payment_type']:checked").val();return paymentType;},getDeliveryAddressValidated:function(){var validated=true;var $addressRadioBtn=$('#deliveryAddressForm .address-radio');if($addressRadioBtn.is(':visible')&&!$addressRadioBtn.is(':checked'))
{$("#deliveryAddressForm .addressNoSelectedMessage").show();validated=false;}
if($('#deliveryAddressForm .verifyAddress').is(':visible'))
{$("#deliveryAddressForm .addressNoVerifiedMessage").show();validated=false;}
var $fuzzyAddress=$('#deliveryAddressForm input[name="fuzzyAddress"]');if($fuzzyAddress.is(':visible')&&$fuzzyAddress.val()!='')
{$("#deliveryAddressForm .fuzzyAddressNoSelectedMessage").show();validated=false;}
var validated=validated&&($("#deliveryAddressForm input[name='validated']").val());return validated;},switchPaymentType:function(){var checkedMethod=$("#selectPaymentMethodForm input[name=paymentType]:checked").attr("id");switch(checkedMethod){case"cybersource":$("#cybersourceTab").show();$(".billingAddressDiv").show();$("#paypalTab").hide();$("#afterpayTab").hide();break;case"paypal":$("#paypalTab").show();$(".billingAddressDiv").hide();$("#cybersourceTab").hide();$("#afterpayTab").hide();break;case"afterpay":$("#afterpayTab").show();$(".billingAddressDiv").hide();$("#cybersourceTab").hide();$("#paypalTab").hide();break;default:$("#cybersourceTab").hide();$(".billingAddressDiv").hide();$("#paypalTab").hide();$("#afterpayTab").hide();break;}
$("#paymentTerms small").hide();$("#"+checkedMethod+"Terms").show();},bindTermsAndConditionsLink:function(){if($('#termsAndConditionsContent').length!=0){$("[class*=termsAndConditionsLink]").on("click",function(e){e.preventDefault();var $termsAndConditionsContent=$('#termsAndConditionsContent').parent().html();$.colorbox({html:$termsAndConditionsContent});})}},bindPromoCodeApply:function(){$(document).on('click','input#applyVoucherButton',function(e){e.preventDefault();var voucherCode=$(".itemsToBuySummary #promotionCode").val();if(typeof voucherCode=='undefined'){voucherCode=$("#promotionCode").val();}
if(voucherCode!=null&&voucherCode!==""){appendLoadinglayer();$("#loading-mask-order-review").show()
var applyVoucherUrl=$("#applyVoucherUrl").val();$.ajax({url:applyVoucherUrl,data:{code:voucherCode},type:'GET',success:function(data){ACC.address.singleCheckoutUpdatePaymentAndReviewSection(data);$("#loading-mask-order-review").hide();if(data.errorMessage){$(".vorcher-td").addClass('prom-error');$(".voucher-error").append(data.errorMessage);}else{$(".vorcher-td").removeClass('prom-error');$(".voucher-error .errorMessage").remove();ACC.checkout.checkFreePaymentOption();}
$(".itemsToBuySummary #promotionCode").focus();},error:function(xht,textStatus,ex){alert("Failed to set voucher. Error details ["+xht+", "+textStatus+", "+ex+"]");$("#loading-mask-order-review").hide();}});}});$(document).on('click','div#removeVoucherButton',function(e){e.preventDefault();appendLoadinglayer();$("#loading-mask-order-review").show()
var removeVoucherUrl=$("#removeVoucherUrl").val();$.ajax({url:removeVoucherUrl,type:'GET',success:function(data){ACC.address.singleCheckoutUpdatePaymentAndReviewSection(data);$("#loading-mask-order-review").hide();ACC.checkout.checkFreePaymentOption();},error:function(xht,textStatus,ex){alert("Failed to set voucher. Error details ["+xht+", "+textStatus+", "+ex+"]");$("#loading-mask-order-review").hide();}});});function appendLoadinglayer(){var $loading=$("#loading-mask-order-review");if($loading.length==0){var loadingStr='<div id="loading-mask-order-review" style="display:none;"><div class="loading-ajax"></div></div>';$('div#reviewInfoSection').append(loadingStr);}}},initAebCheckedPaymenMethod:function(){var checkedPaymenMethod=$.cookie('checkedPaymenMethod');var checkedId=$(".p_method_paypal_express input[name='payment_type']:checked").val();if(checkedPaymenMethod==null){checkedId=$(".p_method_paypal_express input[name='payment_type']").first().val();$(".p_method_paypal_express input[name='payment_type']").first().attr("checked","checked");$(".p_method_paypal_express input[name='payment_type']").first().parent().addClass("checked");$.cookie('checkedPaymenMethod',checkedId,{expires:7,path:'/'});}else{$(".p_method_paypal_express input[name='payment_type'][value='"+checkedPaymenMethod+"']").attr("checked","checked");$(".p_method_paypal_express input[name='payment_type'][value='"+checkedPaymenMethod+"']").parent().addClass("checked");}
$(".p_method_paypal_express input[name='payment_type']").on("click",function(e){$.cookie('checkedPaymenMethod',$(this).val(),{expires:7,path:'/'});})},setMobileColspan:function(){if(asicsToolkit.isMobileDevice()){$(".page-orderConfirmationPage .checkoutOrderItem").attr("colspan","1");$(".page-orderConfirmationPage .checkoutOrderItem").css("width","39%");}},setVoucher:function(){$(".page-singleStepCheckoutSummaryPage").on('click',function(){$('.voucher-tooltip-content').hide()});},setSecurityDesc:function(){if($("#savedPaymentListHolder li.payment_card").find(".checked").find("input[type='radio']").length>0){var _value=$("#savedPaymentListHolder li.payment_card").find("input[type='radio']").attr("data-card-type").toUpperCase();var _amex='AMEX';var _parentsClass=$("#placeOrderForm").find(".control-group").find(".security-desc");var amexPreSelected=false;if($("li.payment_card .checked input").length>0){amexPreSelected=$("li.payment_card .checked input").attr("data-card-type").toLowerCase().startsWith("american");}
if(_value==_amex||amexPreSelected){_parentsClass.find(".security-desc-four").show();_parentsClass.find(".security-desc-three").hide();}else{_parentsClass.find(".security-desc-three").show();_parentsClass.find(".security-desc-four").hide();}}},setDeliveryMethod:function()
{var $deliveryMethods=$('input[name="delivery_method"]');var selectedMethod=$('#shouldCheckedDeliveryMethodId').data('method');$deliveryMethods.removeAttr('checked');if($deliveryMethods.length>0){$deliveryMethods.each(function(idx,val){if(val.value===selectedMethod){val.checked=true;return false}})}},checkFreePaymentOption:function()
{if($("html").attr("data-region")=="aac"){var totalPriceVal=$('#totalPriceHidden').val();if(totalPriceVal>0){$('#freeLabel').hide();var $cybersource=$('#cybersource');$cybersource.prop('disabled',false)
$cybersource.prop('checked',true);$cybersource.click();if($('.payment_card').length>0){$('#cs_saved_payment_cards_lists').show();$('#checkout_billing_details_add').hide();}}
else{var $freeLabel=$('#freeLabel');$freeLabel.show();var $freeRadioBtn=$freeLabel.parent().find('input[name="paymentType"]');$freeRadioBtn.prop('checked',true);$freeRadioBtn.click();$('#cybersource').prop('disabled',true);var $savedCards=$('#cs_saved_payment_cards_lists');if($savedCards.is(':visible')){$savedCards.hide();$('#checkout_billing_details_add').show();}}}}};$(document).ready(function()
{ACC.checkout.bindAll();ACC.checkout.bindTermsAndConditionsLink();ACC.checkout.bindPromoCodeApply();ACC.checkout.initAebCheckedPaymenMethod();ACC.checkout.setLoyaltyPointsValues();ACC.checkout.setMobileColspan();ACC.checkout.setSecurityDesc();ACC.checkout.setVoucher();ACC.checkout.setDeliveryMethod();ACC.checkout.checkFreePaymentOption();});

ACC.password={bindAll:function()
{$(":password").bind("cut copy paste",function(e)
{e.preventDefault();});}};$(document).ready(function()
{ACC.password.bindAll();});

ACC.refinements={bindAll:function()
{this.bindRefinementCategoryToggles();this.bindMoreLessToggles();this.bindMoreStoresToggles()},bindRefinementCategoryToggles:function()
{$('a.refinementToggle').each(function()
{var $this=$(this);$this.attr('title',$this.data('hideFacetText'));$this.on("click",function()
{var $this1=$(this);var content=$this1.parents('.facet').find('div.facetValues');$this1.attr('title',$(content).is(':visible')?$this1.data('showFacetText'):$this1.data('hideFacetText'));$this1.toggleClass("close");$(content).slideToggle();return false;});$this.next().click(function()
{$(this).prev().click();});});},bindMoreLessToggles:function()
{$("a.moreFacetValues").click(function(e){e.preventDefault();var eParent=$(this).parents(".facetValues");eParent.find(".topFacetValues").hide();eParent.find(".allFacetValues").show();})
$("a.lessFacetValues").click(function(e){e.preventDefault();var eParent=$(this).parents(".facetValues");eParent.find(".topFacetValues").show();eParent.find(".allFacetValues").hide();})},bindMoreStoresToggles:function()
{$("a.moreStoresFacetValues").click(function(e){e.preventDefault();$(this).parents('div.allFacetValues').find('li.hidden').slice(0,5).removeClass('hidden').first().find('input:[type=checkbox]').focus();})}};$(document).ready(function()
{ACC.refinements.bindAll();});

ACC.cms={bindAll:function()
{this.bindNavigationBarMenu();},bindNavigationBarMenu:function()
{$('li.La ul ul a').each(function()
{$(this).focus(function()
{$(this).addClass('focused');var menuParent=$(this).closest('ul').parent().closest('ul');$(menuParent).addClass('dropdown-visible');});$(this).blur(function()
{$(this).removeClass('focused');var menuParent=$(this).closest('ul').parent().closest('ul');if(!$('.focused',menuParent).length)
{$(menuParent).removeClass('dropdown-visible');}});});}};$(document).ready(function()
{ACC.cms.bindAll();});

ACC.pickupinstore={bindAll:function()
{with(ACC.pickupinstore)
{bindPickupInStoreClick();bindPickupInStoreSearch();bindPickupHereInStoreButtonClick();bindPaginateStoreResultsButtons();bindPickupRadioButtonSelection();bindFindPickupStoresNearMeSearch();bindLoadingSpinnerOnClick('.add_to_cart_storepickup_form');bindLoadingSpinnerOnClick('.select_store_form');}},bindPickupInStoreClick:function()
{$(document).on('click','.pickupInStoreButton',function(event)
{event.preventDefault();var ele=$(this);var productId="popup_store_pickup_form_"+$(this).attr('id');var cartItemProductPostfix='';var productIdNUM=$(this).attr('id');productIdNUM=productIdNUM.split("_");productIdNUM=productIdNUM[1];if(productId!==null)
{cartItemProductPostfix='_'+productId;}
var boxContent=$('#popup_store_pickup_form').clone();$.colorbox({html:boxContent,height:600,onComplete:function()
{boxContent.show();$("#colorbox #popup_store_pickup_form *").each(function()
{$(this).attr("id",$(this).attr("data-id"));$(this).removeAttr("data-id")});$("#colorbox #popup_store_pickup_form label[data-for=pickupQty]").attr("for",ele.attr("data-for"))
$("#colorbox #popup_store_pickup_form label[data-for=pickupQty]").removeAttr("data-for")
$("#colorbox  input#locationForSearch").focus()
$("#colorbox #popup_store_pickup_form").attr("id",productId);$("#colorbox #"+productId+" .thumb").html(ele.data("img"));$("#colorbox #"+productId+" .price").html(ele.data("productcart"));$("#colorbox #"+productId+" .details").html(ele.data("productname"))
$("#colorbox #"+productId+" form.searchPOSForm").attr("action",ele.data("actionurl"))
$("#colorbox #"+productId+" form.searchPOSForm").attr("id","pickup_in_store_search_form_product_"+productIdNUM)
$("#colorbox #"+productId+" #pickupQty").attr("value",($('#qty').val()!==undefined?$('#qty').val():ele.data("value")));$("#colorbox #"+productId+" input.entryNumber").attr("value",ele.data("entrynumber"))
$("#colorbox #"+productId+" input#atCartPage").attr("value",ele.data("cartpage"))
ACC.pickupinstore.rememberlocationSearchSubmit($('#atCartPage').val(),ele.data("entrynumber"),ele.data("actionurl"));}});});},bindPickupInStoreSearch:function()
{$(document).on('click','#pickupstore_search_button',function(e)
{ACC.pickupinstore.locationSearchSubmit($('#locationForSearch').val(),$('#atCartPage').val(),$('input.entryNumber').val(),$(this).parents('form').attr('action'));return false;});$(document).on('keypress','#locationForSearch',function(e)
{if(e.keyCode===13)
{ACC.pickupinstore.locationSearchSubmit($('#locationForSearch').val(),$('#atCartPage').val(),$('input.entryNumber').val(),$(this).parents('form').attr('action'));return false;}});},bindFindPickupStoresNearMeSearch:function()
{$(document).on('click','#find_pickupStoresNearMe_button',function(e){e.preventDefault();var cartPageVal=$('#atCartPage').val();var entryNumber=$('input.entryNumber').val();var formAction=$(this).parents('form').attr('action');navigator.geolocation.getCurrentPosition(function(position)
{ACC.pickupinstore.locationSearchSubmit('',cartPageVal,entryNumber,formAction,position.coords.latitude,position.coords.longitude);},function(error)
{console.log("An error occurred... The error code and message are: "+error.code+"/"+error.message);});});},bindPickupHereInStoreButtonClick:function()
{$(document).on('click','.pickup_add_to_bag_instore_button',function(e){$(this).prev('.hiddenPickupQty').val($('#pickupQty').val());});$(document).on('click','.pickup_here_instore_button',function(e){$(this).prev('.hiddenPickupQty').val($('#pickupQty').val());$.colorbox.close();});},bindLoadingSpinnerOnClick:function(form)
{$(document).on('click',form,function(e)
{$.colorbox.toggleLoadingOverlay();});},locationSearchSubmit:function(location,cartPage,entryNumber,productCode,latitude,longitude)
{$.colorbox.toggleLoadingOverlay();$.ajax({url:productCode,data:{locationQuery:location,cartPage:cartPage,entryNumber:entryNumber,latitude:latitude,longitude:longitude},type:'POST',success:function(response)
{ACC.pickupinstore.refreshPickupInStoreColumn(response);$.colorbox.toggleLoadingOverlay();$('.pickup_store_results-item button').first().focus();}});},rememberlocationSearchSubmit:function(cartPage,entryNumber,formUrl)
{$.ajax({url:formUrl,data:{cartPage:cartPage,entryNumber:entryNumber},type:'GET',success:function(response)
{ACC.pickupinstore.refreshPickupInStoreColumn(response);$('#locationForSearch').val(searchLocation);}});},bindPaginateStoreResultsButtons:function()
{$(document).on('click','.searchPOSPaging button',function(e)
{e.preventDefault();var data={location:$('#locationForSearch').val(),cartPage:$('#atCartPage').val(),entryNumber:$('.entryNumber').val(),page:$(this).parent('form').find('input[name=page]').val()};var url=$(this).parent('form').attr('action');ACC.pickupinstore.paginateResultsSubmit(url,data);});},paginateResultsSubmit:function(url,data)
{$.colorbox.toggleLoadingOverlay();$.ajax({url:url,data:data,type:'GET',success:function(response)
{ACC.pickupinstore.refreshPickupInStoreColumn(response);$.colorbox.toggleLoadingOverlay();}});},refreshPickupInStoreColumn:function(data)
{$('#pickup_store_results').html(data);ACC.product.bindToAddToCartStorePickUpForm();},bindPickupRadioButtonSelection:function()
{$("form.cartEntryShippingModeForm").each(function()
{var formELE=$(this);formELE.find("input[checked]").click();formELE.find("input[name=shipMode]").change(function()
{if($(this).val()=="pickUp")
{ACC.pickupinstore.bindChangeToPickupinStoreTypeSelection(formELE);}
else
{ACC.pickupinstore.bindChangeToShippingTypeSelection(formELE);}})})},bindChangeToShippingTypeSelection:function(formELE)
{formELE.find('.changeStoreLink').hide();formELE.removeClass("shipError");$('div#noStoreSelected').hide();formELE.find('input[type="radio"]').removeAttr("checked");formELE.find('input[type="radio"][value="ship"]').attr("checked","checked");if(!ACC.pickupinstore.checkIfPointOfServiceIsEmpty(formELE))
{formELE.submit();}},bindChangeToPickupinStoreTypeSelection:function(formELE)
{formELE.find('.changeStoreLink').show();formELE.find('input[type="radio"]').removeAttr("checked");formELE.find('input[type="radio"][value="pickUp"]').attr("checked","checked");},validatePickupinStoreCartEntires:function()
{var validationErrors=false;$("form.cartEntryShippingModeForm").each(function()
{var formid="#"+$(this).attr('id');if($(formid+' input[value=pickUp][checked]').length&&ACC.pickupinstore.checkIfPointOfServiceIsEmpty($(this)))
{$(this).addClass("shipError");validationErrors=true;}});if(validationErrors)
{$('div#noStoreSelected').show().focus();$(window).scrollTop(0);}
return validationErrors;},checkIfPointOfServiceIsEmpty:function(cartEntryDeliveryModeForm)
{return(!cartEntryDeliveryModeForm.find('.pointOfServiceName').text().trim().length);}};$(document).ready(function()
{ACC.pickupinstore.bindAll();});

ACC.refresh={refreshCartTotals:function(checkoutCartData)
{$('#ajaxCart').html($('#cartTotalsTemplate').tmpl(checkoutCartData));},refreshPage:function(checkoutCartData)
{ACC.address.refreshDeliveryAddressSection(checkoutCartData);ACC.payment.refreshPaymentDetailsSection(checkoutCartData);ACC.refresh.refreshCartTotals(checkoutCartData);ACC.placeorder.updatePlaceOrderButton();},getCheckoutCartDataAndRefreshPage:function()
{$.getJSON(getCheckoutCartUrl,function(checkoutCartData)
{ACC.refresh.refreshPage(checkoutCartData);});}}
$.blockUI.defaults.overlayCSS={};$.blockUI.defaults.css={};

ACC.product={asicsToolkit:asicsToolkit||new AsicsToolkit(),addedToCartModalHtml:"",initQuickviewLightbox:function(){this.enableAddToCartButton();this.bindToAddToCartForm();},enableAddToCartButton:function(){$('#addToCartButton').removeAttr("disabled");$('#addToCartButton').click(function(e){if($("input[name='productCodePost']").attr("value").toLowerCase().indexOf(".s")>0){$("#AddToCart-AddToCartAction").append("<input id='userAddedToCart' type='hidden' value='true' />");$("#AddToCart-AddToCartAction").append("<input id='addedToCartAjaxCompleted' type='hidden' value='false' />");document.getElementsByClassName("prod-sizes")[0].style.pointerEvents='none';}});},disabledAddToCart:function(){$('.prod-sizes .col-sm-4').click(function(){if(!$(this).hasClass('active')){$('#addToCartButton').attr('disabled','disabled');}});},bindToAddToCartForm:function(){var addToCartForm=$('.add_to_cart_form');addToCartForm.on("submit",function(event){$('#addToCartButton').attr('disabled','disabled');event.preventDefault();var widthDropDown=$("#SelectWidthDropDownList");if(widthDropDown.length>0){if($("#SelectWidthDropDownList li[chosenWidth='chosenWidth']").length<=0){if($("#SelectSizeDropDown li[chosenSize='chosenSize']").length<=0){$('.add_to_cart_form #addToCartNoWidthChosen').addClass('hide');$('.add_to_cart_form .unselectedMsg').removeClass('hide');return;}else{$('.add_to_cart_form #addToCartNoWidthChosen').removeClass('hide');$('.add_to_cart_form .unselectedMsg').addClass('hide');return;}}}
if($("#SelectSizeDropDown li[chosenSize='chosenSize'], div[chosenSize='chosenSize'], option[chosenSize='chosenSize']").length>0){var options={url:addToCartForm.attr("action"),type:'POST',cache:false,success:ACC.product.displayAddToCartPopup,error:function(xht,textStatus,ex){alert("Failed to add to your cart. Error details ["+xht+", "+textStatus+", "+ex+"]");}};addToCartForm.ajaxSubmit(options);return false;}else{$('#addToCartButton').removeAttr('disabled');$('.add_to_cart_form .unselectedMsg').removeClass('hide');$('.add_to_cart_form #addToCartNoWidthChosen').addClass('hide');}});},bindToAddToCartStorePickUpForm:function(){var addToCartStorePickUpForm=$('#pickup_store_results .add_to_cart_storepickup_form');addToCartStorePickUpForm.ajaxForm({success:ACC.product.displayAddToCartPopup});},enableStorePickupButton:function(){$('.pickupInStoreButton').removeAttr("disabled");},displayAddToCartPopup:function(cartResult,statusText,xhr,formElement){try{if(cartResult.split('<body class="page-homepage').length>1){location.reload();}}catch(exception){if(exception.name!=="TypeError"){throw exception;}}
$('.miniCart').focus();var dataBrand=$('html').attr('data-brand');if(dataBrand){dataBrand=dataBrand.toLowerCase();}
var isOT=($('.template-pages-product-productLayout1Page').length>0)||(dataBrand=='onitsuka tiger')||(dataBrand=='ot');var isAT=($('.template-pages-product-productLayout3Page ').length>0)||(dataBrand=='asics tiger')||(dataBrand=='at');var isASPdp5=$('#product-details-container-v5').length>0;if(ACC.product.asicsToolkit.isMobileDevice()&&(isASPdp5||isOT||isAT)){ACC.product.displayAddedToCartPopup(cartResult);document.getElementsByClassName("prod-sizes")[0].style.pointerEvents='auto';}else{$('#addToCartLayer').remove();if(typeof ACC.minicart.refreshMiniCartCount=='function'){ACC.minicart.refreshMiniCartCount();}
$(".mini-cart").append(cartResult.addToCartLayer);$('#addToCartLayer').fadeIn(function(){$.colorbox.close();if(typeof timeoutId!='undefined'){clearTimeout(timeoutId);}
timeoutId=setTimeout(function(){$('#addToCartLayer').fadeOut(function(){$('#addToCartLayer').remove();});},1000);});var $minicart=$("#minicart-total");$minicart.css("opacity","0");if($(window).width()<768){$.scrollTo(0,400,{onAfter:function(){$minicart.animate({opacity:1});}});}else{$minicart.animate({opacity:1});}}
var productCode=$('[name=productCodePost]',formElement).val();var quantityField=$('[name=qty]',formElement).val();var quantity=1;if(quantityField!=undefined){quantity=quantityField;}
ACC.track.cart.trackAddToCart(productCode,quantity,cartResult.cartData);},sortSizeSelectList:function(){$.fn.sort_size_variants=function(){var sizeVariants=$("#"+this.attr('id')+' li');var rePattern=/\s*[A-Za-z]?(\d\d?\.?\d?)/g;sizeVariants.sort(function(a,b){var aValue=$.browser.mozilla?a.textContent:a.innerText;var bValue=$.browser.mozilla?b.textContent:b.innerText;var matchA=aValue.match(rePattern);if(matchA===null){var sortingKey=['XXS','XS','S','M','L','XL','XXL','XXXL'];var aSizeStr=aValue.trim();var bSizeStr=bValue.trim();var sizePattern=/^\w*\s?(\w+)$/g;var aResult=sizePattern.exec(aSizeStr);var bResult=sizePattern.exec(bSizeStr);var aPatternLen=aResult.length;var bPatternLen=bResult.length;if(aPatternLen>0&&bPatternLen>0){aSizeStr=sizePattern.exec(aSizeStr)[aPatternLen-1];bSizeStr=sizePattern.exec(aSizeStr)[bPatternLen-1];}
return(sortingKey.indexOf(aSizeStr)>sortingKey.indexOf(bSizeStr)?1:-1);}else{var rePattern1=/\s*[A-Za-z]?(\d\d?\.?\d?)/;var aNum=parseFloat(rePattern1.exec(aValue)[1]);var bNum=parseFloat(rePattern1.exec(bValue)[1]);if(aNum>bNum){return 1;}else if(bNum>aNum){return-1;}else{return 0;}}});return sizeVariants;}
var sortedSizeVariants=$("#SelectSizeDropDown").sort_size_variants();$("#SelectSizeDropDown").empty().append(sortedSizeVariants);},handleSizeSelectClick:function(){$(document.body).on('click','a.SizeOption, .dropdown-menu li a.QtyOption',function(e){e.preventDefault();});$(document.body).on('click change','.dropdown-menu li, .size-select-list .SizeOption.inStock, .size-select-list, .qty-select-list',function(event){var $target=$(event.currentTarget);var selectedOption=$(this).children("option:selected");if(selectedOption.length>0){$target=$(selectedOption.get(0));}
if($target.attr("data-is-label")==="true"){return;}
var bind=null;var width=null;if(typeof($target.data)!=="undefined"){bind=$target.data("bind");width=$target.data("width");}
var dropdown=$(this).parents(".dropdown");var dropdownToggle=dropdown.children('.dropdown-toggle');if($target.hasClass("inStock")||$target.hasClass("inStock")||$target.hasClass("productSubscribeNotify")){if(bind=="width"){dropdownToggle.find("[data-bind='product-width-choice-label']").text($target.text()).end();}else if($(this).hasClass('QtyOption')||$target.hasClass('QtyOption')){$('#chooseQtySpan span').text($target.text()).end();$('#qtyInput').val($target.text());$('#qty').val($target.text());}else{dropdownToggle.find("[data-bind='product-size-choice-label']").text($target.text()).end();if(width){var arrayOfwidth=width.split(" ");var text="";for(var i=0;i<arrayOfwidth.length;i++){var width=arrayOfwidth[i];var name=width.split("_")[0];var pcode=width.split("_")[1];text+='<li class="WidthOption inStock"  data-value="'+pcode+'" data-bind="width">'
+'<a class="WidthOption"  tabindex="-1" href="#">'+name+'&nbsp;</a></li>';}
$("#SelectWidthDropDownList").empty();$("#SelectWidthDropDownList").html(text);if(arrayOfwidth.length==1){$("#SelectWidthDropDown").trigger("click");$("#SelectWidthDropDownList li").first().trigger("click");}}}
if(!$(this).hasClass('QtyOption')){$('input[name="productCodePost"]').val($(this).attr("data-value")||$target.attr("data-value"));}
dropdownToggle.dropdown('toggle');$('.add_to_cart_form .unselectedMsg').addClass('hide');if(bind=="width"){$target.attr("chosenWidth","chosenWidth");}else{$target.attr("chosenSize","chosenSize");}}
if($(window).width()<768&&$('#product-details-container-v5').length===0&&$target.parents('#colorbox').length==0){var $addToCartButton=$('#addToCartButton');if($addToCartButton.length>0){var offset=$addToCartButton.offset().top+$addToCartButton.height()+30-$(window).height();$.scrollTo(offset,800);}}});},displayAddedToCartPopup:function(result){var displayPopupContent=function(minicartData){var $addedToCartPopup=$('#addedToCartPopup');var tempDiv=$addedToCartPopup;if(ACC.product.addedToCartModalHtml==""){ACC.product.addedToCartModalHtml=tempDiv.html();}else{$addedToCartPopup.empty().html(ACC.product.addedToCartModalHtml);}
$.colorbox({inline:true,href:"#addedToCartPopup .addedToCartPopupContent",onComplete:function(){$('#colorbox').addClass('added-to-cart-popup');var $addToCartPopup=$('.added-to-cart-popup');$addToCartPopup.find('.checkout-btn').before(result.addToCartLayer);$addToCartPopup.find('.total-item-count').html($(minicartData).find('.itemList > li').length);$addToCartPopup.find('.cart-subtotal-value').html($(minicartData).find('.total .right').text());$.colorbox.resize();ACC.product.enableAddToCartButton();},onClosed:function(){$('#colorbox').removeClass('added-to-cart-popup');}});};ACC.minicart.getMiniCartData(displayPopupContent);}};$(document).ready(function(){if(document.querySelector('.template-pages-product-productLayout5ReactPage')===null){with(ACC.product){bindToAddToCartForm();disabledAddToCart();bindToAddToCartStorePickUpForm();enableStorePickupButton();enableAddToCartButton();handleSizeSelectClick();}}});

ACC.skiplinks={bindAll:function()
{this.bindLinks();},bindLinks:function()
{$("a[href^='#']").not("a[href='#']").click(function()
{var target=$(this).attr("href");$(target).attr("tabIndex",-1).focus();});}};$(document).ready(function()
{if(/webkit/.test(navigator.userAgent.toLowerCase()))
{ACC.skiplinks.bindAll();}});

ACC.termsandconditions={bindTermsAndConditionsLink:function(){$('.termsAndConditionsLink').click(function(e){e.preventDefault();var href=$(this).attr("href");window.open(href);return false;});}}
$(document).ready(function(){with(ACC.termsandconditions){bindTermsAndConditionsLink();}});

ACC.productfinder={asicsToolkit:asicsToolkit||new AsicsToolkit(),buildHeader:function(){var nodeList=document.querySelectorAll('.product-finder-step');var colnum=Math.floor(12/nodeList.length);for(var i=0;i<nodeList.length;i++){var attribute=nodeList[i].getAttribute('data-step-label');document.getElementById("product-finder-header").insertAdjacentHTML('beforeend','<div class="col-xs-12 col-sm-'+colnum+' header-step header-step-'+(i+1)+'" data-step="'+(i+1)+'"><span>'+attribute+'</span><div class="selected-options"></div></div></div>');}},initVars:function(){ACC.productfinder.header=$('#product-finder-header');ACC.productfinder.headerElem=ACC.productfinder.header.children();ACC.productfinder.productType=$("#product-finder-module").data("product-type");},highlightHeader:function(){ACC.productfinder.headerElem.removeClass('active');var $finderStep=$('.product-finder-step.active, .product-finder-start.active');var step=$finderStep.data('step');if(step){$('.header-step-'+step).addClass('active');var attributeName=$finderStep.data("attribute-name");ACC.track.productfinder.trackGAPageEvent(attributeName);}else{ACC.productfinder.header.addClass('hidden');}},buildAndSubmitRequest:function(){var queryString=":relevance";$('.product-finder-step').each(function(i){var $this=$(this);var attributeName=$this.data('attribute-name');if(attributeName.length){var selectedOptions=$this.find('.step-option.selected');if(selectedOptions.length){var facetName=attributeName+":";selectedOptions.each(function(i){var attributeValue=$(this).data('attribute-value');if(attributeValue.length){queryString+=":"+facetName+attributeValue;}})}}})
window.location.href=$('#product-finder-module').data('product-type')+"/search?q="+queryString;},bindButtons:function(){$('#product-finder button').on('click',function(){var stepElement=$(this).closest('.product-finder-step, .product-finder-start');ACC.productfinder.header.removeClass('hidden');if($(this).hasClass('next')){var next=stepElement.next();if(next.length){stepElement.removeClass('active');next.addClass('active');}else{ACC.productfinder.buildAndSubmitRequest();return;}}else{stepElement.removeClass('active');stepElement.prev().addClass('active');}
ACC.productfinder.highlightHeader();ACC.productfinder.doHeightCalculations();});$('#product-finder').on('swipeleft swiperight',function(e){if(!(asicsToolkit.isMobileDevice()||asicsToolkit.isIpadDevice())){return;}
if(e.type==="swiperight"&&($('.product-finder-start.active').length>0)){return;}
var stepElement=$('#product-finder .active');var step=parseInt(stepElement.attr("data-step"));var allStepElements=$(this).find(".product-finder-step");ACC.productfinder.header.removeClass('hidden');if(e.type==="swipeleft"){var next=$(".product-finder-step[data-step="+(step+1)+"]");if(next.length){stepElement.removeClass('active');next.addClass('active');}else{ACC.productfinder.buildAndSubmitRequest();return;}}else{stepElement.removeClass('active');stepElement.prev().addClass('active');}
ACC.productfinder.highlightHeader();ACC.productfinder.doHeightCalculations();});},bindHeaderClick:function(){ACC.productfinder.headerElem.on('click',function(){$('.product-finder-step, .product-finder-start').removeClass('active');var datastep=$(this).data('step');$('.product-finder-step-'+datastep).addClass('active');ACC.productfinder.highlightHeader();ACC.productfinder.doHeightCalculations();})},bindOptions:function(){$('[class*=step-option]').on('click',function(){var $this=$(this);$this.toggleClass('selected');if($this.hasClass('selected')){var closest=$this.closest('.product-finder-step');if(!closest.data('multi-select')){$this.siblings().removeClass('selected');}
var attributeName=closest.data("attribute-name");if(attributeName&&attributeName.length>2){ACC.track.productfinder.trackGAClickEvent(attributeName.substring(2,attributeName.length),$this.data("attribute-value"));}}
ACC.productfinder.checkPronationSteps();ACC.productfinder.updateHeaderSelectedOptions($this);})},updateHeaderSelectedOptions:function($optionElement){var step=$optionElement.closest('.product-finder-step');var header=$('.header-step-'+step.data('step')+' .selected-options');header.html('');var optionsStr="";step.find('.step-option.selected').each(function(){if(optionsStr.length>0){optionsStr+=", ";}
optionsStr+=$(this).data('attribute-label');});header.html(optionsStr);},checkPronationSteps:function(){var pronationOptions=$('.step-option-pronation.selected');if(pronationOptions.length>0){pronationOptions.each(function(index){var $this=$(this);var index=$this.data('index');var parent=$this.closest('.step-pronation');parent.find('.step-option-pronation-image').removeClass('selected');parent.find('.step-option-pronation-image-'+index).addClass('selected');parent.find('.step-option-pronation-description').removeClass('selected');parent.find('.step-option-pronation-description-'+index).addClass('selected');});}},doHeightCalculations:function(){function adjustPronationChoicesHeight(){var height=Math.round($(".step-option-pronation-image").height()/$(".step-option-pronation").length);$(".step-option-pronation").height(height);$(".step-option-pronation").css("line-height",height+"px");}
if(!(asicsToolkit.isMobileDevice())){if($("#step-pronation-options").height()>0){adjustPronationChoicesHeight();}}
if(asicsToolkit.isMobileDevice()){if($("#step-graph-options").height()>0){$.each($(".graph-bar"),function(){var levelCoeff=$(this).find(".graph-bar-top").height()/200;$(this).width(((1-(levelCoeff-1)/2*-1)*100)+"%");$(this).height(500/$("#step-graph-options").children().length+"px");});}}}};$(function(){ACC.productfinder.buildHeader();ACC.productfinder.initVars();ACC.productfinder.bindButtons();ACC.productfinder.bindOptions();ACC.productfinder.bindHeaderClick();ACC.productfinder.updateHeaderSelectedOptions($('.step-option-pronation.selected'));});

ACC.checkoutups={gmarkers:[],map:"",bindAll:function()
{ACC.checkoutups.gmarkers=[];this.bindChangeLocationClick();this.bindShowHoursClick();this.fetchUPSDataIfSavedAddrDisplays();},getUpsData:function(postData){ACC.checkoutups.showMask();$.ajax({url:'getUpsData',method:'POST',data:postData}).done(function(data){$('#ups-result .inner-content').html(data);var $noResult=$('#ups-no-result-msg');$noResult.hide();var resultLength=$('#access-point-content').data('resultlength');if(resultLength=='0'){$noResult.show();$('.change-location').show();$('#acess-points-list, #ups-map-canvas').hide();}else{ACC.checkoutups.drawMap(data);ACC.checkoutups.formatHoursLayout();}
ACC.checkoutups.hideMask();}).fail(function(){ACC.checkoutups.hideMask();});},drawMap:function(data){$('#acess-points-list, .change-location, #ups-map-canvas').show();var $pointItem=$('#acess-points-list .point-item');var geoCodes=[];$.each($pointItem,function(idx,value){var geo={lat:$(value).data('latitude'),longit:$(value).data('longitude')}
geoCodes.push(geo);});var $mapCanvas=$('#ups-map-canvas');var centerPoint=new google.maps.LatLng($mapCanvas.data('latitude'),$mapCanvas.data('longitude'));var mapOptions={zoomControl:true,zoomControlOptions:{style:google.maps.ZoomControlStyle.DEFAULT},panControl:true,streetViewControl:true,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DEFAULT},scrollwheel:false};if(asicsToolkit.isDesktopDevice()){ACC.checkoutups.map=new google.maps.Map(document.getElementById("ups-map-canvas"),mapOptions);}
var image=ACC.config.commonResourcePath+'/images/common/icon_store.png';var bounds=new google.maps.LatLngBounds();$.each(geoCodes,function(k,v){var latLng=new google.maps.LatLng(v.lat,v.longit);if(asicsToolkit.isDesktopDevice()){var marker=new google.maps.Marker({position:latLng,map:ACC.checkoutups.map,icon:image});bounds.extend(latLng);ACC.checkoutups.gmarkers.push(marker);marker.addListener('click',function()
{$.each(ACC.checkoutups.gmarkers,function(key,value){value.setIcon(image);});marker.setIcon(ACC.config.commonResourcePath+'/images/common/icon_store_blue.png');var $currentPointItem=$($('#acess-points-list .point-item')[k]);$currentPointItem.find('input').prop('checked',true);$('#acess-points-list').scrollTo($currentPointItem);ACC.checkoutups.sendUpsAPData($currentPointItem);});ACC.checkoutups.map.fitBounds(bounds);ACC.checkoutups.bindUPSPointClickEvent(k,marker);}else{ACC.checkoutups.bindMobileShowMap(k,latLng,mapOptions);ACC.checkoutups.bindUPSPointClickEvent(k);}});},upsLabelClick:function(){if(!$('#acess-points-list').is(':visible')){$('#ups-no-result-msg,.change-location').hide();var addressLine='';var politicalDivision2='';var politicalDivision1='';var postcodePrimaryLow='';var countryCodeVal='';var $savedAddrList=$('#savedAddressListHolder');if($savedAddrList.is(':visible')){var $selectedSavedAddr=$savedAddrList.find('li.delivery_address_item input[name="delivery_address"]:checked').parent();addressLine=$selectedSavedAddr.find('.addressLine').val();politicalDivision2=$selectedSavedAddr.find('.politicalDivision2').val();politicalDivision1=$selectedSavedAddr.find('.politicalDivision1').val();postcodePrimaryLow=$selectedSavedAddr.find('.zipCode').val();countryCodeVal=$savedAddrList.find("input[name='delivery_address']:checked").data('country-code');}else{var $DeliveryAddressForm=$('#deliveryAddressForm');addressLine=$DeliveryAddressForm.find("input[id='address.townCity_del']").val();politicalDivision2=$DeliveryAddressForm.find("input[id='address.line2_del']").val();politicalDivision1=$DeliveryAddressForm.find("input[id='address.line1_del']").val();postcodePrimaryLow=$DeliveryAddressForm.find("input[id='address.postcode_del']").val();countryCodeVal=$DeliveryAddressForm.find('select[name="countryIso"]').val();}
var postData={countryCode:countryCodeVal,addressLine:addressLine,politicalDivision2:politicalDivision2,politicalDivision1:politicalDivision1,postcodePrimaryLow:postcodePrimaryLow};ACC.checkoutups.getUpsData(postData);}},bindUPSPointClickEvent:function(idx,marker){$($('#acess-points-list .point-item')[idx]).find('input').on('click',function(){$('#ups-required-msg').hide();if(marker){google.maps.event.trigger(marker,"click");}else{var $currentPointItem=$($('#acess-points-list .point-item')[idx])
ACC.checkoutups.sendUpsAPData($currentPointItem);}});},sendUpsAPData:function($currentPointItem){var selectUpsAPData={accessPointLocation:$currentPointItem.data('upsap')}
$.ajax({url:'summary/selectUpsAP',method:'POST',data:selectUpsAPData}).done(function(data){});},bindChangeLocationClick:function(){$(document).on('click','#ups-left-pane .change-location',function(){$(this).hide();$('#acess-points-list, #ups-no-result-msg').hide();$('#ups-postcode').show();});$(document).on('click','#btn-go',function(){$('#ups-postcode, #ups-map-canvas,#ups-required-msg').hide();var newPostalCode=$('#ups-postcode #postal-code').val();var countryCodeVal="";var $savedAddrList=$('#savedAddressListHolder');if($savedAddrList.is(':visible')){countryCodeVal=$savedAddrList.find("input[name='delivery_address']:checked").data('country-code');}else{countryCodeVal=$('#deliveryAddressForm select[name="countryIso"]').val();}
var postData={countryCode:countryCodeVal,postcodePrimaryLow:newPostalCode}
ACC.checkoutups.getUpsData(postData);});},bindMobileShowMap:function(idx,latLng,mapOptions){$($('#acess-points-list .point-item')[idx]).find('.mobile-map-link').on('click',function(){var $modalContent=$('#map-modal-content');var $currentLabel=$(this).parents('.point-item').find('.ups-point-label').clone();$('#map-modal-content #text-info').html($currentLabel);$.colorbox({inline:true,opacity:'0.9',href:'#map-modal-content',onComplete:function()
{mapOptions.zoom=17;mapOptions.center=latLng;var mobileMap=new google.maps.Map(document.getElementById("mobile-map-canvas"),mapOptions);var img=ACC.config.commonResourcePath+'/images/common/icon_store_blue.png';var marker=new google.maps.Marker({position:latLng,map:mobileMap,icon:img});$.colorbox.resize();$('#colorbox').addClass('ups-mobile-map');},onClosed:function(){$('#mobile-map-modal').html($modalContent);$('#colorbox').removeClass('ups-mobile-map');}});});},formatHoursLayout:function(){var $hoursContent=$('.hours-content');$.each($hoursContent,function(index,val){var hours=$(val).data('hours');var hoursArray=hours.split(';');var innerContent='';$.each(hoursArray,function(idx,value){innerContent+='<div>'+value+'</div>';});$(val).html(innerContent);});},bindShowHoursClick:function(){$(document).on('click','.show-hours, .hide-hours',function(){var $currentPoint=$(this).parents('.point-item');var $currentHours=$currentPoint.find('.hours-content');if(!$currentHours.is(':visible')){$currentPoint.find('.ups-links').addClass('opened');}else{$currentPoint.find('.ups-links').removeClass('opened');}
$currentHours.toggle();});},fetchUPSDataIfSavedAddrDisplays:function(){var isSavedAddrList=$('#savedAddressList').is(':visible');var isUPSLabelChecked=$('#ups-locator-map').is(':checked');if(isSavedAddrList&&isUPSLabelChecked){ACC.checkoutups.upsLabelClick();}},showMask:function(){$('#ups-result .loading-ajax').show();},hideMask:function(){$('#ups-result .loading-ajax').hide();}};$(document).ready(function()
{ACC.checkoutups.bindAll();});

ACC.asicsId={loginForm:function(){return document.querySelector('#loginForm')},checkUserStatus:function(){var loginForm=ACC.asicsId.loginForm();loginForm.j_username.readOnly=true;loginForm.j_password.readOnly=true;ACC.asicsId.showLoginMask();$.ajax({url:ACC.config.encodedContextPath+"/asicsid/check",data:{user:loginForm.j_username.value,password:loginForm.j_password.value,CSRFToken:loginForm.CSRFToken.value},method:"POST",dataType:"json",success:function(data){if(data.status==='validation_step'){ACC.asicsId.hideLoginMask();switch(data.cause){case"no_asics_id_account":ACC.asicsId.openModal('asics-id-modal-create-asics-id',data.asicsIdData);break;case"no_asics_ecom_account":ACC.asicsId.openModal('asics-id-modal-create-ecom',data.asicsIdData);break;case"no_link":ACC.asicsId.openModal('asics-id-modal-link',data.asicsIdData);break;}}else if(data.status==='error'){$('#globalMessages').html("<div class='alert negative'>"+data.message+"</div>");ACC.asicsId.hideLoginMask();loginForm.j_username.readOnly=false;loginForm.j_password.readOnly=false;if(data.cause==='asics_id_login_failed'){$(".login_emailexist_prompt_msg").show();}}else{ACC.asicsId.pushLoginEvent();loginForm.submit();}},error:function(){ACC.asicsId.pushLoginEvent();loginForm.submit();}});},openModal:function(id,data){$.colorbox({width:720,height:759,html:$('#'+id).html(),onOpen:function(){$("#colorbox").css("opacity",0);},onComplete:function(){const $colorbox=$("#colorbox");if(ACC.asicsId.ifFromCheckout()){$colorbox.find(".checkout-title").length>0&&$colorbox.find(".checkout-title").removeClass("hidden");$colorbox.find(".checkout-btn").length>0&&$colorbox.find(".checkout-btn").removeClass("hidden");}else{$colorbox.find(".returning-title").length>0&&$colorbox.find(".returning-title").removeClass("hidden");$colorbox.find(".returning-btn").length>0&&$colorbox.find(".returning-btn").removeClass("hidden");}
$colorbox.css("opacity",1);ACC.asicsId.addClassForColorbox();if(ACC.asicsId.aacDisabled){var $currentModal=$('.asics-id-modal');var $dobInput=$currentModal.find('.dob-input');$dobInput.addClass('error');$dobInput.val(ACC.asicsId.aacDisabledDOBValue);$currentModal.find('form input').prop("disabled",true);$currentModal.find('.us-error-msg').show();$currentModal.find('.finish-login').attr({'disabled':'disabled'}).addClass('disabled');}else{ACC.asicsId.bindAsicsIdModal(data);ACC.asicsId.bindLinkErrorMsgClick(id);}
ACC.asicsId.bindModalCheckoutAsGuestLink();$.colorbox.resize();},onClosed:function(){$('#colorbox').removeClass('asics-id-modal');var loginForm=ACC.asicsId.loginForm();loginForm.j_username.readOnly=false;loginForm.j_password.readOnly=false;}});},bindAsicsIdModal:function(asicsIdData){var button=document.querySelector('#cboxLoadedContent [id^=submit-id]');var form=$(button).closest('form');var formElem=form.get()[0];ACC.asicsId.initDatePicker('.asics-id-modal');if(asicsIdData){if(formElem.elements.first_name){formElem.elements.first_name.value=asicsIdData.first_name;}
if(formElem.elements.last_name){formElem.elements.last_name.value=asicsIdData.last_name;}
formElem.elements.birthDate.value=asicsIdData.birth;}
$('#cboxLoadedContent [id^=submit-id]').off('click').on('click',function(e){e.preventDefault();var loginForm=ACC.asicsId.loginForm();$('.asics-id-modal .required-msg').hide();if(form.valid()){ACC.asicsId.showModalMask();$.ajax({url:ACC.config.encodedContextPath+form.attr('data-action'),method:"POST",data:{user:loginForm.j_username.value,password:loginForm.j_password.value,CSRFToken:loginForm.CSRFToken.value,birthDate:formElem.elements.birthDate.value,firstName:formElem.elements.first_name?formElem.elements.first_name.value:"",lastName:formElem.elements.last_name?formElem.elements.last_name.value:"",subscribed:formElem.elements.asics_id_news?formElem.elements.asics_id_news.checked:false},complete:function(){ACC.asicsId.pushLoginEvent();loginForm.submit();}});}else{$.colorbox.resize();}})},bind:function(){$('#login-submit').on('click',function(e){e.preventDefault();if($('#loginForm').valid()){ACC.asicsId.checkUserStatus();}});},bindNewsQuestionEvent:function(){$(document).on('click','.quest-icon',function(e){e.preventDefault();e.stopPropagation();$(this).parents('form').find('.news-popup, .tooltip-arrow').show();});$(document).on('click','.popup-close',function(e){e.preventDefault();$(this).parents('form').find('.news-popup, .tooltip-arrow').hide();});},getAgeByDOB:function(dob){var b=new Date(dob);var c=new Date();var age=c.getFullYear()-b.getFullYear()
if(((b.getMonth()+1)<(c.getMonth()+1))||(((b.getMonth()+1)==(c.getMonth()+1))&&(b.getDate()<c.getDate()))){return age;}
return age-1;},DOBValidate:function(e,$error,$btn,$newsCheckbox,$disableNewsMsg){var current_date=new Date();var dobVal=e&&e.target.value?new Date(e.target.value):null;var $dob=$(e.target);var age=0,ages='';var $currentForm=$dob.closest('form');doNormal();function disableREG(){$dob.addClass('error');$btn.attr({'disabled':'disabled'}).addClass('disabled');var isAAC=$('html[data-region="aac"]').length==1;if(isAAC){$dob.parents('form').find('input').prop("disabled",true);$currentForm.find('.us-error-msg').show();$('#newsletter').attr("checked",false);$('#termsAndConditionsNewAdd').attr("checked",false);ACC.asicsId.aacDisabled=true;ACC.asicsId.aacDisabledDOBValue=$dob.val();}else{$currentForm.find('.us-error-msg').show();}}
function disableOPT(){$newsCheckbox.prop("disabled",true);$newsCheckbox.prop('checked',false);$disableNewsMsg.show();}
function doNormal(){$dob.removeClass('error');$btn.removeClass('disabled').removeAttr('disabled');$error.hide();$newsCheckbox.removeAttr('disabled');$disableNewsMsg.hide();$dob.next('label.error').hide();$currentForm.find('.us-error-msg').hide();}
if(dobVal){age=ACC.asicsId.getAgeByDOB(dobVal);ages=(age<13)?'y':(age<16)?'m':'n';switch(ages){case'y':disableREG();break;case'm':disableOPT();break;case'n':default:break;}}},bindRegisterDOBEvent:function(){var $DOB=$(document.getElementById("register.birthDate"));$DOB.on('change',function(e){var $error=$(".register_birthDate_market_msg");var $registerBtn=$("#registerButton");var $newsCheckbox=$("form.paper input#newsletter[type='checkbox'], #dateGuestRegisterForm #newsletter[type='checkbox']");var $disableNewsMsg=$('.register_birthDate_market_msg');ACC.asicsId.DOBValidate(e,$error,$registerBtn,$newsCheckbox,$disableNewsMsg);});},bindRegisterEvent:function(){var $Email=$(document.getElementById("register.email"));var $regForm=$("#registerButton");$('label[for=optletter] a').css('color','blue');$regForm.on('click',function(){var isAJP=$('html[data-region="ajp"]').length==1;var $registerForm=$(this).closest('form.paper');if(!$registerForm.valid()){return false;}
ACC.asicsId.showLoginMask();if($(".register_emailexist_prompt_msg").is(':visible')){$(document.getElementById('register.checkPwd')).val($("#password").val());}
$registerForm.submit();});$(".userexist-asicsid-prompt-msg").on('click',function(){window.open($("#asicsID-forget-password-url").val());});$(document.getElementById("register.birthDate")).trigger('change');},bindModalDOBChangeEvent:function(){$(document).on('change','.dob-input',function(e){var $currentModal=$('.asics-id-modal');var $error=$currentModal.find('.error-msg');var $finishLoginBtn=$currentModal.find('.finish-login');var $newsCheckbox=$currentModal.find('.news-checkbox');var $disableNewsMsg=$currentModal.find('.disable-news-msg');ACC.asicsId.DOBValidate(e,$error,$finishLoginBtn,$newsCheckbox,$disableNewsMsg);$.colorbox.resize();});},bindModalCheckoutAsGuestLink:function(){var $link_btn=$(".login_checkout_guest_btn");if($link_btn.length>0){$link_btn.on('click',function(e){e.preventDefault();var $form_hd=$(this).parent().parent().prev().find('form');if($form_hd.length>0){$form_hd.submit();}});}},bindLinkErrorMsgClick:function(modalType){$(document).off('click','.asics-id-modal .error-msg').on('click','.asics-id-modal .error-msg',function(){var formElement=$(this).closest('form')[0];var dobVal=formElement.elements.birthDate.value;var firstName='';var lastName='';if(modalType==='asics-id-modal-create-ecom'){firstName=formElement.elements.first_name.value;lastName=formElement.elements.last_name.value;}
var tcsStatus=formElement.elements.asics_id_tc.checked;var newsStatus=formElement.elements.asics_id_news.checked;$.colorbox({width:720,height:300,html:$('#age-warning-modal').html(),onComplete:function(){ACC.asicsId.addClassForColorbox();$('#age-warning-btn-edit').off('click').on('click',function(){$.colorbox({width:720,height:759,html:$('#'+modalType).html(),onComplete:function(){ACC.asicsId.addClassForColorbox();ACC.asicsId.bindAsicsIdModal();var $currentModal=$('.asics-id-modal');var formElem=$currentModal.find('form')[0];formElem.elements.birthDate.value=dobVal;if(modalType==='asics-id-modal-create-ecom'){formElem.elements.first_name.value=firstName;formElem.elements.last_name.value=lastName;}
formElem.elements.asics_id_tc.checked=tcsStatus;formElem.elements.asics_id_news.checked=newsStatus;$currentModal.find('.dob-input').addClass('error');$currentModal.find('.error-msg').show();$currentModal.find('.finish-login').attr({'disabled':'disabled'}).addClass('disabled');$.colorbox.resize();},onClosed:function(){$('#colorbox').removeClass('asics-id-modal')}});});},onClosed:function(){$('#colorbox').removeClass('asics-id-modal')}});});},initDatePicker:function(wrapper){const datepickerElem=$(wrapper).find('input[name=birthDate]');datepickerElem.datepicker($.datepicker.regional[ACC.config.countryIsoCode]);if(asicsToolkit.isMobileDevice()){$('.akrUserRegister input, .asics-id-modal input').not('input[name=birthDate]').on('click',function(){datepickerElem.datepicker("hide");});}},ifFromCheckout:function(){var currentUrl=window.location.href;if(currentUrl){return currentUrl.indexOf('checkout')!==-1;}
return false;},addClassForColorbox:function(){$('#colorbox').addClass('asics-id-modal');if(ACC.asicsId.ifFromCheckout()){$('#colorbox').addClass('from-checkout');}
$.colorbox.resize();},initRegisterDOBRelitve:function(){$(document.getElementById("register.birthDate")).trigger('change');},bindModalRelativeEvents:function(){ACC.asicsId.bindModalDOBChangeEvent();},showModalMask:function(){var $modal=$('.asics-id-modal');$modal.find('.loading').show();$modal.find('.asics-id-overlay').show();$modal.find('.asics-id-btn').attr({'disabled':'disabled'}).addClass('disabled');},showLoginMask:function(){var $account=$('.account');$account.find('.loading-ajax').show();$account.find('.login-overlay').show();$account.find('.button').attr({'disabled':'disabled'}).addClass('disabled');},hideLoginMask:function(){var $account=$('.account');$account.find('.loading-ajax').hide();$account.find('.login-overlay').hide();$account.find('.button').removeClass('disabled').removeAttr('disabled');},pushLoginEvent:function(){window.dataLayer.push({"event":"checkout-option","ecommerce":{"checkout_option":{"actionField":{"step":2,"option":"login"}}}});if(window.utag){window.utag.link({"eec_action":"checkout_option","checkout_step":2,"checkout_option":"login","gaEventCategory":"ecommerce","gaEventAction":"checkout option","gaEventLabel":"login","gaEventValue":undefined,"gaEventNonInteraction":false});}}};$(function(){var isEnableAsicsID=$('#isEnableAsicsId').val();ACC.asicsId.initDatePicker('form.paper');ACC.asicsId.initDatePicker('#dateGuestRegisterForm');ACC.asicsId.bindRegisterDOBEvent();ACC.asicsId.initRegisterDOBRelitve();ACC.asicsId.bindNewsQuestionEvent();if(isEnableAsicsID&&isEnableAsicsID.toLowerCase()=='true'){ACC.asicsId.bind();ACC.asicsId.bindModalRelativeEvents();ACC.asicsId.bindRegisterEvent();if(!ACC.asicsId.ifFromCheckout()){$('.login_checkout_popup_message').addClass("hide");}}});

$(document).ready(function(){disableMessage();$('select[id="status"]').change(function(){disableMessage();});function disableMessage(){var currentTiecketStatus=$('input[id="currentTicketStatus"]').val();var selectedStatus=$('select[id="status"]').val();if(currentTiecketStatus=='COMPLETED'&&selectedStatus=='COMPLETED'){$('textarea[id="message"]').attr('disabled','disabled');$('button[id="updateTicket"]').attr('disabled','disabled');}else{$('textarea[id="message"]').removeAttr('disabled');$('button[id="updateTicket"]').removeAttr('disabled');}}});

var sessionSec;var counter;var carts;function addASMHandlers(){revertAutocompleteNormalize();addCloseBtnHandler();addASMFormHandler();addHideBtnHandler();addCustomerListBtnHandler();customerListModalHandler();movePlacedBy();if($("#sessionTimer").length&&$('#asmLogoutForm').length){startTimer();}
if($("#resetButton").length){$("#resetButton").click(function(){resetSession();});}
if(placeholderNotAvailable()){$('[placeholder]').focus(function(){var input=$(this);if(input.val()==input.attr('placeholder')){input.val('');input.removeClass('placeholder');}}).blur(function(){var input=$(this);if(input.val()==''||input.val()==input.attr('placeholder')){input.addClass('placeholder');input.val(input.attr('placeholder'));}}).blur();}
$('[placeholder]').blur(function(){var input=$(this);if(input.val()==''){if(input.attr("name")){toggleBind(false);}}});if($('.ASM_alert_cart').length){$("input[name='cartId']").addClass('ASM-input-error');}
if($('.ASM_alert_customer').length){$("input[name='customerName']").addClass('ASM-input-error');}
if($('.ASM_alert_cred').length){$("input[name='username']").addClass('ASM-input-error');$("input[name='password']").addClass('ASM-input-error');}
if($('.ASM_alert_create_new').length){toggleCreateAccount(true);}
if($('#_asmLogin').length){var loginUser=$("#asmLoginForm input[name='username']");var min=1;if(loginUser.val().length>=min){loginUser.parent().addClass('checked');}}
$("#asmLoginForm input[name='username'], #asmLoginForm input[name='password']").keyup(function(){var min=1;var parentNode=$(this.parentNode)
if(this.value.length>=(min)){parentNode.addClass('checked');checkSignInButton(parentNode);}
else{parentNode.removeClass('checked');checkSignInButton(parentNode);}});$("input[name='customerName']").keyup(function(e){validateNewAccount(this);$(this).removeData("hover");removeAsmHover();toggleBind(false);toggleStartSessionButton(this,false);if($(this).val().length<3){toggleCreateAccount(false);}});$("#_asmPersonifyForm input[name='cartId']").keyup(function(){formValidate(this,8,true,8);if(isErrorDisplayed()){$("input[name='cartId']").removeClass('ASM-input-error');if($('.ASM_alert')){$('.ASM_alert').remove();}}});$("#_asmPersonifyForm input[name='customerName']").keyup(function(){if(isErrorDisplayed()){$("input[name='customerName']").removeClass('ASM-input-error');if($('.ASM_alert')){$('.ASM_alert').remove();}
if($(this).val()==""){$("input[name='cartId']").removeClass('ASM-input-error');toggleStartSessionButton($("input[name='cartId']"),true);$("input[name='customerId']").val("");}}
if($(this).val()==""){$("input[name='cartId']").val("");$("#asmAutoCompleteCartId").empty();}});$("#_asmPersonifyForm input[name='cartId']").blur(function(){var regEx=/^\s+$/;if(regEx.test($(this).val())){$(this).val('');formValidate(this,8,true,8);}});$("#_asmBindForm input[name='cartId']").keyup(function(e){checkCartIdFieldAndToggleBind(this);});$("#_asmBindForm input[name='cartId']").bind('paste',function(e){var inputField=this;setTimeout(function(){checkCartIdFieldAndToggleBind(inputField);},100);});$("input[name='customerName'], input[name='customerId']").hover(function(){var item=($(this).attr('data-hover'))?jQuery.parseJSON($(this).attr('data-hover')):$(this).data("hover");var disabled=($(this).attr('data-hover'))?"disabled":"";if(!(item===null||item===undefined)){$(this).after('<div id="asmHover" class="'+disabled+'"><span class="name">'+item.name+'</span><span class="email">'+item.email+'</span><span class="date">'+item.date+'</span><span class="card">'+item.card+'</span></div>');}},function(){removeAsmHover();});$("#_asmPersonifyForm input[name='cartId']").autocomplete({source:function(request,response){response(carts);},appendTo:"#asmAutoCompleteCartId",autoFocus:true,minLength:0,select:function(event,ui){if(ui.item.value==""){event.preventDefault();}
toggleStartSessionButton(this,true);}});$("#_asmPersonifyForm input[name='cartId']").on('click, focus',function(){$("#_asmPersonifyForm input[name='cartId']").autocomplete('search','');});if($("input[name='customerName']").length>0){$("input[name='customerName']").autocomplete({source:function(request,response){$.ajax({url:ACC.config.contextPath+"/assisted-service/autocomplete",dataType:"jsonp",data:{customerId:request.term},success:function(data){response(data);}});},minLength:3,appendTo:"#asmAutoComplete",select:function(event,ui){if(ui.item.value==""){event.preventDefault();return;}
toggleStartSessionButton(this,true);$(this).data('hover',{name:ui.item.value,email:ui.item.email,card:ui.item.card,date:ui.item.date});$("input[name='customerId']").val(ui.item.email);carts=ui.item.carts;if($("input[name='cartId']").attr("orig_value")==null){$("input[name='cartId']").val('');if(carts!=null){if(carts.length==1){$("input[name='cartId']").val(carts[0]);}else{$("input[name='cartId']").autocomplete('search','');$("input[name='cartId']").focus();}}else{carts=[{label:"No Existing Carts",value:""}];$("input[name='cartId']").autocomplete('search','');$("input[name='cartId']").focus();}}
toggleBind(true);}}).data("ui-autocomplete")._renderItem=function(ul,item){if(item.value==""){toggleCreateAccount(true);return $("<li></li>").data("item.autocomplete",item).append("<a><span class='noresult'>No Customer ID found</span></a>").appendTo(ul);}
else{toggleCreateAccount(false);}
return $("<li></li>").data("item.autocomplete",item).append("<a><span class='name'>"+item.value+"</span><span class='email'>"+item.email+"</span><span class='date'>"+item.date+"</span><span class='card'>"+item.card+"</span></a>").appendTo(ul);};}
if($("#_asmBindForm").length){var customerId=$("input[name='customerName']").attr('readonly');var cartId=$(".cartId input").attr('disabled');if(customerId==="readonly"){$(".ASM_icon-chain").removeClass('invisible').addClass('ASM_chain-bind');}}
if($(".add_to_cart_form").length&&$("#_asm input[name='cartId']").val()==""){$(".add_to_cart_form").submit(function(event){setTimeout(function(){var url=ACC.config.encodedContextPath+"/assisted-service/add-to-cart";$.post(url,function(data){$("#_asm").replaceWith(data);addASMHandlers();})},400);});}
enableAsmPanelButtons();}
$(document).ready(function(){addASMHandlers();});function addASMFormHandler(){if($){if($(".asmForm").length){$(".asmForm").each(function(){$(this).submit(function(){$(this).find('[placeholder]').each(function(){var input=$(this);if(input.val()==input.attr('placeholder')){input.val('');}})
$.ajax({type:"POST",url:$(this).attr('action'),data:$(this).serialize(),success:function(data){$("#_asm").replaceWith(data);addASMHandlers();}});return false;});});}}}
function addCloseBtnHandler(){$("#_asm .closeBtn").click(function(){var url=ACC.config.encodedContextPath+"/assisted-service/quit";$.post(url,function(data){var oldurl=window.location.href;var newurl=oldurl.replace("&asm=true","").replace("?asm=true&","?").replace("?asm=true","");window.location.replace(newurl);});});}
function addHideBtnHandler(){$("#_asm .ASM_control_collapse").click(function(){$("#_asm").toggleClass("ASM-collapsed");});}
function startTimer(){sessionSec=timer;clearInterval(counter);counter=setInterval(timerFunc,1000);}
function timerFunc(){if(sessionSec<=0){clearInterval(counter);finishASMagentSession();return;}
sessionSec=sessionSec-1;var min=Math.floor(sessionSec/60);var sec=sessionSec%60;if(min<10)
{min="0"+min;}
if(sec<10)
{sec="0"+sec;}
$("#sessionTimer .ASM_timer_count").html(min+":"+sec);}
function resetSession(){var request=$.ajax({url:ACC.config.contextPath+"/assisted-service/resetSession",type:"POST"});request.done(function(msg){sessionSec=timer+1;});request.fail(function(jqXHR,textStatus){$('#errors').empty();$('#errors').append("Request failed: "+textStatus);});}
function finishASMagentSession(){$.ajax({url:ACC.config.encodedContextPath+"/assisted-service/logoutasm",type:"POST",success:function(data){$("#_asm").replaceWith(data);addASMHandlers();}});}
function isStartEmulateButtonPresent(){return $(".ASM-btn-start-session").length==1;}
function enableAsmPanelButtons(){$('div[id="_asm"] button').not(".ASM-btn-start-session, .ASM-btn-create-account, .ASM-btn-login").removeAttr('disabled');if(isStartEmulateButtonPresent()){if($("#_asmPersonifyForm input[name='customerId']").val()!=""){$("#_asmPersonifyForm input[name='customerId']").parent().addClass("checked");}
formValidate($("#_asmPersonifyForm input[name='cartId']")[0],8,true,8);}}
function placeholderNotAvailable(){var i=document.createElement('input');return!('placeholder'in i);}
function removeAsmHover(){$('#asmHover').remove();}
function toggleCreateAccount(activate){var bindIcon=$(".ASM_icon-chain");var createButton=$("#_asmCreateAccountForm button.ASM-btn-create-account[type='submit']");if(activate){createButton.removeClass('hidden');bindIcon.removeClass('invisible');}else{createButton.addClass('hidden');bindIcon.addClass('invisible');}}
function toggleActivationState(button,activate){if(activate){button.removeAttr('disabled');}
else{button.attr('disabled','');}}
function checkSignInButton(el){var signInBtn=$("#asmLoginForm button[type='submit']");var checkSum=$(el).parent().find('.checked').length;if(checkSum>1){toggleActivationState(signInBtn,true);}
else{toggleActivationState(signInBtn,false);}}
function checkStartSessionButton(el){toggleStartSessionButton(el,false);var checkSum=$(el.parentNode).siblings('.checked').length;if(checkSum>0){toggleActivationState($("button.ASM-btn-start-session"),true);}}
function checkCartIdFieldAndToggleBind(cartIdField){if(!$(cartIdField).hasClass('placeholder')&&$("input[name='customerId']").val().length>0){if(!isNaN(cartIdField.value)&&(cartIdField.value.length==8)&&(cartIdField.value!=cartIdField.getAttribute('orig_value'))){$("#_asmBindForm button[type='submit']").removeClass('hidden');$(".ASM_icon-chain").removeClass('invisible');return;}}
$("#_asmBindForm button[type='submit']").addClass('hidden');$(".ASM_icon-chain").addClass('invisible');}
function toggleBind(activate){if($("#_asmBindForm").length){var bindIcon=$(".ASM_icon-chain");var bindButton=$("#_asmBindForm button.ASM-btn-bind-cart[type='submit']");if(activate){bindButton.removeClass('hidden');bindIcon.removeClass('invisible');}else{bindButton.addClass('hidden');if($('.ASM-btn-create-account').hasClass('hidden')){bindIcon.addClass('invisible');}}}}
function toggleStartSessionButton(el,activate){var checkedItem=$(el).parent();var button=$("button.ASM-btn-start-session");if(activate){button.removeAttr('disabled');checkedItem.addClass("checked");}else{button.attr('disabled','');checkedItem.removeClass("checked");}}
function formValidate(el,min,number,max){if(!$(el).hasClass('placeholder')){if($(el).hasClass("ASM-input-error")){toggleStartSessionButton(el,false);return false;}
if(number!==false){if(isNaN(el.value)){toggleStartSessionButton(el,false);return false;}}
if(el.value.length>=(min)){toggleStartSessionButton(el,true);if(max!==undefined&&el.value.length>(max)){toggleStartSessionButton(el,false);}}
else if(el.value.length===0){checkStartSessionButton(el);}
else{toggleStartSessionButton(el,false);return false;}
return true;}
return false;}
function validateEmail(mailAddress){return($('<input>').attr({type:'email',required:'required'}).val(mailAddress))[0].checkValidity()&&(mailAddress.indexOf(".")>0);}
function validateName(name){var regEx=/^[a-zA-Z-]+\s[a-zA-Z-]+$/;return(name!=''&&regEx.test(name));}
function validateNewAccount(el){var createAccountButton=$("#_asmCreateAccountForm button.ASM-btn-create-account[type='submit']");var customerValues=el.value.split(', ');var IdInput=$("#_asmCreateAccountForm input[name='customerId']");var NameInput=$("#_asmCreateAccountForm input[name='customerName']");if(customerValues.length>1){var validName=validateName(customerValues[0]);var validMail=validateEmail(customerValues[1]);if(validName&&validMail){toggleActivationState(createAccountButton,true);IdInput.val(customerValues[1].replace(/^\s\s*/,'').replace(/\s\s*$/,''));NameInput.val(customerValues[0]);}
else{toggleActivationState(createAccountButton,false);return false;}}
else{toggleActivationState(createAccountButton,false);return false;}}
function revertAutocompleteNormalize(){$.ui.autocomplete.prototype._normalize=function(a){if(a.length&&a[0].label&&a[0].value){return a;}
return $.map(a,function(b){if(typeof b==="string"){return{label:b,value:b};}
return $.extend({label:b.label||b.value,value:b.value||b.label},b);});};}
function isErrorDisplayed(){return $('.ASM_alert').length;}
function addCustomerListBtnHandler(){$(".js-customer-list-btn").removeClass('disabled');$(document).on("click",".js-customer-list-btn",function(e){e.preventDefault();populateCustomerListModal($(this).data('actionurl'),'.js-customer-list-modal-content',addCustomerListSelect);});}
function customerListModalHandler(){$(document).on("click",".ASM_customer-list-modal .pagination a",function(e){e.preventDefault();populateCustomerListModal($(this).attr('href'),".asm-account-section",replaceCustomerListTable);});$(document).on("change",".ASM_customer-list-modal .sort-refine-bar .form-control",function(e){e.preventDefault();var targetUrl=$(".js-customer-list-sorting").data('sort-url');targetUrl+=$(this).val();populateCustomerListModal(targetUrl,".asm-account-section",replaceCustomerListTable);});$(document).on("change",".js-customer-list-select",function(e){e.preventDefault();var targetUrl=$(this).data('search-url');targetUrl+=$(this).val();var request=populateCustomerListModal(targetUrl,".asm-account-section",replaceCustomerListTable);request.done(function(){$.colorbox.resize();});});}
function addCustomerListSelect(componentToUpdate,data){var selector=$(data).find('.js-customer-list-select');$(componentToUpdate).html(data);searchUrl=$(data).find('.js-customer-list-select').data('search-url');if(selector[0].options.length>0)
{searchUrl+=selector[0].options[0].value;}
var request=populateCustomerListModal(searchUrl,componentToUpdate,appendCustomerListTable);request.done(function(){ACC.colorbox.open("",{href:".js-customer-list-modal-content",inline:true,className:'ASM_customer-list-modal',width:900,scrolling:false});});}
function appendCustomerListTable(componentToUpdate,data){$(componentToUpdate).append(data);}
function replaceCustomerListTable(componentToUpdate,data){$(componentToUpdate).html(data);}
function populateCustomerListModal(targetUrl,componentToUpdate,callFunction){var method="GET";return $.ajax({url:targetUrl,type:method,success:function(data)
{callFunction(componentToUpdate,data);},error:function(xht,textStatus,ex)
{console.error("Failed to get customer list. %s",ex);document.location.reload();}});}
function movePlacedBy(){if($(".asm-placedby").length&&$(".account-consignment").length)$(".account-consignment").prepend($(".asm-placedby"));};

var initelementOffset,totalsHeight,footerTop,footerGap,orderBoxWidth,scrollTop='';var orderBox=$('.container .col-sm-4.checkout-right .paper');var mobileWidthValue=767;var lastScrollTop=0;var mobileTopNavMarginOffsetInPx=60;var desktopTopNavMarginOffsetInPx=123;var asicsToolkit=asicsToolkit||new AsicsToolkit();function onscrollBinding(){$(document).scroll(function(){var st=$(this).scrollTop();if(!(asicsToolkit.isMobileDevice()||asicsToolkit.isIpadDevice())){$('#quick-search').css('display','none');}
pinBVtoFlatTabs();if($(window).width()>mobileWidthThreshold){$(".flatTabs").removeClass("stickUp");if($(this).scrollTop()>100&&!miniMenu&&(st>lastScrollTop)&&lastScrollTop!==0){$('#header').css('marginTop','0px');var subMenuTop=$("#header").outerHeight()+$("#nav_main").outerHeight()
$('.sub-menu-wrap').css('top',subMenuTop);var offsetNavSubMenuTopAdjustment=$("#cookie-bar").outerHeight()+$("#header").outerHeight()+$("#nav_main").outerHeight();$('.show-cookie-bar .sub-menu-wrap').css('top',offsetNavSubMenuTopAdjustment+'px');miniMenu=true;$(".flatTabs.isStuck").removeClass("stickUp");}else if(($(this).scrollTop()<100&&miniMenu)||st<lastScrollTop){miniMenu=false;$('#header').css('marginTop','0px');var subMenuTop=$("#header").outerHeight()+$("#nav_main").outerHeight()
$('.sub-menu-wrap').css('top',subMenuTop);var offsetNavSubMenuTopAdjustment=$("#cookie-bar").outerHeight()+$("#header").outerHeight()+$("#nav_main").outerHeight();$('.show-cookie-bar .sub-menu-wrap').css('top',offsetNavSubMenuTopAdjustment+'px');$(".flatTabs").removeClass("stickUp");$(".flatTabs.isStuck").addClass("stickUp");}
lastScrollTop=st;}
scrollTop=$(window).scrollTop();var globalMessagesHeight=0;if($('#globalMessages .alert').length>0){globalMessagesHeight=$('#globalMessages').height();}
if(!(asicsToolkit.isMobileDevice()||asicsToolkit.isIpadDevice())){if(scrollTop>=initelementOffset+globalMessagesHeight){orderBox.css({'position':'fixed','top':'100px'});}else if(scrollTop<=initelementOffset+globalMessagesHeight){orderBox.css({'position':'static','top':globalMessagesHeight+'px'});}
if(scrollTop+60>=footerGap){var minus=(scrollTop+55)-(footerTop-totalsHeight);orderBox.css({'top':55-minus});}}});}
function flatTabsStickUp(){jQuery(function($){if(!(asicsToolkit.isMobileDevice())){var $flatTabs=$(".flatTabs");if($flatTabs.length>0&&($.fn.stickUp)){$flatTabs.stickUp({parts:{0:'tab1',1:'tab2',2:'tab3',3:'tab4',4:'tab5',5:'tab6',6:'tab7',7:'tab8'},itemClass:'tabItem',itemHover:'active',topMargin:'auto'});$(".flatTabs li:first-child").addClass("active");$(".flatTabs").css({"width":"100%","left":"0"});}}});}
function pinBVtoFlatTabs(){if(!asicsToolkit.isMobileDevice()){var $bvOuter=$(".template-pages-product-productLayout5Page .BV-outer");setTimeout(function(){if($(".flatTabs").hasClass("isStuck")){$bvOuter.addClass("pinto-flatTabs");$(".template-pages-product-productLayout5Page .BV-outer").css("left",$(".prod-name").offset().left);}
else{$bvOuter.removeClass("pinto-flatTabs");$(".template-pages-product-productLayout5Page #go-back-container #breadcrumb.breadcrumb").show();}},0);}}
$(window).resize(function(){initFullWidthMCTACarousel('.mcta-carousel.full-width');initFullWidthMCTACarousel('.container > .asics-multiple-cta-component.maximumWidth.col-sm-12');fixRoyalSliderHeight();stickyCheckout();resizePDPtabbedContentInformation();moveSocialShareUnderRoyalSlider();initPDPMainThumbnails();setFullWidthTemplateItemsDimensions();$(".zoomImg").remove();mobileBadgePos();flatTabsStickUp();pinBVtoFlatTabs();if(!asicsToolkit.isMobileDevice()){$("#productFlatTabInformationContainer .tabInfoChildContent").height("auto");}
setOffsetNavSubMenuTopAdjustment();navigationMenuRemoveEmpty();offsetTopBg();});function fixRoyalSliderHeight(){wWidth=$(window).width();$('#fullwidth.product, #fullwidth.product .col-sm-12.tiger-banner').each(function(){$(this).height($('#fullwidth.product .rsOverflow').height());});$(".tigerRotatingImages #fullwidth.product").each(function(){var tigerBanners=$(this).find(".tiger-banner");if(tigerBanners.length>0){if($(tigerBanners[0]).height()>0){$($(this).children()[0]).height($(tigerBanners[0]).height());return;}
return;}
var self=$(this).find(".asics-banner, .tiger-banner");var img=$(this).find("img");if(img.length>0){var newHeight=($(this).find("img")[0].height+15)+"px";$(self).parent().parent().parent().height(newHeight);}});if(!(asicsToolkit.isMobileDevice())){$(".asics-loading").removeClass("asics-loading");}
$('.tiger-banner .home_inside').each(function(){if($(window).width()<640&&$(window).width()>440){$('.tiger-banner.col-sm-6, .tiger-banner.col-sm-4 a').height(wWidth);}
var thisHeight=$(this).height();var thisWidth=$(this).width();if(thisHeight<$(this).parent().height()){$(this).css({marginTop:-(thisHeight/2),top:'50%'});}else{$(this).css({marginTop:'0px',top:'0px'});}});if($('body').hasClass('page-productDetails')){if($('#left-column .rsSlide').length<=1){$('#single-product, .rsOverflow, .rsSlide').css({position:'relative',overflow:'visible'});}}}
function searchBoxResizeBinding(){$('.executeSearchMagnifyingGlass').on('mousedown',function(){window.location.href=window.location.origin+$(".searchboxcomponent_search_form").attr("action")+"?text="+$("[id|='search-component']").val();});$("[id|='search-component']").focus(function(){if($(window).width()>1200){$(this).animate({width:'195px'},200,function(){$('#quick-search').css('display','block');});}else if($(window).width()<=1200){$(this).animate({width:'115px'},200);}});$("[id|='search-component']").blur(function(){if($(window).width()>1200){$(this).animate({width:'125px'},200);}else if($(window).width()<=1200){$(this).animate({width:'70px'},200);}});$(".social-box .simple_disp-img").eq(0).hover(function(){$(this).find("img").attr("src",ACC.config.themeResourcePath+"/images/rebrand-header-ot-white.png");},function(){$(this).find("img").attr("src",ACC.config.themeResourcePath+"/images/rebrand-header-ot-blue.png");})
$(".social-box .simple_disp-img").eq(1).hover(function(){$(this).find("img").attr("src",ACC.config.themeResourcePath+"/images/rebrand-header-at-white.png");},function(){$(this).find("img").attr("src",ACC.config.themeResourcePath+"/images/rebrand-header-at-blue.png");})}
function stickyCheckout(){if(!(asicsToolkit.isMobileDevice()||asicsToolkit.isIpadDevice())){orderBox.width(orderBox.parent().width());totalsHeight=orderBox.height()+55;footerTop=$('.footer').offset().top;footerGap=footerTop-totalsHeight;}}
function bindPDPImageZoomOnMouseHover(){var firstSlideBeforeRSLoadedSelector=$('.rsSlide[style*="left: 0px"] .largeImgWrapper img');$('.rsSlide img').on('hover',function(){$('<img/>')[0].src=$(this).attr('data-big');});$("#zoomMouseOverlayPreviewBox").detach().appendTo(".rsContainer");$(".rsContainer").on('mousemove',function(e){var halfBoxWidth=(Math.trunc($("#zoomMouseOverlayPreviewBox").width()/2));var halfBoxHeight=(Math.trunc($("#zoomMouseOverlayPreviewBox").height()/2));var self=$("#zoomMouseOverlayPreviewBox");var parent=$(self).parent();function isYwithinImageContainerBounds(e){return(((parent.offset().top<=(e.pageY-halfBoxHeight)))&&((e.pageY+halfBoxHeight)<=(parent.offset().top+parent.height())));}
function isXwithinImageContainerBounds(e){return((parent.offset().left<=(e.pageX-halfBoxWidth))&&(e.pageX+halfBoxWidth)<=(parent.offset().left+parent.width()));}
var parentOffset=$(this).offset();var relX=e.pageX-parentOffset.left;var relY=e.pageY-parentOffset.top;if($("#zoomMouseOverlayPreviewBox").css("cursor")==="zoom-in"){$("div[id^='mlens_target']").css('display','none');}
var mouseXAddZoomOffset=0;var mouseYAddZoomOffset=-1;var newLeft=relX-halfBoxWidth+mouseXAddZoomOffset;var newTop=relY-halfBoxHeight+mouseYAddZoomOffset;if(isXwithinImageContainerBounds(e)){$("#zoomMouseOverlayPreviewBox").css({left:newLeft});}
if(isYwithinImageContainerBounds(e)){$("#zoomMouseOverlayPreviewBox").css({top:newTop});}
if($("div[id^='mlens_target']").is(':visible')){$(".rsActiveSlide div[id^='mlens_target']").trigger("mouseover");}});$("#single-product").on("click",'.rsSlide',function(e){var thisImageSelector=$('.rsActiveSlide .largeImgWrapper img');function onZoomActive(){$("div[id^='mlens_target']").css('display','none');$("#zoomMouseOverlayPreviewBox").css('cursor','zoom-in');$('.rsMainSlideImage').css('cursor','zoom-in');if(isIE()){$("#zoomMouseOverlayPreviewBox").css('cursor','all-scroll');$('.rsMainSlideImage').css('cursor','all-scroll');}}
function onZoomInactive(){$("div[id^='mlens_target']").css('display','block');$("#zoomMouseOverlayPreviewBox").css('cursor','zoom-out');$('.rsMainSlideImage').css('cursor','zoom-out');if(isIE()){$("#zoomMouseOverlayPreviewBox").css('cursor','crosshair');$('.rsMainSlideImage').css('cursor','crosshair');}}
if($("div[id^='mlens_target']").is(':visible')){onZoomActive();}else{onZoomInactive();}
if($(".rsActiveSlide div[id^='mlens_target']").length>0){return;}
if(thisImageSelector.length==0){thisImageSelector=firstSlideBeforeRSLoadedSelector;}
thisImageSelector.mlens({imgSrc:thisImageSelector.attr('data-big'),lensShape:'square',borderSize:1,overlayAdapt:true,borderColor:"#000",borderRadius:0,zoomLevel:1});$(".rsActiveSlide div[id^='mlens_target']").trigger("mouseover");});}
function handleRoyalSliderMainImageLink(){$(".rsMainSlideImage").click(function(e){e.preventDefault();});$("div[id^='mlens_target']").click(function(e){e.preventDefault();});$("#single-product div.rsContainer a").click(function(e){e.preventDefault();});$("#single-product div.rsContainer a").attr("href","");$("a.zoomImage").attr("href","");}
function handleCurrentPageInNavMenuForSubPagesInMyAccount(){if(!($(".account").length>0)){return;}
$(".page-add-edit-address .accountNav a[href$='/my-account/address-book']").parent("li").addClass("current");$(".page-order .accountNav a[href$='/my-account/orders']").parent("li").addClass("current");}
function setupHeroBannerComponentCarousel(){if($('#fullwidth.product').length>0){$("body:not(.template-pages-layout-fullPageScrollContentPage) #fullwidth.product").owlCarousel({navigation:true,pagination:true,items:1,itemsDesktop:1,itemsDesktopSmall:1,itemsTablet:1,itemsMobile:1,navigationText:false,autoPlay:5000,itemsScaleUp:true,transitionType:'fade',mouseDrag:false,stopOnHover:true});}}
function setupRoyalSliderPDPMainImageCarousel(){if($('#single-product').length>0&&$('.rsContent').length>0){var rsConfig={arrowsNav:true,autoScaleSlider:true,autoScaleSliderWidth:600,autoScaleSliderHeight:400,imageScaleMode:'fit',imageScalePadding:20,loop:true,fadeinLoadedSlide:false,imgWidth:600,imgHeight:400,addActiveClass:true,numImagesToPreload:11,arrowsNavAutoHide:false,sliderDrag:false,thumbs:{orientation:'vertical'},transitionType:'fade',fullscreen:{enabled:true,nativeFS:true}};if(!asicsToolkit.isMobileDevice()){rsConfig.controlNavigation='thumbnails';if($('#single-product').length<=1&&$('.rsContent').length<=1){$('.page-productDetails:not(template-pages-product-productLayout5Page) .post-share').css('position','relative');$('.page-productDetails:not(template-pages-product-productLayout5Page) .post-share').css('marginTop','-70px');}}
var slider=$('#single-product').css('display','block').royalSlider(rsConfig).data('royalSlider');}}
function calculateScene7WidValue(){var wrapperWidth=$('#pdp-main-image .owl-wrapper-outer').width();var maxWidth=515;wrapperWidth=wrapperWidth>maxWidth?maxWidth:wrapperWidth;return wrapperWidth;}
function setCurrentImgSrc($this){var currentIdx=$this.currentItem;var currentItem=$('#pdp-main-image .owl-item')[currentIdx];if(currentItem){var wrapperWidth=calculateScene7WidValue();var $currentImg=$(currentItem).find('img');var imageUrl=$currentImg.attr('data-url-src');var zoomUrl=$currentImg.attr('data-big');if(imageUrl){$currentImg.attr('src',imageUrl+'&wid='+wrapperWidth);}
if(asicsToolkit.isDesktopDevice()){zoomDestroy();$(currentItem).zoom({url:zoomUrl,callback:zoomPadding});}
else if(asicsToolkit.isMobileDevice()){zoomDestroy();}}}
function zoomPadding(){$('.template-pages-product-productLayout5Page #pdp-main-image .zoomImg').on("mousemove",function(){if(parseInt($(".zoomImg").css("top"))>-210){$(this).css({"padding-top":"80px","padding-bottom":"0"});}else{$(this).css({"padding-top":"0","padding-bottom":"80px"});}
if(parseInt($(".zoomImg").css("left"))>-128){$(this).css({"padding-left":"80px","padding-right":"0"});}else{$(this).css({"padding-left":"0","padding-right":"80px"});}});$('.template-pages-product-productLayout5Page #pdp-main-image .zoomImg').on("mouseout",function(){$(this).css({"padding":"0"});});}
function zoomDestroy(){$(".template-pages-product-productLayout5Page #pdp-main-image .owl-item").each(function(){$(this).trigger('zoom.destroy');});}
function mobileZoom(){if(asicsToolkit.isMobileDevice()){$(".template-pages-product-productLayout5Page #pdp-main-image .owl-item").on("click",function(){$("html,body").css("overflow-y","hidden");$("html,body").scrollTop(0);$("meta[name=viewport]").attr("content","width=device-width, initial-scale=1.0, maximum-scale=2.0");$(".zoom-tips").hide();var mobileZoomUrl=$(this).children(".product-img").attr("data-big");$("body").append("<div class='mobileZoomBox'><i class='closeX'></i><img src='"+mobileZoomUrl+"'></div>");});$("body").delegate(".mobileZoomBox","click",function(){$("html,body").css("overflow-y","hidden");$("meta[name=viewport]").attr("content","width=device-width, initial-scale=1.0, maximum-scale=1.0");$("html,body").css("overflow-y","auto");$(this).remove();});}}
function mobileBadgePos(){if(asicsToolkit.isMobileDevice()){var badgeMargin=-($(window).width()-$("#shoe-top-container").width())/2;var $labelsContainer=$(".template-pages-product-productLayout5Page #labels-and-badges-container");$labelsContainer.show();}
else{$(".template-pages-product-productLayout5Page #labels-and-badges-container").css("margin-right","0");}}
function productFlatTabInformationToggle(){$("#productFlatTabInformationContainer .tabInfoChildContent").show();$("#productFlatTabInformationContainer .tabInfoChildTitle").removeClass("collapse");if(asicsToolkit.isMobileDevice()){$("#productFlatTabInformationContainer .tabInfoChildContent").hide();$("#productFlatTabInformationContainer .tabInfoChildTitle").addClass("collapse");$(".tabInfoChild").eq(0).children(".tabInfoChildTitle").removeClass("collapse");$(".tabInfoChild").eq(0).children(".tabInfoChildContent").show();}
$("#productFlatTabInformationContainer .tabInfoChildTitle").on("click",function(){$(this).parents(".tabInfoChild").siblings(".tabInfoChild").find(".tabInfoChildContent").hide();$(this).parents(".tabInfoChild").siblings(".tabInfoChild").find(".tabInfoChildTitle").addClass("collapse");$(this).parents(".tabInfoChild").find(".tabInfoChildContent").stop().slideToggle();$(this).toggleClass("collapse");});}
function setupPDPImageAndThumbnailsV5(){if($(".template-pages-product-productLayout5Page").length>0){$('.zoomImg').remove();$("#pdp-main-image.owl-carousel").owlCarousel({navigation:true,items:1,itemsDesktop:1,itemsDesktopSmall:1,itemsTablet:1,itemsMobile:1,navigationText:false,transitionType:'fade',mouseDrag:false,stopOnHover:true,afterInit:function(){setCurrentImgSrc(this);},afterMove:function(){var $this=this;setCurrentImgSrc($this);$($('#pdp-main-thumbnails .owl-item img')[$this.currentItem]).trigger('mouseenter');},beforeUpdate:function(){setCurrentImgSrc(this);}});if(!asicsToolkit.isMobileDevice()){if($('#single-product').length<=1&&$('.rsContent').length<=1){$('.page-productDetails:not(template-pages-product-productLayout5Page) .post-share').css('position','relative');$('.page-productDetails:not(template-pages-product-productLayout5Page) .post-share').css('marginTop','-70px');}}
$('#single-product').css('display','block');initPDPMainThumbnails();$(".template-pages-product-productLayout5Page .social-sharing-container span").click(function(){$(this).parents(".social-sharing-container").removeClass("covered");});if(asicsToolkit.isMobileDevice()){$(".social-sharing-container").detach().appendTo("#top-right-info");}
if(asicsToolkit.isMobileDevice()){$("#shoe-top-container .social-sharing-container").detach().appendTo("#left-column");}
if(asicsToolkit.isMobileDevice()&&$(".top-info-container #price-container .price span").hasClass("online-price")){$(".top-info-container #go-back-container").css("margin-top","15px");}}}
function initPDPMainThumbnails(){if(asicsToolkit.isMobileDevice())return;$('#pdp-main-thumbnails.owl-carousel').owlCarousel({navigation:true,items:7,itemsDesktop:7,itemsDesktopSmall:7,navigationText:false,transitionType:'fade',mouseDrag:false,beforeInit:insertThumbnailImages,afterInit:bindEvents});}
function insertThumbnailImages(){var $thumbnailsContainer=$('#pdp-main-thumbnails.owl-carousel');var $mainImgs=$('#pdp-main-image .owl-item img');var rotationImage=document.querySelector(".asics-rotation-image");if(rotationImage){rotationImage.style.display="block";var imgStr='<img class="rotation-thumb" src="/assets/desktop/common/images/360-thumbnail.svg" data-index="0">';$thumbnailsContainer.append(imgStr);}
for(var i=0;i<$mainImgs.length;i++){var currentThumbnaiUrl=$($mainImgs[i]).data('owl-thumb');if(currentThumbnaiUrl){var dataIndex=(rotationImage?i+1:i);var currentAlt=$mainImgs[i].alt;var imgStr='<img src="'+currentThumbnaiUrl+'" data-index='+dataIndex+' alt="'+currentAlt+'">';$thumbnailsContainer.append(imgStr);}}}
function bindEvents(){bindThumbnailHoverEvent();}
function bindThumbnailHoverEvent(){$('#pdp-main-thumbnails .owl-item img').on('hover',function(){addBorderToCurrentThumbnail(this);var currentIdx=$(this).data('index');var owl=$('#pdp-main-image.owl-carousel').data('owlCarousel');owl.goTo(currentIdx);});}
function addBorderToCurrentThumbnail($this){$($this).parents('.owl-wrapper').find('.owl-item').css('background','none');$($this).parent().css({'background':'#EEE','border-radius':'2px'});}
function setupPDPtabbedContentInformation(){$(".tabInfoChild:first-child").addClass("active");if($(window).width()<768){var tigerWidthN=($(window).width()-30)*.50690754516472;}else{var tigerWidthN=($('.container').width()-30)*.50690754516472;}
$('.tabInfoChildContent .tiger-banner').parent().find('h1').css('display','none');$('.tabInfoChild .tabInfoChildContent .tiger-banner').height(tigerWidthN);$('.tabInfoChild .tabInfoChildContent .tiger-banner').parent().height(tigerWidthN);$('.tabInfoChildContent').each(function(){if($(this).innerHeight()>0&&!$(this).find('div').hasClass('tiger-banner')&&!$(this).find('div').hasClass('tabPronation')){$(this).height($(this).innerHeight());}});$("body:not(.template-pages-product-productLayout5Page) .tabInfoChild").click(function(e){var newHeight=$(this).find('.tabInfoChildContent').height();$('#productTabInformationContainer').height(newHeight);$(".tabInfoChild").removeClass("active");$(".tabInfoChildContent").hide();$(this).find(".tabInfoChildContent").show();$(this).addClass("active");});$("body:not(.template-pages-product-productLayout5Page) #productTabInformationContainer").height($('.tabInfoChild.active .tabInfoChildContent').height());}
function resizePDPtabbedContentInformation(){if($(window).width()<768){var tigerWidthN=($(window).width())*.50690754516472;}else{var tigerWidthN=($('.container').width()-30)*.50690754516472;}
$('.tabInfoChild .tabInfoChildContent .tiger-banner').height(tigerWidthN);$('.tabInfoChild .tabInfoChildContent .tiger-banner').parent().height(tigerWidthN);$('body:not(.template-pages-product-productLayout5Page) #productTabInformationContainer .tabInfoChildContent').each(function(){if($(this).innerHeight()>0&&!$(this).find('div').hasClass('tiger-banner')){$(this).height($(this).innerHeight());}});$("body:not(.template-pages-product-productLayout5Page) #productTabInformationContainer").height($('.tabInfoChild.active .tabInfoChildContent').height());}
function moveSocialShareUnderRoyalSlider(){if(asicsToolkit.isMobileDevice()){var placementElement=".page-productDetails .prod-sizes";if($(placementElement).length>0){$(".page-productDetails:not(template-pages-product-productLayout5Page) ul.post-share").detach().insertAfter(placementElement);}}else{var placementElement=".page-productDetails #single-product .rsOverflow";if($(placementElement).length>0){$(".page-productDetails:not(template-pages-product-productLayout5Page) ul.post-share").detach().insertAfter(placementElement);}}}
function enableGridItemProductNameMarquee(){$('.prod-name.marquee').marquee({direction:'left',duration:6500,delayBeforeStart:250,direction:'left',pauseOnHover:true,duplicated:true,easing:'linear',gap:25});$('.prod-name.marquee').removeClass("long-name");}
function bindSetSelectedWidthValue(){$(".width-option a").click(function(e){var thisOptionsValue=$(this).text();var currentlySelectedOptionValue=$("#chooseWidthSpan").text();if(thisOptionsValue!==currentlySelectedOptionValue){$("#chooseWidthSpan").text(thisOptionsValue);}else{e.stopPropagation();e.preventDefault();return;}});}
function bindPaginationClick(){$("#nextPageLink:not(.react), #previousPageLink:not(.react)").click(function(e){$(this).find("a")[0].click();location.href=$(this).find("a").attr('href');});}
function enablePLPHoverOnLongName(){function isEllipsisActive($jQueryObject){return($jQueryObject.width()<$jQueryObject[0].scrollWidth);}
function enableHoverInOutFeature(){$(".product .prod-name").mouseover(function(e){if(isEllipsisActive($(this))){$(this).parent().find(".fullProdName").css("display","block");e.preventDefault();e.stopPropagation();}});$("div[id^='product-item'] .fullProdName").mouseout(function(e){$(this).css("display","none");e.preventDefault();e.stopPropagation();});}
enableHoverInOutFeature();}
function fixVideoBannerHeight(){if(!asicsToolkit.isMobileDevice()){$.each($(".video-banner:not(.col-sm-12)"),function(){$(this).find("iframe").height(Math.trunc($(this).width()*0.66666666666667)+"px");});}}
function calculateMCTACarouselHeadlineHeightMobile(){var maxHeight=0;if(asicsToolkit.isMobileDevice()){$.each($(".mcta-carousel .asics-multiple-cta-component, .asics-multiple-cta-component.content-on-banner"),function(){var containerElement=$(this).find(".asics-multiple-cta-component-cta-buttons-container:not('.button-use-dropdown')");maxHeight=containerElement.height()>maxHeight?containerElement.height():maxHeight;});if(maxHeight>0){$.each($(".mcta-carousel .asics-multiple-cta-component .asics-multiple-cta-component-cta-buttons-container:not('.button-use-dropdown'), "+".asics-multiple-cta-component.content-on-banner .asics-multiple-cta-component-cta-buttons-container:not('.button-use-dropdown')"),function(){$(this).css("height",maxHeight+10+"px");$(this).addClass("center-container-buttons");});$.each($(".mcta-carousel .asics-multiple-cta-component-text-content"),function(){var textContainerHeight=$(this).height();var imageHeight=$(this).parent().find(".asics-multiple-cta-component-image").height();var marginTop=Math.round((((imageHeight/textContainerHeight)-1)*textContainerHeight)/2);$(this).css("top",marginTop+"px");});}}}
function orderPaymentConfirmationPageAdjustHeadlineWidth(){if($(".delivery_stages-guest").length==0){$(".order-successful").css("width","auto");}}
function ensureMobileMenuOnTop(){if(asicsToolkit.isMobileDevice()&&$(".navbar").hasClass("active")){$(".page-productDetails #right-column").css("zIndex","1");}}
function fetchYoutubePlayerAPI(){var tag=document.createElement('script');tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);}
function bindPlayVideoButton(){function togglePlayStopOnYoutubeUrl(urlStr){if(urlStr.indexOf("?autoplay=1")>0){return urlStr.substring(0,urlStr.indexOf("=1"))+"=0";}else if(urlStr.indexOf("?autoplay=0")>0){return urlStr.substring(0,urlStr.indexOf("=0"))+"=1";}else{return urlStr+"?autoplay=1";}}
function makeCloseButton(self){if(self!=null){self.html("Close Video");self.removeClass("play-video-button");self.addClass("close-video-button");}
$('.close-video-button').on('click',function(ev){var self=$(this);ev.preventDefault();self.unbind("click");self.parent().find("iframe")[0].src=togglePlayStopOnYoutubeUrl(self.parent().find("iframe")[0].src);makePlayButton(self);});};function makePlayButton(self){if(self!==undefined){self.html("Play Video");self.removeClass("close-video-button");self.addClass("play-video-button");}
$('.play-video-button').on('click',function(ev){var self=$(this);ev.preventDefault();self.unbind("click");self.parent().find("iframe")[0].src=togglePlayStopOnYoutubeUrl(self.parent().find("iframe")[0].src);makeCloseButton(self);});};makePlayButton();}
function positionSocialShareComponentInCarouselSlides(){var $mctaCarouselSections=$('.section.asicsmultiplecallstoactioncarouselcomponent, .fullwidth-component-container.ASICSMultipleCallsToActionCarouselComponent');for(var i=0;i<$mctaCarouselSections.length;i++){var $currentMCTASection=$($mctaCarouselSections[i]);var $socialSharesBound=$currentMCTASection.nextAll('.social-share');var $slides=$currentMCTASection.find('.owl-carousel .owl-item');for(var j=0;j<$socialSharesBound.length;j++){var $socialShareItem=$($socialSharesBound[j]);var slideNumber=$socialShareItem.attr('slide');if(slideNumber){$currentMCTASection.addClass("shareable");$socialShareItem.detach().prependTo($($slides[slideNumber-1]));}}}}
function setMCTACarouselFillImage(){var $carouselItems=$(".template-pages-layout-fullPageScrollContentPage .section .mcta-carousel .owl-item, .template-pages-layout-fullWidthContentPage .mcta-carousel .asics-multiple-cta-component");if(asicsToolkit.isMobileDevice()&&($carouselItems.length>0)){$.each($(".template-pages-layout-fullPageScrollContentPage .section .mcta-carousel img, .template-pages-layout-fullWidthContentPage .mcta-carousel img"),function(i,v){$(this).attr("src",$(this).attr("mob-fill-src"));});}
if(asicsToolkit.isMobileDevice()){$.each($(".template-pages-layout-fullWidthContentPage .asics-multiple-cta-component:not(.content-on-banner) img"),function(i,v){$(this).attr("src",$(this).attr("mob-fill-src"));});}}
function initializeFullPageCarouselComponents(){if($(".template-pages-layout-fullPageScrollContentPage, .template-pages-layout-fullWidthContentPage").length>0){$(".template-pages-layout-fullPageScrollContentPage #fullwidth.product, "+".template-pages-layout-fullWidthContentPage #fullwidth.product").owlCarousel({navigation:true,pagination:true,items:1,itemsDesktop:1,itemsDesktopSmall:1,itemsTablet:1,itemsMobile:1,autoPlay:5000,navigationText:false,itemsScaleUp:true,transitionType:'fade',mouseDrag:false,stopOnHover:true,afterInit:positionSocialShareComponentInCarouselSlides});setMCTACarouselFillImage();}}
function positionSocialShareComponent(){var $mctaSections=$(".section.asicsmultiplecallstoactioncomponent, .fullwidth-component-container.ASICSMultipleCallsToActionComponent, "+".fullwidth-component-container.BVCurationsComponent");for(var i=0;i<$mctaSections.length;i++){var $currentMCTASection=$($mctaSections[i]);var $socialShareBound=$currentMCTASection.next('.social-share');if($socialShareBound.length>0){$socialShareBound.detach().prependTo($currentMCTASection);}}}
function setFullWidthTemplateItemsDimensions(){if(!asicsToolkit.isMobileDevice()){$(".template-pages-layout-fullWidthContentPage .fullwidth-component-container.AthletesComponent").height(window.innerHeight-desktopTopNavMarginOffsetInPx);$(".template-pages-layout-fullWidthContentPage .fullwidth-component-container .col-sm-12.asics-multiple-cta-component.maximumWidth").height(window.innerHeight-desktopTopNavMarginOffsetInPx);if(window.innerWidth<1920){}}else{$(".template-pages-layout-fullWidthContentPage .fullwidth-component-container .asics-multiple-cta-component:not(.content-on-banner).maximumWidth").height(window.screen.height);$(".template-pages-layout-fullWidthContentPage .fullwidth-component-container:first-child .asics-multiple-cta-component.maximumWidth").height(window.innerHeight-mobileTopNavMarginOffsetInPx);$(".template-pages-layout-fullWidthContentPage .fullwidth-component-container .mcta-carousel").css("maxHeight",window.screen.height);}}
function socialShareComponentHighlightHashtagsText(){$.each($(".fullwidth-component-container .social-share:not(.mini-mode) .description"),function(index,descriptionElement){var oldTextContent=descriptionElement.innerHTML;var newTextContent=oldTextContent;var matches=oldTextContent.match(/#\w*/g);if(matches!=null){$.each(matches,function(i,hashtagText){newTextContent=newTextContent.replace(hashtagText,"<span class='highlighted'>"+hashtagText+"</span>");});}
descriptionElement.innerHTML=newTextContent;});}
function initializeFullWidthPageTemplate(){if($(".template-pages-layout-fullWidthContentPage").length>0){$(".mcta-carousel .loading-mobile").removeClass("loading-mobile");initializeFullPageCarouselComponents();setFullWidthTemplateItemsDimensions();positionSocialShareComponent();socialShareComponentHighlightHashtagsText();setTimeout(function(){$(".owl-carousel").each(function(){if(typeof($(this).data('owlCarousel'))!=="undefined"){$(this).data('owlCarousel').calculateAll();}});},0);}}
function initFullPageLib(){function placeDownArrow(index){if(asicsToolkit.isDesktopDevice()){if($("#social-share-content-page").length>0){if((($(".section.social-links-container").index()+1)==index)||(typeof index=="undefined")){$("#moveDown").addClass("offset-social-links-placement");}else{$("#moveDown").removeClass("offset-social-links-placement");}}}}
if($(".template-pages-layout-fullPageScrollContentPage").length>0){$('#fullpage').fullpage({navigation:true,paddingTop:(asicsToolkit.isMobileDevice()?'0px':'123px'),onLeave:function(index,nextIndex,direction){var loadedSlide=$(this);if(nextIndex>1&&$("#moveUp").is(":hidden")){$("#moveUp").fadeIn();}else if(nextIndex==1){$("#moveUp").fadeOut();}
placeDownArrow(nextIndex);var nextSectionsVideoElement=$($(".fp-section")[nextIndex-1]).find("video").get(0);if(typeof nextSectionsVideoElement!=='undefined'){downloadAndplayVideoIfViewable(nextSectionsVideoElement);}},navigationPosition:'right'});$('.pageType-ContentPage #moveDown').click(function(){$.fn.fullpage.moveSectionDown();});$('.pageType-ContentPage #moveUp').click(function(){$.fn.fullpage.moveSectionUp();});placeDownArrow();}
positionSocialShareComponent();}
function mobileWidthSelect(){if(asicsToolkit.isMobileDevice()){$(document).on('click','.template-pages-product-productLayout5Page .width-selector a.mobile-width-toggle',function(){$(".template-pages-product-productLayout5Page .width-option-outer").slideToggle();});}}
function mobileSizeSelect(){if(asicsToolkit.isMobileDevice()){$(document).on('click','.template-pages-product-productLayout5Page .size-box-select-container a.mobile-size-toggle',function(){$(this).next().slideToggle(function(){$.colorbox.resize();});});}}
function mobileSubscribeSelect(){if(asicsToolkit.isMobileDevice()){$(".template-pages-product-productLayout5Page .prodcutSubscribePanel a.subscribe-toggle").on("click",function(){$(".template-pages-product-productLayout5Page .prodcutSubscribePanel .size-select-list").slideToggle();});}}
function mctaComponentInit(){bindMCTAButtonLabelClick();if(asicsToolkit.isDesktopDevice()||asicsToolkit.isIpadDevice()){var preloadClass="mcta-preload";var $mctaComponents=$(".asics-multiple-cta-component");$.each($mctaComponents,function(){var mctaComponent=$(this);mctaComponent.imagesLoaded().done(function(){var textTop=mctaComponent.attr("data-text-pos-top");var textLeft=mctaComponent.attr("data-text-pos-left");var buttonsTop=mctaComponent.attr("data-buttons-pos-top");var buttonsLeft=mctaComponent.attr("data-buttons-pos-left");var textTopUnit=textTop.endsWith("%")?"%":"px";var textLeftUnit=textLeft.endsWith("%")?"%":"px";var buttonsTopUnit=buttonsTop.endsWith("%")?"%":"px";var buttonsLeftUnit=buttonsLeft.endsWith("%")?"%":"px";textTop=parseInt(textTop);textLeft=parseInt(textLeft);buttonsTop=parseInt(buttonsTop);buttonsLeft=parseInt(buttonsLeft);if((textTop>=0)&(textLeft>=0)){mctaComponent.find(".asics-multiple-cta-component-text-content").css("top",textTop+textTopUnit);mctaComponent.find(".asics-multiple-cta-component-text-content").css("left",textLeft+textLeftUnit);}
if((buttonsTop>=0)&(buttonsLeft>=0)){mctaComponent.find(".asics-multiple-cta-component-cta-buttons-container").css("top",buttonsTop+buttonsTopUnit);mctaComponent.find(".asics-multiple-cta-component-cta-buttons-container").css("left",buttonsLeft+buttonsLeftUnit);}
mctaComponent.removeClass(preloadClass);});});}
if(asicsToolkit.isMobileDevice()){var $mctaCarouselComponent=$('.fullwidth-component-container.ASICSMultipleCallsToActionCarouselComponent');$mctaCarouselComponent.each(function(i,ele){var $currentCarousel=$(ele);$dropdown=$currentCarousel.find('.button-use-dropdown');if($dropdown.length>0){var dropdownLabelPadding=12;var dropdownLabelHeight=$currentCarousel.find('.button-use-dropdown span.label').height()+dropdownLabelPadding;$currentCarousel.find('.owl-pagination').css({'bottom':dropdownLabelHeight});}});}}
function bindMCTAButtonLabelClick(){var carouselDefaultHeight=0;$('.button-use-dropdown span.label').on('click',function(){var $this=$(this);var $buttons=$this.parent().parent().find('a.button-use-dropdown');if(asicsToolkit.isDesktopDevice()){if($buttons.is(':visible')){$buttons.css('display','none');$this.removeClass('expanded');}else{$buttons.css('display','block');$(this).addClass('expanded');}}else{var dropdownLabelPadding=12;var dropdownLabelHeight=$this.height()+dropdownLabelPadding;var $currentCarousel=$this.parents('.ASICSMultipleCallsToActionCarouselComponent .owl-carousel');var $pagination=$currentCarousel.find('.owl-pagination');if($buttons.is(':visible')){$buttons.css('display','none');$this.removeClass('expanded');}else{if(carouselDefaultHeight==0||carouselDefaultHeight==null){carouselDefaultHeight=$currentCarousel.height();}
$buttons.css('display','block');$(this).addClass('expanded');}
var carouselHeightAfterCollapsed=$currentCarousel.height();var increasedHeight=carouselHeightAfterCollapsed-carouselDefaultHeight;$pagination.css({'bottom':dropdownLabelHeight+increasedHeight});}});}
function akrNewsletterModalOperate(){if($("html").attr("data-region")=="akr"){$(document).on("click",".newsletterModalInner .buttons .btn1",function(){$.colorbox.close();});$(document).on("change",".newsletterModalInner .check-additional input[type=checkbox]",function(){if($(this).is(":checked")){$(".newsletterModalInner .buttons .btn2").attr("disabled",false);}
else{$(".newsletterModalInner .buttons .btn2").attr("disabled",true);}});}}
function promoVoucher(){$(document).on("click",".checkout-right .voucher-tooltip .fa-question-circle",function(){var _voucher_content=$(".checkout-right .voucher-tooltip-content");var _voucher_height=_voucher_content.outerHeight()+10;var _voucher_left=$(".checkout-right .voucher-title .asicsLeft").outerWidth()+8;_voucher_content.css("top",-_voucher_height+"px");_voucher_content.find(".arrow").css("left",_voucher_left+"px");_voucher_content.show();});}
function MCATVideoModal(){$('.asics-video-play-button').each(function(){var $this=$(this);$this.on('click',function(e){e.preventDefault();if(asicsToolkit.isMobileDevice()){$.colorbox({opacity:'0.9',html:$this.next('.showPlayModal').html(),onComplete:function(){$.colorbox.resize();}});}else{$.colorbox({opacity:'0.9',width:'90%',height:'90%',html:$this.next('.showPlayModal').html(),onOpen:function(){$.colorbox.resize();}});}})})}
$(document).ready(function(){var preloadComponents=asicsToolkit.initiatePreloadedComponents();asicsToolkit.completePreloadComponents(preloadComponents);MCATVideoModal();mobileBadgePos();flatTabsStickUp();navigationMenuRemoveEmpty();offsetTopBg();mobileWidthSelect();mobileSizeSelect();mobileSubscribeSelect();akrNewsletterModalOperate();setOffsetNavSubMenuTopAdjustment();setPLPFilterSelectedValues();initializeFullWidthPageTemplate();onscrollBinding();searchBoxResizeBinding();handleCurrentPageInNavMenuForSubPagesInMyAccount();if($('.template-pages-product-productLayout5ReactPage').length===0){setupPDPImageAndThumbnailsV5();}
$("#productFlatTabInformationContainer #accordion .tabInfoChildContent:eq(0)").addClass("in");if(!asicsToolkit.isMobileDevice()){bindPDPImageZoomOnMouseHover();}
if($('button.addToCartButton.outOfStock').is(':visible')){$('.size.clearfix').css('display','none');}
initFullWidthMCTACarousel('.mcta-carousel.full-width');initFullWidthMCTACarousel('.container > .asics-multiple-cta-component.maximumWidth.col-sm-12');if(asicsToolkit.isMobileDevice()){fixRoyalSliderHeight();}else{setupHeroBannerComponentCarousel();fixRoyalSliderHeight();handleRoyalSliderMainImageLink();}
moveSocialShareUnderRoyalSlider();bindSetSelectedWidthValue();bindPaginationClick();fixVideoBannerHeight();orderPaymentConfirmationPageAdjustHeadlineWidth();$('.navbar-toggle').click(function(e){ensureMobileMenuOnTop();});bindPlayVideoButton();mobilePlaceOrderReviewInCheckout();initFullPageLib();mctaComponentInit();if(asicsToolkit.isMobileDevice()){bindMobileSearchTooltip();calculateMCTACarouselHeadlineHeightMobile();}
athleteComponentInit();bindTpointModal();promoVoucher();;});function initFullWidthMCTACarousel(ele){if(!asicsToolkit.isMobileDevice()){var currentWindowWidth=$(window).width();var containerWidth=$('.container').width();var left=-((currentWindowWidth-containerWidth)/2);var $fullWidthCarousel=$(ele);if($fullWidthCarousel.length>0){$fullWidthCarousel.css({'width':currentWindowWidth,'left':left});}}}
function bindTpointModal(){$('.template-pages-product-productLayout5Page .tpoint-register-link a, #tpointDetailInfo .detailurl').on('click',function(){$.colorbox({width:700,html:$('#tpoint-modal').html(),onComplete:function(){$('#colorbox').addClass('tpoint-modal');$.colorbox.resize();},onClosed:function(){$('#colorbox').removeClass('tpoint-modal');}});});}
function athleteComponentInit(){if(asicsToolkit.isMobileDevice()){if($("#social-share-content-page").length>0){$("#social-share-content-page").clone().appendTo("#athletesComponent #initialView .sharing-container");}
if($(".template-pages-layout-fullWidthContentPage").length>0){$("#athletesComponent #initialView .mobile-only").height(Math.round((window.screen.height)/4));}else{$("#athletesComponent #initialView .mobile-only").height(Math.round((window.screen.height-mobileTopNavMarginOffsetInPx)/4));}}
bindAthleteComponentInitialViewClick();bindAthletesComponentCloseButton();}
function bindAthleteComponentInitialViewClick(){$('#athletesComponent #initialView img, #athletesComponent #initialView div.mobile-only').on('click',function(){initAthleteComponentCarousel();$('#athletesComponent #initialView').hide();$('#athletesComponent #carouselView').show();var eq_index=$(this).index();eq_index=Math.floor(eq_index/2);if(eq_index===7){eq_index=6;}
var device_width=$(window).width();$('#athletesComponent #carouselView').find(".owl-wrapper").css({"transition":"all 200ms ease","transform":"translate3d(-"+(device_width*eq_index)+"px, 0px, 0px)"});$('#athletesComponent #carouselView .owl-controls').find(".owl-page").removeClass("active").eq(eq_index).addClass("active");$("#athletesComponent .close-button").show();});}
function toggleAthletesComponentCloseButton(){}
function bindAthletesComponentCloseButton(){$("#athletesComponent .close-button").click(function(){$('#athletesComponent #initialView').show();$('#athletesComponent #carouselView').hide();$("#athletesComponent .close-button").hide();});}
function initAthleteComponentCarousel(){$('#athletesComponent #carouselView').owlCarousel({navigation:true,pagination:true,items:1,itemsDesktop:1,itemsDesktopSmall:1,itemsTablet:1,itemsMobile:1,navigationText:false,autoPlay:8000,itemsScaleUp:true,transitionType:'fade',mouseDrag:false,stopOnHover:true});}
function setPLPFilterSelectedValues(){function setSortByText(text){$(".sortByChosenValue").text(text);}
function setDisplayNumText(text){$(".displayNumChosenValue").text(text);}
if(isPLPorSearchResultPage()){var chosenFilterText=$(".sort *[checked='true']").closest("label").text();if(chosenFilterText.length>0){setSortByText(chosenFilterText);}
function getSortByNumUserSelectedValue(){var sortByNumPara=getParameterByName("show");if(sortByNumPara.length>0){if(sortByNumPara.toLowerCase()==="all"){return sortByNumPara;}else{var sortByNumValue=getParameterByName("pageSize");return sortByNumValue;}}else{return null;}}
var sortByNumParaValue=getSortByNumUserSelectedValue();if(sortByNumParaValue!==null&&sortByNumParaValue.length>0){setDisplayNumText(getSortByNumUserSelectedValue());if($(".pagination").length>0){setDisplayNumText(getSortByNumUserSelectedValue());}}}}
function mobilePlaceOrderReviewInCheckout(){if(asicsToolkit.isMobileDevice()||asicsToolkit.isIpadDevice()){$(".page-singleStepCheckoutSummaryPage .single .container .col-sm-4.checkout-right").detach().appendTo(".page-singleStepCheckoutSummaryPage .single .container:last-child");}}
function fadeOutTapToZoom(){setTimeout(function(){$('.template-pages-product-productLayout5Page .zoom-tips').fadeOut('slow');},3000);}
function addFocusforOWL(){if(($(".owl-prev").length>0)&&($(".owl-next").length>0)){$(".owl-prev, .owl-next").attr({"autofocus":"true","tabindex":"0"});}
if($("#pdp-main-thumbnails").length>0){$("#pdp-main-thumbnails .owl-item img").attr({"autofocus":"true","tabindex":"0"});}}
$(window).load(function(){enablePLPHoverOnLongName();$(".zoom-tips").css("opacity","1");fadeOutTapToZoom();addFocusforOWL();var checkBVDetailsBarTimer=setInterval(function(){var $bvDetailsBar=$('.template-pages-product-productLayout5Page .bv-details-bar');if($bvDetailsBar.length>0){clearInterval(checkBVDetailsBarTimer);if($bvDetailsBar.find('.bv-percent-recommend-container a').length==0){$bvDetailsBar.parents('.bv-summary-bar').find('.bv-stars-container').attr('style','top:-4px!important');$bvDetailsBar.attr('style','display: none!important');}
$(".template-pages-product-productLayout5Page .BV-outer").css("display","inline-block");}},10);mobileZoom();pinBVtoFlatTabs();if(orderBox.is(':visible')){initelementOffset=orderBox.offset().top-55;stickyCheckout();}
if($('#select_deliveryModel_form').is(':visible')){$(".delivery_method_item input[type='radio']").each(function(){if($(this).attr("checked")==="checked"){$(this).parent().parent().find('.delivery_method_item_content').show();}});}
$("#selectPaymentMethodForm input[name=paymentType], #select_deliveryModel_form input[name=delivery_method]").on("click",function(){stickyCheckout();});$(document).on('keydown','#loyaltyPointsUse',function(){if(event.keyCode==13){return false;}});setupHeroBannerComponentCarousel();fixRoyalSliderHeight();handleRoyalSliderMainImageLink();$('#step3 div .radio_button').click(function(){if($('#step3 div .new_address input').prop('checked')){$('#step3 #delivery-address-form').css('display','block');}else{$('#step3 #delivery-address-form').css('display','none');}});$("#step1 .order_return_table input[id*='containerId']").on('keydown keypress keyup input',function(){if((/[^\d]/g).test($(this).val())){var start=this.selectionStart;var end=this.selectionEnd;$(this).val($(this).val().replace(/[^\d]/g,''));if(start){this.setSelectionRange(start-1,end-1);}}});$(document).on('keydown','#loyaltyPointsUse',function(){if(event.keyCode==13){return false;}});$('#step1 .order_return_table .item_containerId_section .item_already_sent').each(function(){$(this).click(function(){if($(this).find('input[type="checkbox"]').prop('checked')){$(this).parent().find('.containerId').css('display','block');}else{$(this).parent().find('.containerId').css('display','none');}});});if(asicsToolkit.isMobileDevice()){calculateMCTACarouselHeadlineHeightMobile();$(".mcta-carousel .loading-mobile").removeClass("loading-mobile");}});function navigationMenuRemoveEmpty(){if(!asicsToolkit.isMobileDevice()){$(".childLeafNode .navNodeChildContainerAsics > li .empty-nav-item").parent("li").css('margin-top','20px');$(".childLeafNode .navNodeChildContainerAsics > li").each(function(){if($(this).find("a").attr("href")=="#"&&$.trim($(this).find("a").attr("title"))==""){$(this).remove();}});}}
function offsetTopBg(){if($('[lang="en-US"] .paper .span-20 .content h1').length>0){var topHeight=$('[lang="en-US"] .paper .span-20 .content').offset().top;topHeight-=20;$('[lang="en-US"] .paper .span-20 .content h1').parents(".content").css("margin-top",-topHeight+"px");}};
